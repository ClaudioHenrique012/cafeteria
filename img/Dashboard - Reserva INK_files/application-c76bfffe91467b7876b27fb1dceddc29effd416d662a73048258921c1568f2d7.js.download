(()=>{function t(){return"undefined"!=typeof window}function e(){return!t()}function i(){return!t()||window.navigator.onLine}function n(){return!i()}function r(t,e,i){e.split&&(e=e.split("."));for(var n,r,o=0,s=e.length,a=t;o<s&&"__proto__"!==(r=e[o++])&&"constructor"!==r&&"prototype"!==r;)a=a[r]=o===s?i:typeof(n=a[r])==typeof e?n:0*e[o]!=0||~(""+e[o]).indexOf(".")?{}:[]}function o(t){return"string"==typeof t}function s(t){return"object"===Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function a(t){var e,i,n;return o(null!==(n=null!==(i=null!==(e=t.userId)&&void 0!==e?e:t.anonymousId)&&void 0!==i?i:t.groupId)&&void 0!==n?n:t.previousId)}function l(t){if(!t||"object"!=typeof t)throw new Es("event","Event is missing");if(!o(t.type))throw new Es("type","type is not a string");if("track"===t.type){if(!o(t.event))throw new Es("event","Event is not a string");if(!s(t.properties))throw new Es("properties","properties is not an object")}if(["group","identify"].includes(t.type)&&!s(t.traits))throw new Es("traits","traits is not an object");if(!a(t))throw new Es("userId/anonymousId/previousId/groupId","Must have userId or anonymousId or previousId or groupId")}function c(t,e){return new Promise((function(i,n){var r=setTimeout((function(){n(Error("Promise timed out"))}),e);t.then((function(t){return clearTimeout(r),i(t)})).catch(n)}))}function u(t){return new Promise((function(e){return setTimeout(e,t)}))}function d(t,e,i){var n=function(){try{return Promise.resolve(e(t))}catch(t){return Promise.reject(t)}};return u(i).then((function(){return c(n(),1e3)})).catch((function(e){null==t||t.log("warn","Callback Error",{error:e}),null==t||t.stats.increment("callback_error")})).then((function(){return t}))}function h(t){var e=Math.random()+1,i=t.minTimeout,n=void 0===i?500:i,r=t.factor,o=void 0===r?2:r,s=t.attempt,a=t.maxTimeout,l=void 0===a?1/0:a;return Math.min(e*n*Math.pow(o,s),l)}function p(){var t,e=0,i="";if(!Ts||Os+16>256){for(Ts=Array(e=256);e--;)Ts[e]=256*Math.random()|0;e=Os=0}for(;e<16;e++)t=Ts[Os+e],i+=6==e?Cs[15&t|64]:8==e?Cs[63&t|128]:Cs[t],1&e&&e>1&&e<11&&(i+="-");return Os++,i}function f(t,e){var i={};return t.forEach((function(t){var n,r=void 0;if("string"==typeof e){var o=t[e];r="string"!=typeof o?JSON.stringify(o):o}else e instanceof Function&&(r=e(t));void 0!==r&&(i[r]=ds(ds([],null!==(n=i[r])&&void 0!==n?n:[],!0),[t],!1))})),i}function g(t){return ns(this,void 0,void 0,(function(){var e;return rs(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t()];case 1:return[2,i.sent()];case 2:return e=i.sent(),[2,Promise.reject(e)];case 3:return[2]}}))}))}function m(t,e){t.log("debug","plugin",{plugin:e.name});var i=(new Date).getTime(),n=e[t.event.type];return void 0===n?Promise.resolve(t):g((function(){return n.apply(e,[t])})).then((function(t){var n=(new Date).getTime()-i;return t.stats.gauge("plugin_time",n,["plugin:".concat(e.name)]),t})).catch((function(i){if(i instanceof Ms&&"middleware_cancellation"===i.type)throw i;return i instanceof Ms?(t.log("warn",i.type,{plugin:e.name,error:i}),i):(t.log("error","plugin Error",{plugin:e.name,error:i}),t.stats.increment("plugin_error",1,["plugin:".concat(e.name)]),i)}))}function v(t,e){return m(t,e).then((function(e){if(e instanceof js)return e;t.log("debug","Context canceled"),t.stats.increment("context_canceled"),t.cancel(e)}))}function y(){return"undefined"!=typeof window}function b(){return!y()||window.navigator.onLine}function w(){return!b()}function k(t,e,i,n){return ns(this,void 0,void 0,(function(){var r,o;return rs(this,(function(s){switch(s.label){case 0:return i.emit("dispatch_start",t),r=Date.now(),e.isEmpty()?[4,e.dispatchSingle(t)]:[3,2];case 1:return o=s.sent(),[3,4];case 2:return[4,e.dispatch(t)];case 3:o=s.sent(),s.label=4;case 4:return(null==n?void 0:n.callback)?[4,d(o,n.callback,Ns(r,n.timeout))]:[3,6];case 5:o=s.sent(),s.label=6;case 6:return(null==n?void 0:n.debug)&&o.flush(),[2,o]}}))}))}function _(t,e){return e=e||{},new Promise((function(i,n){var r=new XMLHttpRequest,o=[],s=[],a={},l=function(){return{ok:2==(r.status/100|0),statusText:r.statusText,status:r.status,url:r.responseURL,text:function(){return Promise.resolve(r.responseText)},json:function(){return Promise.resolve(r.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([r.response]))},clone:l,headers:{keys:function(){return o},entries:function(){return s},get:function(t){return a[t.toLowerCase()]},has:function(t){return t.toLowerCase()in a}}}};for(var c in r.open(e.method||"get",t,!0),r.onload=function(){r.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,i){o.push(e=e.toLowerCase()),s.push([e,i]),a[e]=a[e]?a[e]+","+i:i})),i(l())},r.onerror=n,r.withCredentials="include"==e.credentials,e.headers)r.setRequestHeader(c,e.headers[c]);r.send(e.body||null)}))}function x(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}function E(t,e){function i(i,n,r){if("undefined"!=typeof document){"number"==typeof(r=x({},e,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var s in r)r[s]&&(o+="; "+s,!0!==r[s]&&(o+="="+r[s].split(";")[0]));return document.cookie=i+"="+t.write(n,i)+o}}function n(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var i=document.cookie?document.cookie.split("; "):[],n={},r=0;r<i.length;r++){var o=i[r].split("="),s=o.slice(1).join("=");try{var a=decodeURIComponent(o[0]);if(n[a]=t.read(s,a),e===a)break}catch(t){}}return e?n[e]:n}}return Object.create({set:i,get:n,remove:function(t,e){i(t,"",x({},e,{expires:-1}))},withAttributes:function(t){return E(this.converter,x({},this.attributes,t))},withConverter:function(t){return E(x({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}function A(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}}function S(t){var e=t.hostname.split("."),i=e[e.length-1],n=[];if(4===e.length&&parseInt(i,10)>0)return n;if(e.length<=1)return n;for(var r=e.length-2;r>=0;--r)n.push(e.slice(r).join("."));return n}function O(t){try{return new URL(t)}catch(t){return}}function C(t){var e=O(t);if(e)for(var i=S(e),n=0;n<i.length;++n){var r="__tld__",o=i[n],s={domain:"."+o};try{if(Ws.set(r,"1",s),Ws.get(r))return Ws.remove(r,s),o}catch(t){return}}}function T(t){for(var e=t.constructor.prototype,i=0,n=Object.getOwnPropertyNames(e);i<n.length;i++){var r=n[i];if("constructor"!==r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);o&&"function"==typeof o.value&&(t[r]=t[r].bind(t))}}return t}function D(t){return{cookie:Js.available()?new Js(t):void 0,localStorage:Gs.available()?new Gs:void 0,memory:new Ks}}function L(){if(ea)return ea;var t=C(window.location.href);return ea={expires:31536e6,secure:!1,path:"/"},t&&(ea.domain=t),ea}function I(){return ia}function P(){var t=Ws.get("_ga");if(t&&t.startsWith("amp"))return t}function M(t){return t.startsWith("?")&&(t=t.substring(1)),(t=t.replace(/\?/g,"&")).split("&").reduce((function(t,e){var i=e.split("="),n=i[0],r=i[1],o=void 0===r?"":r;if(n.includes("utm_")&&n.length>4){var s=n.substr(4);"campaign"===s&&(s="name"),t[s]=A(o)}return t}),{})}function j(t){var e={btid:"dataxu",urid:"millennial-media"};t.startsWith("?")&&(t=t.substring(1));for(var i=0,n=(t=t.replace(/\?/g,"&")).split("&");i<n.length;i++){var r=n[i].split("="),o=r[0],s=r[1];if(e[o])return{id:s,type:e[o]}}}function R(t,e,i){var n=new Qs(i?[]:["cookie"],D(L())),r=n.get("s:context.referrer"),o=j(t);(o=null!=o?o:r)&&(e&&(e.referrer=Jo(Jo({},e.referrer),o)),n.set("s:context.referrer",o))}function F(t,e,i,n){var r,o,s,a,l=t.user(),c=window.location.search;e.context=null!==(o=null!==(r=e.context)&&void 0!==r?r:e.options)&&void 0!==o?o:{};var u=e.context;delete e.options,e.writeKey=null==i?void 0:i.apiKey,u.userAgent=window.navigator.userAgent;var d=navigator.userLanguage||navigator.language;if(void 0===u.locale&&void 0!==d&&(u.locale=d),!u.library){var h=I();u.library="web"===h?{name:"analytics.js",version:"next-".concat(zs)}:{name:"analytics.js",version:"npm:next-".concat(zs)}}c&&!u.campaign&&(u.campaign=M(c)),R(c,u,null!==(s=t.options.disableClientPersistence)&&void 0!==s&&s),e.userId=e.userId||l.id(),e.anonymousId=e.anonymousId||l.anonymousId(),e.sentAt=new Date;var p=t.queue.failedInitializations||[];p.length>0&&(e._metadata={failedInitializations:p});var f=[],g=[];for(var m in n){var v=n[m];"Segment.io"===m&&f.push(m),"bundled"===v.bundlingStatus&&f.push(m),"unbundled"===v.bundlingStatus&&g.push(m)}for(var y=0,b=(null==i?void 0:i.unbundledIntegrations)||[];y<b.length;y++){var w=b[y];g.includes(w)||g.push(w)}var k=null!==(a=null==i?void 0:i.maybeBundledConfigIds)&&void 0!==a?a:{},_=[];f.sort().forEach((function(t){var e;(null!==(e=k[t])&&void 0!==e?e:[]).forEach((function(t){_.push(t)}))})),!1!==(null==i?void 0:i.addBundledMetadata)&&(e._metadata=Jo(Jo({},e._metadata),{bundled:f.sort(),unbundled:g.sort(),bundledIds:_}));var x=P();return x&&(u.amp={id:x}),e}function B(t){console.error("Error sending segment performance metrics",t)}function N(t){var e=ca.getItem(t);return(e?JSON.parse(e):[]).map((function(t){return new la(t.event,t.id)}))}function V(t,e){var i=N(t),n=ds(ds([],e,!0),i,!0).reduce((function(t,e){var i;return Jo(Jo({},t),((i={})[e.id]=e,i))}),{});ca.setItem(t,JSON.stringify(Object.values(n)))}function H(t){var e=ca.getItem(t);return e?JSON.parse(e):{}}function z(t,e){var i=H(t);ca.setItem(t,JSON.stringify(Jo(Jo({},i),e)))}function q(t){ca.removeItem(t)}function W(t,e,i){void 0===i&&(i=0);var n=50,r="persisted-queue:v1:".concat(t,":lock"),o=function(t){return(new Date).getTime()>t},s=ca.getItem(r),a=s?JSON.parse(s):null,l=null===a||o(a);if(l)return ca.setItem(r,JSON.stringify(ua()+n)),e(),void ca.removeItem(r);!l&&i<3?setTimeout((function(){W(t,e,i+1)}),n):console.error("Unable to retrieve lock")}function U(t){var e=t;return!!(e.ctrlKey||e.shiftKey||e.metaKey||e.button&&1==e.button)}function K(t,e){return!("_blank"!==t.target||!e)}function $(t,e,i,n){var r=this;return t?((t instanceof Element?[t]:"toArray"in t?t.toArray():t).forEach((function(t){t.addEventListener("click",(function(o){var s,a,l=e instanceof Function?e(t):e,u=i instanceof Function?i(t):i,d=t.getAttribute("href")||t.getAttributeNS("http://www.w3.org/1999/xlink","href")||t.getAttribute("xlink:href")||(null===(s=t.getElementsByTagName("a")[0])||void 0===s?void 0:s.getAttribute("href")),h=c(r.track(l,u,null!=n?n:{}),null!==(a=r.settings.timeout)&&void 0!==a?a:500);K(t,d)||U(o)||d&&(o.preventDefault?o.preventDefault():o.returnValue=!1,h.catch(console.error).then((function(){window.location.href=d})).catch(console.error))}),!1)})),this):this}function J(t,e,i,n){var r=this;return t?(t instanceof HTMLFormElement&&(t=[t]),t.forEach((function(t){if(!(t instanceof Element))throw new TypeError("Must pass HTMLElement to trackForm/trackSubmit.");var o=function(o){var s;o.preventDefault?o.preventDefault():o.returnValue=!1;var a=e instanceof Function?e(t):e,l=i instanceof Function?i(t):i;c(r.track(a,l,null!=n?n:{}),null!==(s=r.settings.timeout)&&void 0!==s?s:500).catch(console.error).then((function(){t.submit()})).catch(console.error)},s=window.jQuery||window.Zepto;s?s(t).submit(o):t.addEventListener("submit",o,!1)})),this):this}function Y(t,e){var i=new Al.Facade(t,e);return"track"===t.type&&(i=new Al.Track(t,e)),"identify"===t.type&&(i=new Al.Identify(t,e)),"page"===t.type&&(i=new Al.Page(t,e)),"alias"===t.type&&(i=new Al.Alias(t,e)),"group"===t.type&&(i=new Al.Group(t,e)),"screen"===t.type&&(i=new Al.Screen(t,e)),Object.defineProperty(i,"obj",{value:t,writable:!0}),i}function G(t,e,i){return ns(this,void 0,void 0,(function(){function n(e,i){return ns(this,void 0,void 0,(function(){var n,r,o;return rs(this,(function(s){switch(s.label){case 0:return n=!1,r=null,[4,i({payload:Y(e,{clone:!0,traverse:!1}),integration:t,next:function(t){n=!0,null===t&&(r=null),t&&(r=t.obj)}})];case 1:return s.sent(),n||null===r||(r.integrations=Jo(Jo({},e.integrations),((o={})[t]=!1,o))),[2,r]}}))}))}var r,o,s,a,l;return rs(this,(function(t){switch(t.label){case 0:r=Y(e,{clone:!0,traverse:!1}).rawEvent(),o=0,s=i,t.label=1;case 1:return o<s.length?(a=s[o],[4,n(r,a)]):[3,4];case 2:if(null===(l=t.sent()))return[2,null];r=l,t.label=3;case 3:return o++,[3,1];case 4:return[2,r]}}))}))}function Q(t,e){function i(i){return ns(this,void 0,void 0,(function(){var n;return rs(this,(function(r){switch(r.label){case 0:return n=!1,[4,t({payload:Y(i.event,{clone:!0,traverse:!1}),integrations:null!=e?e:{},next:function(t){n=!0,t&&(i.event=t.obj)}})];case 1:if(r.sent(),!n)throw new Ms({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,i]}}))}))}return{name:"Source Middleware ".concat(t.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(t){return Promise.resolve(t)},track:i,page:i,identify:i,alias:i,group:i}}function X(t,e){return Object.keys(e).reduce((function(i,n){n.startsWith(t)&&(i[n.substr(t.length)]=e[n]);return i}),{})}function Z(t,e){var i=document.createElement("a");i.href=e;var n=i.search.slice(1).split("&").reduce((function(t,e){var i=e.split("="),n=i[0],r=i[1];return t[n]=A(r),t}),{}),r=[],o=n.ajs_uid,a=n.ajs_event,l=n.ajs_aid,c=s(t.options.useQueryString)?t.options.useQueryString:{},u=c.aid,d=void 0===u?/.+/:u,h=c.uid,p=void 0===h?/.+/:h;if(l){var f=Array.isArray(n.ajs_aid)?n.ajs_aid[0]:n.ajs_aid;d.test(f)&&t.setAnonymousId(f)}if(o){var g=Array.isArray(n.ajs_uid)?n.ajs_uid[0]:n.ajs_uid;if(p.test(g)){var m=X("ajs_trait_",n);r.push(t.identify(g,m))}}if(a){var v=Array.isArray(n.ajs_event)?n.ajs_event[0]:n.ajs_event,y=X("ajs_prop_",n);r.push(t.track(v,y))}return Promise.all(r)}function tt(t,e){var i,n=Object.entries(null!==(i=e.integrations)&&void 0!==i?i:{}).reduce((function(t,e){var i,n,r=e[0],o=e[1];return Jo(Jo({},t),"object"==typeof o?((i={})[r]=o,i):((n={})[r]={},n))}),{});return Object.entries(t.integrations).reduce((function(t,e){var i,r=e[0],o=e[1];return Jo(Jo({},t),((i={})[r]=Jo(Jo({},o),n[r]),i))}),{})}function et(t){return Array.prototype.slice.call(window.document.querySelectorAll("script")).find((function(e){return e.src===t}))}function it(t,e){var i=et(t);if(void 0!==i){var n=null==i?void 0:i.getAttribute("status");if("loaded"===n)return Promise.resolve(i);if("loading"===n)return new Promise((function(t,e){i.addEventListener("load",(function(){return t(i)})),i.addEventListener("error",(function(t){return e(t)}))}))}return new Promise((function(i,n){var r,o=window.document.createElement("script");o.type="text/javascript",o.src=t,o.async=!0,o.setAttribute("status","loading");for(var s=0,a=Object.entries(null!=e?e:{});s<a.length;s++){var l=a[s],c=l[0],u=l[1];o.setAttribute(c,u)}o.onload=function(){o.onerror=o.onload=null,o.setAttribute("status","loaded"),i(o)},o.onerror=function(){o.onerror=o.onload=null,o.setAttribute("status","error"),n(new Error("Failed to load ".concat(t)))};var d=window.document.getElementsByTagName("script")[0];null===(r=d.parentElement)||void 0===r||r.insertBefore(o,d)}))}function nt(t){var e=et(t);return void 0!==e&&e.remove(),Promise.resolve()}function rt(t,e){var i,n;return"boolean"==typeof(null==e?void 0:e.enabled)?e.enabled:null===(n=null===(i=null==t?void 0:t.__default)||void 0===i?void 0:i.enabled)||void 0===n||n}function ot(t){return t.toLowerCase().replace(".","").replace(/\s+/g,"-")}function st(t,e){return void 0===e&&(e=!1),e?btoa(t).replace(/=/g,""):void 0}function at(t){return("Integration"in t?t.Integration:t).prototype.name}function lt(t,e,i){var n,r;try{var o=(null!==(r=null===(n=null===window||void 0===window?void 0:window.performance)||void 0===n?void 0:n.getEntriesByName(t,"resource"))&&void 0!==r?r:[])[0];o&&e.stats.gauge("legacy_destination_time",Math.round(o.duration),ds([i],o.duration<100?["cached"]:[],!0))}catch(t){}}function ct(t,e,i){var n;"Integration"in t?(t({user:function(){return i.user()},addIntegration:function(){}}),n=t.Integration):n=t;var r=new n(e);return r.analytics=i,r}function ut(t,e,i,n){return ns(this,void 0,void 0,(function(){var r,o,s,a,l,c;return rs(this,(function(u){switch(u.label){case 0:r=ot(e),o=st(r,n),s=rc(),a="".concat(s,"/integrations/").concat(null!=o?o:r,"/").concat(i,"/").concat(null!=o?o:r,".dynamic.js.gz"),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,it(a)];case 2:return u.sent(),lt(a,t,e),[3,4];case 3:throw l=u.sent(),t.stats.gauge("legacy_destination_time",-1,["plugin:".concat(e),"failed"]),l;case 4:return c=window["".concat(r,"Deps")],[4,Promise.all(c.map((function(t){return it(s+t+".gz")})))];case 5:return u.sent(),window["".concat(r,"Loader")](),[2,window["".concat(r,"Integration")]]}}))}))}function dt(t,e,i){return ns(this,void 0,void 0,(function(){var n,r,o;return rs(this,(function(){return n=rc(),r=ot(t),o=st(t,i),[2,nt("".concat(n,"/integrations/").concat(null!=o?o:r,"/").concat(e,"/").concat(null!=o?o:r,".dynamic.js.gz"))]}))}))}function ht(t){var e,i,n,r;return null!==(r=null!==(i=null===(e=null==t?void 0:t.versionSettings)||void 0===e?void 0:e.override)&&void 0!==i?i:null===(n=null==t?void 0:t.versionSettings)||void 0===n?void 0:n.version)&&void 0!==r?r:"latest"}function pt(t,e){return ns(this,void 0,void 0,(function(){var r,o=this;return rs(this,(function(s){switch(s.label){case 0:return r=[],n()?[2,e]:[4,oc((function(){return e.length>0&&i()}),(function(){return ns(o,void 0,void 0,(function(){var i,n;return rs(this,(function(o){switch(o.label){case 0:return(i=e.pop())?[4,m(i,t)]:[2];case 1:return n=o.sent(),n instanceof la||r.push(i),[2]}}))}))}))];case 1:return s.sent(),r.map((function(t){return e.pushWithBackoff(t)})),[2,e]}}))}))}function ft(t,i,n,r,o){var a,l;if(void 0===i&&(i={}),void 0===n&&(n={}),e())return[];t.plan&&((n=null!=n?n:{}).plan=t.plan);var c=null!==(l=null===(a=t.middlewareSettings)||void 0===a?void 0:a.routingRules)&&void 0!==l?l:[],u=t.integrations,d=n.integrations,h=tt(t,null!=n?n:{}),p=null==o?void 0:o.reduce((function(t,e){var i;return Jo(Jo({},t),((i={})[at(e)]=e,i))}),{}),f=new Set(ds(ds([],Object.keys(u).filter((function(t){return ad(t,u[t])})),!0),Object.keys(p||{}).filter((function(t){return s(u[t])||s(null==d?void 0:d[t])})),!0));return Array.from(f).filter((function(t){return!ld(t,i)})).map((function(t){var e=ht(u[t]),i=new ud(t,e,h[t],n,null==p?void 0:p[t]);return c.filter((function(e){return e.destinationName===t})).length>0&&r&&i.addMiddleware(r),i}))}function gt(t){return ns(this,void 0,void 0,(function(){var e;return rs(this,(function(i){switch(i.label){case 0:return[4,Promise.resolve().then((()=>Ea(vd())))];case 1:return e=i.sent(),t._plugins=e,[2]}}))}))}function mt(t,e){var i,n;if(!t||!Object.keys(t))return{};var r=t.integrations?Object.keys(t.integrations).filter((function(e){return!1===t.integrations[e]})):[],o=[];return(null!==(i=e.remotePlugins)&&void 0!==i?i:[]).forEach((function(t){r.forEach((function(e){(t.name.includes(e)||e.includes(t.name))&&o.push(t.name)}))})),(null!==(n=e.remotePlugins)&&void 0!==n?n:[]).reduce((function(t,e){return e.settings.subscriptions&&o.includes(e.name)&&e.settings.subscriptions.forEach((function(i){return t["".concat(e.name," ").concat(i.partnerAction)]=!1})),t}),{})}function vt(t,e){function i(i){var n=t,r=i.event.event;if(n&&r){var o=n[r];if(!rt(n,o))return i.updateEvent("integrations",Jo(Jo({},i.event.integrations),{All:!1,"Segment.io":!0})),i;var s=mt(o,e);i.updateEvent("integrations",Jo(Jo(Jo({},i.event.integrations),null==o?void 0:o.integrations),s))}return i}return{name:"Schema Filter",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},type:"before",page:i,alias:i,track:i,identify:i,group:i}}function yt(t,i,n){var r;return ns(this,void 0,void 0,(function(){var o,s,a,l,c=this;return rs(this,(function(u){switch(u.label){case 0:return e()?[2,[]]:(o=rc(),s=null!==(r=i.enabledMiddleware)&&void 0!==r?r:{},a=Object.entries(s).filter((function(t){t[0];return t[1]})).map((function(t){return t[0]})),l=a.map((function(e){return ns(c,void 0,void 0,(function(){var i,r,s,a;return rs(this,(function(l){switch(l.label){case 0:i=e.replace("@segment/",""),r=i,n&&(r=btoa(i).replace(/=/g,"")),s="".concat(o,"/middleware/").concat(r,"/latest/").concat(r,".js.gz"),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,it(s)];case 2:return l.sent(),[2,window["".concat(i,"Middleware")]];case 3:return a=l.sent(),t.log("error",a),t.stats.increment("failed_remote_middleware"),[3,4];case 4:return[2]}}))}))})),[4,Promise.all(l)]);case 1:return[2,u.sent().filter(Boolean)]}}))}))}function bt(t){if("immediatePropagationStopped"in t)return t;{const{stopImmediatePropagation:e}=t;return Object.assign(t,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}function wt(t){const e=t.trim().match(Td)||[];let i=e[2],n=e[3];return n&&!["keydown","keyup","keypress"].includes(i)&&(i+=`.${n}`,n=""),{eventTarget:kt(e[4]),eventName:i,eventOptions:e[7]?_t(e[7]):{},identifier:e[5],methodName:e[6],keyFilter:e[1]||n}}function kt(t){return"window"==t?window:"document"==t?document:void 0}function _t(t){return t.split(":").reduce(((t,e)=>Object.assign(t,{[e.replace(/^!/,"")]:!/^!/.test(e)})),{})}function xt(t){return t==window?"window":t==document?"document":void 0}function Et(t){return t.replace(/(?:[_-])([a-z0-9])/g,((t,e)=>e.toUpperCase()))}function At(t){return Et(t.replace(/--/g,"-").replace(/__/g,"_"))}function St(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Ot(t){return t.replace(/([A-Z])/g,((t,e)=>`-${e.toLowerCase()}`))}function Ct(t){return t.match(/[^\s]+/g)||[]}function Tt(t){return null!=t}function Dt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Lt(t){const e=t.tagName.toLowerCase();if(e in Id)return Id[e](t)}function It(t){throw new Error(t)}function Pt(t){try{return JSON.parse(t)}catch(e){return t}}function Mt(t,e,i){Rt(t,e).add(i)}function jt(t,e,i){Rt(t,e).delete(i),Ft(t,e)}function Rt(t,e){let i=t.get(e);return i||(i=new Set,t.set(e,i)),i}function Ft(t,e){const i=t.get(e);null!=i&&0==i.size&&t.delete(e)}function Bt(t,e,i){return t.trim().split(/\s+/).filter((t=>t.length)).map(((t,n)=>({element:e,attributeName:i,content:t,index:n})))}function Nt(t,e){const i=Math.max(t.length,e.length);return Array.from({length:i},((i,n)=>[t[n],e[n]]))}function Vt(t,e){return t&&e&&t.index==e.index&&t.content==e.content}function Ht(t,e){const i=qt(t);return Array.from(i.reduce(((t,i)=>(Wt(i,e).forEach((e=>t.add(e))),t)),new Set))}function zt(t,e){return qt(t).reduce(((t,i)=>(t.push(...Ut(i,e)),t)),[])}function qt(t){const e=[];for(;t;)e.push(t),t=Object.getPrototypeOf(t);return e.reverse()}function Wt(t,e){const i=t[e];return Array.isArray(i)?i:[]}function Ut(t,e){const i=t[e];return i?Object.keys(i).map((t=>[t,i[t]])):[]}function Kt(t){return $t(t,Jt(t))}function $t(t,e){const i=$d(t),n=Yt(t.prototype,e);return Object.defineProperties(i.prototype,n),i}function Jt(t){return Ht(t,"blessings").reduce(((e,i)=>{const n=i(t);for(const t in n){const i=e[t]||{};e[t]=Object.assign(i,n[t])}return e}),{})}function Yt(t,e){return Kd(e).reduce(((i,n)=>{const r=Gt(t,e,n);return r&&Object.assign(i,{[n]:r}),i}),{})}function Gt(t,e,i){const n=Object.getOwnPropertyDescriptor(t,i);if(!(n&&"value"in n)){const t=Object.getOwnPropertyDescriptor(e,i).value;return n&&(t.get=n.get||t.get,t.set=n.set||t.set),t}}function Qt(t){return{identifier:t.identifier,controllerConstructor:Kt(t.controllerConstructor)}}function Xt(t,e){return`[${t}~="${e}"]`}function Zt(t){return t.reduce(((t,[e,i])=>Object.assign(Object.assign({},t),{[e]:i})),{})}function te(){return new Promise((t=>{"loading"==document.readyState?document.addEventListener("DOMContentLoaded",(()=>t())):t()}))}function ee(t){return Ht(t,"classes").reduce(((t,e)=>Object.assign(t,ie(e))),{})}function ie(t){return{[`${t}Class`]:{get(){const{classes:e}=this;if(e.has(t))return e.get(t);{const i=e.getAttributeName(t);throw new Error(`Missing attribute "${i}"`)}}},[`${t}Classes`]:{get(){return this.classes.getAll(t)}},[`has${St(t)}Class`]:{get(){return this.classes.has(t)}}}}function ne(t){return Ht(t,"outlets").reduce(((t,e)=>Object.assign(t,se(e))),{})}function re(t,e,i){return t.application.getControllerForElementAndIdentifier(e,i)}function oe(t,e,i){let n=re(t,e,i);return n||(t.application.router.proposeToConnectScopeForElementAndIdentifier(e,i),n=re(t,e,i),n||void 0)}function se(t){const e=At(t);return{[`${e}Outlet`]:{get(){const e=this.outlets.find(t),i=this.outlets.getSelectorForOutletName(t);if(e){const i=oe(this,e,t);if(i)return i;throw new Error(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${i}".`)}},[`${e}Outlets`]:{get(){const e=this.outlets.findAll(t);return e.length>0?e.map((e=>{const i=oe(this,e,t);if(i)return i;console.warn(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`,e)})).filter((t=>t)):[]}},[`${e}OutletElement`]:{get(){const e=this.outlets.find(t),i=this.outlets.getSelectorForOutletName(t);if(e)return e;throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${i}".`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(t)}},[`has${St(e)}Outlet`]:{get(){return this.outlets.has(t)}}}}function ae(t){return Ht(t,"targets").reduce(((t,e)=>Object.assign(t,le(e))),{})}function le(t){return{[`${t}Target`]:{get(){const e=this.targets.find(t);if(e)return e;throw new Error(`Missing target element "${t}" for "${this.identifier}" controller`)}},[`${t}Targets`]:{get(){return this.targets.findAll(t)}},[`has${St(t)}Target`]:{get(){return this.targets.has(t)}}}}function ce(t){const e=zt(t,"values"),i={valueDescriptorMap:{get(){return e.reduce(((t,e)=>{const i=de(e,this.identifier),n=this.data.getAttributeNameForKey(i.key);return Object.assign(t,{[n]:i})}),{})}}};return e.reduce(((t,e)=>Object.assign(t,ue(e))),i)}function ue(t,e){const i=de(t,e),{key:n,name:r,reader:o,writer:s}=i;return{[r]:{get(){const t=this.data.get(n);return null!==t?o(t):i.defaultValue},set(t){void 0===t?this.data.delete(n):this.data.set(n,s(t))}},[`has${St(r)}`]:{get(){return this.data.has(n)||i.hasCustomDefaultValue}}}}function de([t,e],i){return ve({controller:i,token:t,typeDefinition:e})}function he(t){switch(t){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function pe(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}return Array.isArray(t)?"array":"[object Object]"===Object.prototype.toString.call(t)?"object":void 0}function fe(t){const{controller:e,token:i,typeObject:n}=t,r=Tt(n.type),o=Tt(n.default),s=r&&o,a=r&&!o,l=!r&&o,c=he(n.type),u=pe(t.typeObject.default);if(a)return c;if(l)return u;if(c!==u){throw new Error(`The specified default value for the Stimulus Value "${e?`${e}.${i}`:i}" must match the defined type "${c}". The provided default value of "${n.default}" is of type "${u}".`)}return s?c:void 0}function ge(t){const{controller:e,token:i,typeDefinition:n}=t,r=fe({controller:e,token:i,typeObject:n}),o=pe(n),s=he(n),a=r||o||s;if(a)return a;throw new Error(`Unknown value type "${e?`${e}.${n}`:i}" for "${i}" value`)}function me(t){const e=he(t);if(e)return oh[e];const i=Dt(t,"default"),n=Dt(t,"type"),r=t;if(i)return r.default;if(n){const{type:t}=r,e=he(t);if(e)return oh[e]}return t}function ve(t){const{token:e,typeDefinition:i}=t,n=`${Ot(e)}-value`,r=ge(t);return{type:r,key:n,name:Et(n),get defaultValue(){return me(i)},get hasCustomDefaultValue(){return void 0!==pe(i)},reader:sh[r],writer:ah[r]||ah.default}}function ye(t){return JSON.stringify(t)}function be(t){return`${t}`}function we(){document.querySelectorAll("[data-accordion]").forEach((function(t){var e=t.getAttribute("data-accordion"),i=t.getAttribute("data-active-classes"),n=t.getAttribute("data-inactive-classes"),r=[];t.querySelectorAll("[data-accordion-target]").forEach((function(e){if(e.closest("[data-accordion]")===t){var i={id:e.getAttribute("data-accordion-target"),triggerEl:e,targetEl:document.querySelector(e.getAttribute("data-accordion-target")),iconEl:e.querySelector("[data-accordion-icon]"),active:"true"===e.getAttribute("aria-expanded")};r.push(i)}})),new vh(t,r,{alwaysOpen:"open"===e,activeClasses:i||gh.activeClasses,inactiveClasses:n||gh.inactiveClasses})}))}function ke(){document.querySelectorAll("[data-collapse-toggle]").forEach((function(t){var e=t.getAttribute("data-collapse-toggle"),i=document.getElementById(e);i?ph.instanceExists("Collapse",i.getAttribute("id"))?new kh(i,t,{},{id:i.getAttribute("id")+"_"+ph._generateRandomId()}):new kh(i,t):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-collapse-toggle attribute.'))}))}function _e(){document.querySelectorAll("[data-carousel]").forEach((function(t){var e=t.getAttribute("data-carousel-interval"),i="slide"===t.getAttribute("data-carousel"),n=[],r=0;t.querySelectorAll("[data-carousel-item]").length&&Array.from(t.querySelectorAll("[data-carousel-item]")).map((function(t,e){n.push({position:e,el:t}),"active"===t.getAttribute("data-carousel-item")&&(r=e)}));var o=[];t.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(t.querySelectorAll("[data-carousel-slide-to]")).map((function(t){o.push({position:parseInt(t.getAttribute("data-carousel-slide-to")),el:t})}));var s=new Ah(t,n,{defaultPosition:r,indicators:{items:o},interval:e||xh.interval});i&&s.cycle();var a=t.querySelector("[data-carousel-next]"),l=t.querySelector("[data-carousel-prev]");a&&a.addEventListener("click",(function(){s.next()})),l&&l.addEventListener("click",(function(){s.prev()}))}))}function xe(){document.querySelectorAll("[data-dismiss-target]").forEach((function(t){var e=t.getAttribute("data-dismiss-target"),i=document.querySelector(e);i?new Th(i,t):console.error('The dismiss element with id "'.concat(e,'" does not exist. Please check the data-dismiss-target attribute.'))}))}function Ee(t){return t?(t.nodeName||"").toLowerCase():null}function Ae(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Se(t){return t instanceof Ae(t).Element||t instanceof Element}function Oe(t){return t instanceof Ae(t).HTMLElement||t instanceof HTMLElement}function Ce(t){return"undefined"!=typeof ShadowRoot&&(t instanceof Ae(t).ShadowRoot||t instanceof ShadowRoot)}function Te(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var i=e.styles[t]||{},n=e.attributes[t]||{},r=e.elements[t];Oe(r)&&Ee(r)&&(Object.assign(r.style,i),Object.keys(n).forEach((function(t){var e=n[t];!1===e?r.removeAttribute(t):r.setAttribute(t,!0===e?"":e)})))}))}function De(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach((function(t){var n=e.elements[t],r=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:i[t]).reduce((function(t,e){return t[e]="",t}),{});Oe(n)&&Ee(n)&&(Object.assign(n.style,o),Object.keys(r).forEach((function(t){n.removeAttribute(t)})))}))}}function Le(t){return t.split("-")[0]}function Ie(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function Pe(){return!/^((?!chrome|android).)*safari/i.test(Ie())}function Me(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var n=t.getBoundingClientRect(),r=1,o=1;e&&Oe(t)&&(r=t.offsetWidth>0&&Jh(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Jh(n.height)/t.offsetHeight||1);var s=(Se(t)?Ae(t):window).visualViewport,a=!Pe()&&i,l=(n.left+(a&&s?s.offsetLeft:0))/r,c=(n.top+(a&&s?s.offsetTop:0))/o,u=n.width/r,d=n.height/o;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function je(t){var e=Me(t),i=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function Re(t,e){var i=e.getRootNode&&e.getRootNode()
;if(t.contains(e))return!0;if(i&&Ce(i)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Fe(t){return Ae(t).getComputedStyle(t)}function Be(t){return["table","td","th"].indexOf(Ee(t))>=0}function Ne(t){return((Se(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ve(t){return"html"===Ee(t)?t:t.assignedSlot||t.parentNode||(Ce(t)?t.host:null)||Ne(t)}function He(t){return Oe(t)&&"fixed"!==Fe(t).position?t.offsetParent:null}function ze(t){var e=/firefox/i.test(Ie());if(/Trident/i.test(Ie())&&Oe(t)&&"fixed"===Fe(t).position)return null;var i=Ve(t);for(Ce(i)&&(i=i.host);Oe(i)&&["html","body"].indexOf(Ee(i))<0;){var n=Fe(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||e&&"filter"===n.willChange||e&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}function qe(t){for(var e=Ae(t),i=He(t);i&&Be(i)&&"static"===Fe(i).position;)i=He(i);return i&&("html"===Ee(i)||"body"===Ee(i)&&"static"===Fe(i).position)?e:i||ze(t)||e}function We(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ue(t,e,i){return Kh(t,$h(e,i))}function Ke(t,e,i){var n=Ue(t,e,i);return n>i?i:n}function $e(){return{top:0,right:0,bottom:0,left:0}}function Je(t){return Object.assign({},$e(),t)}function Ye(t,e){return e.reduce((function(e,i){return e[i]=t,e}),{})}function Ge(t){var e,i=t.state,n=t.name,r=t.options,o=i.elements.arrow,s=i.modifiersData.popperOffsets,a=Le(i.placement),l=We(a),c=[Ph,Ih].indexOf(a)>=0?"height":"width";if(o&&s){var u=Yh(r.padding,i),d=je(o),h="y"===l?Dh:Ph,p="y"===l?Lh:Ih,f=i.rects.reference[c]+i.rects.reference[l]-s[l]-i.rects.popper[c],g=s[l]-i.rects.reference[l],m=qe(o),v=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,y=f/2-g/2,b=u[h],w=v-d[c]-u[p],k=v/2-d[c]/2+y,_=Ue(b,k,w),x=l;i.modifiersData[n]=((e={})[x]=_,e.centerOffset=_-k,e)}}function Qe(t){var e=t.state,i=t.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=e.elements.popper.querySelector(n)))&&Re(e.elements.popper,n)&&(e.elements.arrow=n)}function Xe(t){return t.split("-")[1]}function Ze(t,e){var i=t.x,n=t.y,r=e.devicePixelRatio||1;return{x:Jh(i*r)/r||0,y:Jh(n*r)/r||0}}function ti(t){var e,i=t.popper,n=t.popperRect,r=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=s.x,p=void 0===h?0:h,f=s.y,g=void 0===f?0:f,m="function"==typeof u?u({x:p,y:g}):{x:p,y:g};p=m.x,g=m.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=Ph,w=Dh,k=window;if(c){var _=qe(i),x="clientHeight",E="clientWidth";if(_===Ae(i)&&"static"!==Fe(_=Ne(i)).position&&"absolute"===a&&(x="scrollHeight",E="scrollWidth"),r===Dh||(r===Ph||r===Ih)&&o===Fh)w=Lh,g-=(d&&_===k&&k.visualViewport?k.visualViewport.height:_[x])-n.height,g*=l?1:-1;if(r===Ph||(r===Dh||r===Lh)&&o===Fh)b=Ih,p-=(d&&_===k&&k.visualViewport?k.visualViewport.width:_[E])-n.width,p*=l?1:-1}var A,S=Object.assign({position:a},c&&Gh),O=!0===u?Ze({x:p,y:g},Ae(i)):{x:p,y:g};return p=O.x,g=O.y,l?Object.assign({},S,((A={})[w]=y?"0":"",A[b]=v?"0":"",A.transform=(k.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",A)):Object.assign({},S,((e={})[w]=y?g+"px":"",e[b]=v?p+"px":"",e.transform="",e))}function ei(t){var e=t.state,i=t.options,n=i.gpuAcceleration,r=void 0===n||n,o=i.adaptive,s=void 0===o||o,a=i.roundOffsets,l=void 0===a||a,c={placement:Le(e.placement),variation:Xe(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,ti(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,ti(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}function ii(t){var e=t.state,i=t.instance,n=t.options,r=n.scroll,o=void 0===r||r,s=n.resize,a=void 0===s||s,l=Ae(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach((function(t){t.addEventListener("scroll",i.update,Qh)})),a&&l.addEventListener("resize",i.update,Qh),function(){o&&c.forEach((function(t){t.removeEventListener("scroll",i.update,Qh)})),a&&l.removeEventListener("resize",i.update,Qh)}}function ni(t){return t.replace(/left|right|bottom|top/g,(function(t){return Xh[t]}))}function ri(t){return t.replace(/start|end/g,(function(t){return Zh[t]}))}function oi(t){var e=Ae(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function si(t){return Me(Ne(t)).left+oi(t).scrollLeft}function ai(t,e){var i=Ae(t),n=Ne(t),r=i.visualViewport,o=n.clientWidth,s=n.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var c=Pe();(c||!c&&"fixed"===e)&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+si(t),y:l}}function li(t){var e,i=Ne(t),n=oi(t),r=null==(e=t.ownerDocument)?void 0:e.body,o=Kh(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=Kh(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-n.scrollLeft+si(t),l=-n.scrollTop;return"rtl"===Fe(r||i).direction&&(a+=Kh(i.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function ci(t){var e=Fe(t),i=e.overflow,n=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+n)}function ui(t){return["html","body","#document"].indexOf(Ee(t))>=0?t.ownerDocument.body:Oe(t)&&ci(t)?t:ui(Ve(t))}function di(t,e){var i;void 0===e&&(e=[]);var n=ui(t),r=n===(null==(i=t.ownerDocument)?void 0:i.body),o=Ae(n),s=r?[o].concat(o.visualViewport||[],ci(n)?n:[]):n,a=e.concat(s);return r?a:a.concat(di(Ve(s)))}function hi(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function pi(t,e){var i=Me(t,!1,"fixed"===e);return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}function fi(t,e,i){return e===Nh?hi(ai(t,i)):Se(e)?pi(e,i):hi(li(Ne(t)))}function gi(t){var e=di(Ve(t)),i=["absolute","fixed"].indexOf(Fe(t).position)>=0&&Oe(t)?qe(t):t;return Se(i)?e.filter((function(t){return Se(t)&&Re(t,i)&&"body"!==Ee(t)})):[]}function mi(t,e,i,n){var r="clippingParents"===e?gi(t):[].concat(e),o=[].concat(r,[i]),s=o[0],a=o.reduce((function(e,i){var r=fi(t,i,n);return e.top=Kh(r.top,e.top),e.right=$h(r.right,e.right),e.bottom=$h(r.bottom,e.bottom),e.left=Kh(r.left,e.left),e}),fi(t,s,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function vi(t){var e,i=t.reference,n=t.element,r=t.placement,o=r?Le(r):null,s=r?Xe(r):null,a=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(o){case Dh:e={x:a,y:i.y-n.height};break;case Lh:e={x:a,y:i.y+i.height};break;case Ih:e={x:i.x+i.width,y:l};break;case Ph:e={x:i.x-n.width,y:l};break;default:e={x:i.x,y:i.y}}var c=o?We(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case Rh:e[c]=e[c]-(i[u]/2-n[u]/2);break;case Fh:e[c]=e[c]+(i[u]/2-n[u]/2)}}return e}function yi(t,e){void 0===e&&(e={});var i=e,n=i.placement,r=void 0===n?t.placement:n,o=i.strategy,s=void 0===o?t.strategy:o,a=i.boundary,l=void 0===a?Bh:a,c=i.rootBoundary,u=void 0===c?Nh:c,d=i.elementContext,h=void 0===d?Vh:d,p=i.altBoundary,f=void 0!==p&&p,g=i.padding,m=void 0===g?0:g,v=Je("number"!=typeof m?m:Ye(m,jh)),y=h===Vh?Hh:Vh,b=t.rects.popper,w=t.elements[f?y:h],k=mi(Se(w)?w:w.contextElement||Ne(t.elements.popper),l,u,s),_=Me(t.elements.reference),x=vi({reference:_,element:b,strategy:"absolute",placement:r}),E=hi(Object.assign({},b,x)),A=h===Vh?E:_,S={top:k.top-A.top+v.top,bottom:A.bottom-k.bottom+v.bottom,left:k.left-A.left+v.left,right:A.right-k.right+v.right},O=t.modifiersData.offset;if(h===Vh&&O){var C=O[r];Object.keys(S).forEach((function(t){var e=[Ih,Lh].indexOf(t)>=0?1:-1,i=[Dh,Lh].indexOf(t)>=0?"y":"x";S[t]+=C[i]*e}))}return S}function bi(t,e){void 0===e&&(e={});var i=e,n=i.placement,r=i.boundary,o=i.rootBoundary,s=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=void 0===l?qh:l,u=Xe(n),d=u?a?zh:zh.filter((function(t){return Xe(t)===u})):jh,h=d.filter((function(t){return c.indexOf(t)>=0}));0===h.length&&(h=d);var p=h.reduce((function(e,i){return e[i]=yi(t,{placement:i,boundary:r,rootBoundary:o,padding:s})[Le(i)],e}),{});return Object.keys(p).sort((function(t,e){return p[t]-p[e]}))}function wi(t){if(Le(t)===Mh)return[];var e=ni(t);return[ri(t),e,ri(e)]}function ki(t){var e=t.state,i=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var r=i.mainAxis,o=void 0===r||r,s=i.altAxis,a=void 0===s||s,l=i.fallbackPlacements,c=i.padding,u=i.boundary,d=i.rootBoundary,h=i.altBoundary,p=i.flipVariations,f=void 0===p||p,g=i.allowedAutoPlacements,m=e.options.placement,v=Le(m),y=l||(v===m||!f?[ni(m)]:wi(m)),b=[m].concat(y).reduce((function(t,i){return t.concat(Le(i)===Mh?bi(e,{placement:i,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:g}):i)}),[]),w=e.rects.reference,k=e.rects.popper,_=new Map,x=!0,E=b[0],A=0;A<b.length;A++){var S=b[A],O=Le(S),C=Xe(S)===Rh,T=[Dh,Lh].indexOf(O)>=0,D=T?"width":"height",L=yi(e,{placement:S,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),I=T?C?Ih:Ph:C?Lh:Dh;w[D]>k[D]&&(I=ni(I));var P=ni(I),M=[];if(o&&M.push(L[O]<=0),a&&M.push(L[I]<=0,L[P]<=0),M.every((function(t){return t}))){E=S,x=!1;break}_.set(S,M)}if(x)for(var j=function(t){var e=b.find((function(e){var i=_.get(e);if(i)return i.slice(0,t).every((function(t){return t}))}));if(e)return E=e,"break"},R=f?3:1;R>0;R--){if("break"===j(R))break}e.placement!==E&&(e.modifiersData[n]._skip=!0,e.placement=E,e.reset=!0)}}function _i(t,e,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function xi(t){return[Dh,Ih,Lh,Ph].some((function(e){return t[e]>=0}))}function Ei(t){var e=t.state,i=t.name,n=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,s=yi(e,{elementContext:"reference"}),a=yi(e,{altBoundary:!0}),l=_i(s,n),c=_i(a,r,o),u=xi(l),d=xi(c);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}function Ai(t,e,i){var n=Le(t),r=[Ph,Dh].indexOf(n)>=0?-1:1,o="function"==typeof i?i(Object.assign({},e,{placement:t})):i,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[Ph,Ih].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}function Si(t){var e=t.state,i=t.options,n=t.name,r=i.offset,o=void 0===r?[0,0]:r,s=qh.reduce((function(t,i){return t[i]=Ai(i,e.rects,o),t}),{}),a=s[e.placement],l=a.x,c=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=s}function Oi(t){var e=t.state,i=t.name;e.modifiersData[i]=vi({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}function Ci(t){return"x"===t?"y":"x"}function Ti(t){var e=t.state,i=t.options,n=t.name,r=i.mainAxis,o=void 0===r||r,s=i.altAxis,a=void 0!==s&&s,l=i.boundary,c=i.rootBoundary,u=i.altBoundary,d=i.padding,h=i.tether,p=void 0===h||h,f=i.tetherOffset,g=void 0===f?0:f,m=yi(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=Le(e.placement),y=Xe(e.placement),b=!y,w=We(v),k=Ci(w),_=e.modifiersData.popperOffsets,x=e.rects.reference,E=e.rects.popper,A="function"==typeof g?g(Object.assign({},e.rects,{placement:e.placement})):g,S="number"==typeof A?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,C={x:0,y:0};if(_){if(o){var T,D="y"===w?Dh:Ph,L="y"===w?Lh:Ih,I="y"===w?"height":"width",P=_[w],M=P+m[D],j=P-m[L],R=p?-E[I]/2:0,F=y===Rh?x[I]:E[I],B=y===Rh?-E[I]:-x[I],N=e.elements.arrow,V=p&&N?je(N):{width:0,height:0},H=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:$e(),z=H[D],q=H[L],W=Ue(0,x[I],V[I]),U=b?x[I]/2-R-W-z-S.mainAxis:F-W-z-S.mainAxis,K=b?-x[I]/2+R+W+q+S.mainAxis:B+W+q+S.mainAxis,$=e.elements.arrow&&qe(e.elements.arrow),J=$?"y"===w?$.clientTop||0:$.clientLeft||0:0,Y=null!=(T=null==O?void 0:O[w])?T:0,G=P+K-Y,Q=Ue(p?$h(M,P+U-Y-J):M,P,p?Kh(j,G):j);_[w]=Q,C[w]=Q-P}if(a){var X,Z="x"===w?Dh:Ph,tt="x"===w?Lh:Ih,et=_[k],it="y"===k?"height":"width",nt=et+m[Z],rt=et-m[tt],ot=-1!==[Dh,Ph].indexOf(v),st=null!=(X=null==O?void 0:O[k])?X:0,at=ot?nt:et-x[it]-E[it]-st+S.altAxis,lt=ot?et+x[it]+E[it]-st-S.altAxis:rt,ct=p&&ot?Ke(at,et,lt):Ue(p?at:nt,et,p?lt:rt);_[k]=ct,C[k]=ct-et}e.modifiersData[n]=C}}function Di(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Li(t){return t!==Ae(t)&&Oe(t)?Di(t):oi(t)}function Ii(t){var e=t.getBoundingClientRect(),i=Jh(e.width)/t.offsetWidth||1,n=Jh(e.height)/t.offsetHeight||1;return 1!==i||1!==n}function Pi(t,e,i){void 0===i&&(i=!1);var n=Oe(e),r=Oe(e)&&Ii(e),o=Ne(e),s=Me(t,r,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!i)&&(("body"!==Ee(e)||ci(o))&&(a=Li(e)),Oe(e)?((l=Me(e,!0)).x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=si(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Mi(t){function e(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var r=i.get(t);r&&e(r)}})),r.push(t)}var i=new Map,n=new Set,r=[];return t.forEach((function(t){i.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||e(t)})),r}function ji(t){var e=Mi(t);return Wh.reduce((function(t,i){return t.concat(e.filter((function(t){return t.phase===i})))}),[])}function Ri(t){var e;return function(){return e||(e=new Promise((function(i){Promise.resolve().then((function(){e=void 0,i(t())}))}))),e}}function Fi(t){var e=t.reduce((function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}function Bi(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function Ni(t){void 0===t&&(t={});var e=t,i=e.defaultModifiers,n=void 0===i?[]:i,r=e.defaultOptions,o=void 0===r?tp:r;return function(t,e,i){function r(){a.orderedModifiers.forEach((function(t){var e=t.name,i=t.options,n=void 0===i?{}:i,r=t.effect;if("function"==typeof r){var o=r({state:a,name:e,instance:u,options:n}),s=function(){};l.push(o||s)}}))}function s(){l.forEach((function(t){return t()})),l=[]}void 0===i&&(i=o);var a={placement:"bottom",orderedModifiers:[],options:Object.assign({},tp,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},l=[],c=!1,u={state:a,setOptions:function(i){var l="function"==typeof i?i(a.options):i;s(),a.options=Object.assign({},o,a.options,l),a.scrollParents={reference:Se(t)?di(t):t.contextElement?di(t.contextElement):[],popper:di(e)};var c=ji(Fi([].concat(n,a.options.modifiers)));return a.orderedModifiers=c.filter((function(t){return t.enabled})),r(),u.update()},forceUpdate:function(){if(!c){var t=a.elements,e=t.reference,i=t.popper;if(Bi(e,i)){a.rects={reference:Pi(e,qe(i),"fixed"===a.options.strategy),popper:je(i)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(t){return a.modifiersData[t.name]=Object.assign({},t.data)}));for(var n=0;n<a.orderedModifiers.length;n++)if(!0!==a.reset){var r=a.orderedModifiers[n],o=r.fn,s=r.options,l=void 0===s?{}:s,d=r.name;"function"==typeof o&&(a=o({state:a,options:l,name:d,instance:u})||a)}else a.reset=!1,n=-1}}},update:Ri((function(){return new Promise((function(t){u.forceUpdate(),t(a)}))})),destroy:function(){s(),c=!0}};return Bi(t,e)?(u.setOptions(i).then((function(t){!c&&i.onFirstUpdate&&i.onFirstUpdate(t)})),u):u}}function Vi(){document.querySelectorAll("[data-dropdown-toggle]").forEach((function(t){var e=t.getAttribute("data-dropdown-toggle"),i=document.getElementById(e);if(i){var n=t.getAttribute("data-dropdown-placement"),r=t.getAttribute("data-dropdown-offset-skidding"),o=t.getAttribute("data-dropdown-offset-distance"),s=t.getAttribute("data-dropdown-trigger"),a=t.getAttribute("data-dropdown-delay"),l=t.getAttribute("data-dropdown-ignore-click-outside-class");new sp(i,t,{placement:n||rp.placement,triggerType:s||rp.triggerType,offsetSkidding:r?parseInt(r):rp.offsetSkidding,offsetDistance:o?parseInt(o):rp.offsetDistance,delay:a?parseInt(a):rp.delay,ignoreClickOutsideClass:l||rp.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(e,'" does not exist. Please check the data-dropdown-toggle attribute.'))}))}function Hi(){document.querySelectorAll("[data-modal-target]").forEach((function(t){var e=t.getAttribute("data-modal-target"),i=document.getElementById(e);if(i){var n=i.getAttribute("data-modal-placement"),r=i.getAttribute("data-modal-backdrop");new dp(i,{placement:n||cp.placement,backdrop:r||cp.backdrop})}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))})),document.querySelectorAll("[data-modal-toggle]").forEach((function(t){var e=t.getAttribute("data-modal-toggle");if(document.getElementById(e)){var i=ph.getInstance("Modal",e);if(i){var n=function(){i.toggle()};t.addEventListener("click",n),i.addEventListenerInstance(t,"click",n)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))})),document.querySelectorAll("[data-modal-show]").forEach((function(t){var e=t.getAttribute("data-modal-show");if(document.getElementById(e)){var i=ph.getInstance("Modal",e);if(i){var n=function(){i.show()};t.addEventListener("click",n),i.addEventListenerInstance(t,"click",n)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))})),document.querySelectorAll("[data-modal-hide]").forEach((function(t){var e=t.getAttribute("data-modal-hide");if(document.getElementById(e)){var i=ph.getInstance("Modal",e);if(i){var n=function(){i.hide()};t.addEventListener("click",n),i.addEventListenerInstance(t,"click",n)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))}))}function zi(){document.querySelectorAll("[data-drawer-target]").forEach((function(t){var e=t.getAttribute("data-drawer-target"),i=document.getElementById(e);if(i){var n=t.getAttribute("data-drawer-placement"),r=t.getAttribute("data-drawer-body-scrolling"),o=t.getAttribute("data-drawer-backdrop"),s=t.getAttribute("data-drawer-edge"),a=t.getAttribute("data-drawer-edge-offset");new gp(i,{placement:n||pp.placement,bodyScrolling:r?"true"===r:pp.bodyScrolling,backdrop:o?"true"===o:pp.backdrop,edge:s?"true"===s:pp.edge,edgeOffset:a||pp.edgeOffset})}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})),document.querySelectorAll("[data-drawer-toggle]").forEach((function(t){var e=t.getAttribute("data-drawer-toggle");if(document.getElementById(e)){var i=ph.getInstance("Drawer",e);if(i){var n=function(){i.toggle()};t.addEventListener("click",n),i.addEventListenerInstance(t,"click",n)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach((function(t){var e=t.getAttribute("data-drawer-dismiss")?t.getAttribute("data-drawer-dismiss"):t.getAttribute("data-drawer-hide");if(document.getElementById(e)){var i=ph.getInstance("Drawer",e);if(i){var n=function(){i.hide()};t.addEventListener("click",n),i.addEventListenerInstance(t,"click",n)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))})),document.querySelectorAll("[data-drawer-show]").forEach((function(t){var e=t.getAttribute("data-drawer-show");if(document.getElementById(e)){var i=ph.getInstance("Drawer",e);if(i){var n=function(){i.show()};t.addEventListener("click",n),i.addEventListenerInstance(t,"click",n)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}))}function qi(){document.querySelectorAll("[data-tabs-toggle]").forEach((function(t){var e=[],i=t.getAttribute("data-tabs-active-classes"),n=t.getAttribute("data-tabs-inactive-classes"),r=null;t.querySelectorAll('[role="tab"]').forEach((function(t){var i="true"===t.getAttribute("aria-selected"),n={id:t.getAttribute("data-tabs-target"),triggerEl:t,targetEl:document.querySelector(t.getAttribute("data-tabs-target"))};e.push(n),i&&(r=n.id)})),new bp(t,e,{defaultTabId:r,activeClasses:i||vp.activeClasses,inactiveClasses:n||vp.inactiveClasses})}))}function Wi(){document.querySelectorAll("[data-tooltip-target]").forEach((function(t){var e=t.getAttribute("data-tooltip-target"),i=document.getElementById(e);if(i){var n=t.getAttribute("data-tooltip-trigger"),r=t.getAttribute("data-tooltip-placement");new Ep(i,t,{placement:r||_p.placement,triggerType:n||_p.triggerType})}else console.error('The tooltip element with id "'.concat(e,'" does not exist. Please check the data-tooltip-target attribute.'))}))}function Ui(){document.querySelectorAll("[data-popover-target]").forEach((function(t){var e=t.getAttribute("data-popover-target"),i=document.getElementById(e);if(i){var n=t.getAttribute("data-popover-trigger"),r=t.getAttribute("data-popover-placement"),o=t.getAttribute("data-popover-offset");new Tp(i,t,{placement:r||Op.placement,offset:o?parseInt(o):Op.offset,triggerType:n||Op.triggerType})}else console.error('The popover element with id "'.concat(e,'" does not exist. Please check the data-popover-target attribute.'))}))}function Ki(){document.querySelectorAll("[data-dial-init]").forEach((function(t){var e=t.querySelector("[data-dial-toggle]");if(e){var i=e.getAttribute("data-dial-toggle"),n=document.getElementById(i);if(n){var r=e.getAttribute("data-dial-trigger");new Pp(t,e,n,{triggerType:r||Lp.triggerType})}else console.error("Dial with id ".concat(i," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(t.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))}))}function $i(){document.querySelectorAll("[data-input-counter]").forEach((function(t){var e=t.id,i=document.querySelector('[data-input-counter-increment="'+e+'"]'),n=document.querySelector('[data-input-counter-decrement="'+e+'"]'),r=t.getAttribute("data-input-counter-min"),o=t.getAttribute("data-input-counter-max");t?ph.instanceExists("InputCounter",t.getAttribute("id"))||new Fp(t,i||null,n||null,{minValue:r?parseInt(r):null,maxValue:o?parseInt(o):null}):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-input-counter attribute.'))}))}function Ji(){document.querySelectorAll("[data-copy-to-clipboard-target]").forEach((function(t){var e=t.getAttribute("data-copy-to-clipboard-target"),i=document.getElementById(e),n=t.getAttribute("data-copy-to-clipboard-content-type"),r=t.getAttribute("data-copy-to-clipboard-html-entities");i?ph.instanceExists("CopyClipboard",i.getAttribute("id"))||new Hp(t,i,{htmlEntities:!(!r||"true"!==r)||Np.htmlEntities,contentType:n||Np.contentType}):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-copy-to-clipboard-target attribute.'))}))}function Yi(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}function Gi(t){if(Array.isArray(t))return t}function Qi(t){if(Array.isArray(t))return Yi(t)}function Xi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zi(t,e,i){return e=on(e),hn(t,an()?Reflect.construct(e,i||[],on(t).constructor):e.apply(t,i))}function tn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function en(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yn(n.key),n)}}function nn(t,e,i){return e&&en(t.prototype,e),i&&en(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function rn(){return rn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var n=gn(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:i):r.value}},rn.apply(null,arguments)}function on(t){return(on=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pn(t,e)}function an(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(an=function(){return!!t})()}function ln(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function cn(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}function un(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function dn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function hn(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Xi(t)}function pn(t,e){return(pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fn(t,e){return Gi(t)||cn(t,e)||wn(t,e)||un()}function gn(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=on(t)););return t}function mn(t){return Qi(t)||ln(t)||wn(t)||dn()}function vn(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function yn(t){var e=vn(t,"string");return"symbol"==typeof e?e:e+""}function bn(t){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wn(t,e){if(t){if("string"==typeof t)return Yi(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Yi(t,e):void 0}}function kn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _n(t){return t[t.length-1]}function xn(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return i.forEach((function(e){t.includes(e)||t.push(e)})),t}function En(t,e){return t?t.split(e):[]}function An(t,e,i){return(void 0===e||t>=e)&&(void 0===i||t<=i)}function Sn(t,e,i){return t<e?e:t>i?i:t}function On(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=Object.keys(i).reduce((function(t,e){var r=i[e];return"function"==typeof r&&(r=r(n)),"".concat(t," ").concat(e,'="').concat(r,'"')}),t);r+="<".concat(o,"></").concat(t,">");var s=n+1;return s<e?On(t,e,i,s,r):r}function Cn(t){return t.replace(/>\s+/g,">").replace(/\s+</,"<")}function Tn(t){return new Date(t).setHours(0,0,0,0)}function Dn(){return(new Date).setHours(0,0,0,0)}function Ln(){switch(arguments.length){case 0:return Dn();case 1:return Tn(arguments.length<=0?void 0:arguments[0])}var t=new Date(0);return t.setFullYear.apply(t,arguments),t.setHours(0,0,0,0)}function In(t,e){var i=new Date(t);return i.setDate(i.getDate()+e)}function Pn(t,e){return In(t,7*e)}function Mn(t,e){var i=new Date(t),n=i.getMonth()+e,r=n%12;r<0&&(r+=12);var o=i.setMonth(n);return i.getMonth()!==r?i.setDate(0):o}function jn(t,e){var i=new Date(t),n=i.getMonth(),r=i.setFullYear(i.getFullYear()+e);return 1===n&&2===i.getMonth()?i.setDate(0):r}function Rn(t,e){return(t-e+7)%7}function Fn(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=new Date(t).getDay();return In(t,Rn(e,i)-Rn(n,i))}function Bn(t){var e=Fn(t,4,1),i=Fn(new Date(e).setMonth(0,4),4,1);return Math.round((e-i)/6048e5)+1}function Nn(t,e){var i=new Date(t).getFullYear();return Math.floor(i/e)*e}function Vn(t){return t>-1?t%12:Vn(t+12)}function Hn(t,e){return t.toString().padStart(e,"0")}function zn(t){if("string"!=typeof t)throw new Error("Invalid date format.");if(t in Up)return Up[t];var e=t.split(qp),i=t.match(new RegExp(qp,"g"));if(0===e.length||!i)throw new Error("Invalid date format.");var n=i.map((function(t){return $p[t]})),r=Object.keys(Kp).reduce((function(t,e){return i.find((function(t){return"D"!==t[0]&&t[0].toLowerCase()===e}))&&t.push(e),t}),[]);return Up[t]={parser:function(t,e){var n=t.split(Wp).reduce((function(t,e,n){if(e.length>0&&i[n]){var r=i[n][0];"M"===r?t.m=e:"D"!==r&&(t[r]=e)}return t}),{});return r.reduce((function(t,i){var r=Kp[i](t,n[i],e);return isNaN(r)?t:r}),Dn())},formatter:function(t,i){return n.reduce((function(n,r,o){return n+"".concat(e[o]).concat(r(t,i))}),"")+_n(e)}}}function qn(t,e,i){if(t instanceof Date||"number"==typeof t){var n=Tn(t);return isNaN(n)?void 0:n}if(t){if("today"===t)return Dn();if(e&&e.toValue){var r=e.toValue(t,e,i);return isNaN(r)?void 0:Tn(r)}return zn(e).parser(t,i)}}function Wn(t,e,i){if(isNaN(t)||!t&&0!==t)return"";var n="number"==typeof t?new Date(t):t;return e.toDisplay?e.toDisplay(n,e,i):zn(e).formatter(n,i)}function Un(t,e){var i=Jp.get(t);i||(i=[],Jp.set(t,i)),e.forEach((function(t){Gp.call.apply(Gp,mn(t)),i.push(t)}))}function Kn(t){var e=Jp.get(t);e&&(e.forEach((function(t){Qp.call.apply(Qp,mn(t))})),Jp.delete(t))}function $n(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=t[n];return e(r)?r:r!==i&&r.parentElement?$n(t,e,i,n+1):void 0}function Jn(t,e){var i="function"==typeof e?e:function(t){return t.matches(e)};return $n(t.composedPath(),i,t.currentTarget)}function Yn(t){return tf.createContextualFragment(t)}function Gn(t){"none"!==t.style.display&&(t.style.display&&(t.dataset.styleDisplay=t.style.display),t.style.display="none")}function Qn(t){"none"===t.style.display&&(t.dataset.styleDisplay?(t.style.display=t.dataset.styleDisplay,delete t.dataset.styleDisplay):t.style.display="")}function Xn(t){t.firstChild&&(t.removeChild(t.firstChild),Xn(t))}function Zn(t,e){Xn(t),e instanceof DocumentFragment?t.appendChild(e):"string"==typeof e?t.appendChild(Yn(e)):"function"==typeof e.forEach&&e.forEach((function(e){t.appendChild(e)}))}function tr(t,e){return t.length<6&&e>=0&&e<7?xn(t,e):t}
function er(t){return(t+6)%7}function ir(t,e,i,n){var r=qn(t,e,i);return void 0!==r?r:n}function nr(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=parseInt(t,10);return n>=0&&n<=i?n:e}function rr(t,e){var i,n=Object.assign({},t),r={},o=e.constructor.locales,s=e.config||{},a=s.format,l=s.language,c=s.locale,u=s.maxDate,d=s.maxView,h=s.minDate,p=s.pickLevel,f=s.startView,g=s.weekStart;if(n.language&&(n.language!==l&&(o[n.language]?i=n.language:void 0===o[i=n.language.split("-")[0]]&&(i=!1)),delete n.language,i)){l=r.language=i;var m=c||o[ef];c=Object.assign({format:nf,weekStart:rf},o[ef]),l!==ef&&Object.assign(c,o[l]),r.locale=c,a===m.format&&(a=r.format=c.format),g===m.weekStart&&(g=r.weekStart=c.weekStart,r.weekEnd=er(c.weekStart))}if(n.format){var v="function"==typeof n.format.toDisplay,y="function"==typeof n.format.toValue,b=qp.test(n.format);(v&&y||b)&&(a=r.format=n.format),delete n.format}var w=h,k=u;if(void 0!==n.minDate&&(w=null===n.minDate?Ln(0,0,1):ir(n.minDate,a,c,w),delete n.minDate),void 0!==n.maxDate&&(k=null===n.maxDate?void 0:ir(n.maxDate,a,c,k),delete n.maxDate),k<w?(h=r.minDate=k,u=r.maxDate=w):(h!==w&&(h=r.minDate=w),u!==k&&(u=r.maxDate=k)),n.datesDisabled&&(r.datesDisabled=n.datesDisabled.reduce((function(t,e){var i=qn(e,a,c);return void 0!==i?xn(t,i):t}),[]),delete n.datesDisabled),void 0!==n.defaultViewDate){var _=qn(n.defaultViewDate,a,c);void 0!==_&&(r.defaultViewDate=_),delete n.defaultViewDate}if(void 0!==n.weekStart){var x=Number(n.weekStart)%7;isNaN(x)||(g=r.weekStart=x,r.weekEnd=er(x)),delete n.weekStart}if(n.daysOfWeekDisabled&&(r.daysOfWeekDisabled=n.daysOfWeekDisabled.reduce(tr,[]),delete n.daysOfWeekDisabled),n.daysOfWeekHighlighted&&(r.daysOfWeekHighlighted=n.daysOfWeekHighlighted.reduce(tr,[]),delete n.daysOfWeekHighlighted),void 0!==n.maxNumberOfDates){var E=parseInt(n.maxNumberOfDates,10);E>=0&&(r.maxNumberOfDates=E,r.multidate=1!==E),delete n.maxNumberOfDates}n.dateDelimiter&&(r.dateDelimiter=String(n.dateDelimiter),delete n.dateDelimiter);var A=p;void 0!==n.pickLevel&&(A=nr(n.pickLevel,2),delete n.pickLevel),A!==p&&(p=r.pickLevel=A);var S=d;void 0!==n.maxView&&(S=nr(n.maxView,d),delete n.maxView),(S=p>S?p:S)!==d&&(d=r.maxView=S);var O=f;if(void 0!==n.startView&&(O=nr(n.startView,O),delete n.startView),O<p?O=p:O>d&&(O=d),O!==f&&(r.startView=O),n.prevArrow){var C=Yn(n.prevArrow);C.childNodes.length>0&&(r.prevArrow=C.childNodes),delete n.prevArrow}if(n.nextArrow){var T=Yn(n.nextArrow);T.childNodes.length>0&&(r.nextArrow=T.childNodes),delete n.nextArrow}if(void 0!==n.disableTouchKeyboard&&(r.disableTouchKeyboard="ontouchstart"in document&&!!n.disableTouchKeyboard,delete n.disableTouchKeyboard),n.orientation){var D=n.orientation.toLowerCase().split(/\s+/g);r.orientation={x:D.find((function(t){return"left"===t||"right"===t}))||"auto",y:D.find((function(t){return"top"===t||"bottom"===t}))||"auto"},delete n.orientation}if(void 0!==n.todayBtnMode){switch(n.todayBtnMode){case 0:case 1:r.todayBtnMode=n.todayBtnMode}delete n.todayBtnMode}return Object.keys(n).forEach((function(t){void 0!==n[t]&&kn(Zp,t)&&(r[t]=n[t])})),r}function or(t,e){if(t&&t[0]&&t[1]){var i=fn(t,2),n=fn(i[0],2),r=n[0],o=n[1],s=fn(i[1],2),a=s[0],l=s[1];if(!(r>e||a<e))return[r===e?o:-1,a===e?l:12]}}function sr(t){return mn(t).reduce((function(t,e,i){return t+(i?e:e.toUpperCase())}),"")}function ar(t,e){var i={date:t.getDate(),viewDate:new Date(t.picker.viewDate),viewId:t.picker.currentView.id,datepicker:t};t.element.dispatchEvent(new CustomEvent(e,{detail:i}))}function lr(t,e){var i,n=t.config,r=n.minDate,o=n.maxDate,s=t.picker,a=s.currentView,l=s.viewDate;switch(a.id){case 0:i=Mn(l,e);break;case 1:i=jn(l,e);break;default:i=jn(l,e*a.navStep)}i=Sn(i,r,o),t.picker.changeFocus(i).render()}function cr(t){var e=t.picker.currentView.id;e!==t.config.maxView&&t.picker.changeView(e+1).render()}function ur(t){t.config.updateOnBlur?t.update({autohide:!0}):(t.refresh("input"),t.hide())}function dr(t,e){var i=t.picker,n=new Date(i.viewDate),r=i.currentView.id,o=1===r?Mn(n,e-n.getMonth()):jn(n,e-n.getFullYear());i.changeFocus(o).changeView(r-1).render()}function hr(t){var e=t.picker,i=Dn();if(1===t.config.todayBtnMode){if(t.config.autohide)return void t.setDate(i);t.setDate(i,{render:!1}),e.update()}e.viewDate!==i&&e.changeFocus(i),e.changeView(0).render()}function pr(t){t.setDate({clear:!0})}function fr(t){cr(t)}function gr(t){lr(t,-1)}function mr(t){lr(t,1)}function vr(t,e){var i=Jn(e,".datepicker-cell");if(i&&!i.classList.contains("disabled")){var n=t.picker.currentView,r=n.id;n.isMinView?t.setDate(Number(i.dataset.date)):dr(t,Number(1===r?i.dataset.month:i.dataset.year))}}function yr(t){t.inline||t.config.disableTouchKeyboard||t.inputField.focus()}function br(t,e){if(void 0!==e.title&&(e.title?(t.controls.title.textContent=e.title,Qn(t.controls.title)):(t.controls.title.textContent="",Gn(t.controls.title))),e.prevArrow){var i=t.controls.prevBtn;Xn(i),e.prevArrow.forEach((function(t){i.appendChild(t.cloneNode(!0))}))}if(e.nextArrow){var n=t.controls.nextBtn;Xn(n),e.nextArrow.forEach((function(t){n.appendChild(t.cloneNode(!0))}))}if(e.locale&&(t.controls.todayBtn.textContent=e.locale.today,t.controls.clearBtn.textContent=e.locale.clear),void 0!==e.todayBtn&&(e.todayBtn?Qn(t.controls.todayBtn):Gn(t.controls.todayBtn)),kn(e,"minDate")||kn(e,"maxDate")){var r=t.datepicker.config,o=r.minDate,s=r.maxDate;t.controls.todayBtn.disabled=!An(Dn(),o,s)}void 0!==e.clearBtn&&(e.clearBtn?Qn(t.controls.clearBtn):Gn(t.controls.clearBtn))}function wr(t){var e=t.dates,i=t.config;return Sn(e.length>0?_n(e):i.defaultViewDate,i.minDate,i.maxDate)}function kr(t,e){var i=new Date(t.viewDate),n=new Date(e),r=t.currentView,o=r.id,s=r.year,a=r.first,l=r.last,c=n.getFullYear();switch(t.viewDate=e,c!==i.getFullYear()&&ar(t.datepicker,"changeYear"),n.getMonth()!==i.getMonth()&&ar(t.datepicker,"changeMonth"),o){case 0:return e<a||e>l;case 1:return c!==s;default:return c<a||c>l}}function _r(t){return window.getComputedStyle(t).direction}function xr(t,e,i,n,r,o){if(An(t,r,o))return n(t)?xr(e(t,i),e,i,n,r,o):t}function Er(t,e,i,n){var r,o,s=t.picker,a=s.currentView,l=a.step||1,c=s.viewDate;switch(a.id){case 0:c=n?In(c,7*i):e.ctrlKey||e.metaKey?jn(c,i):In(c,i),r=In,o=function(t){return a.disabled.includes(t)};break;case 1:c=Mn(c,n?4*i:i),r=Mn,o=function(t){var e=new Date(t),i=a.year,n=a.disabled;return e.getFullYear()===i&&n.includes(e.getMonth())};break;default:c=jn(c,i*(n?4:1)*l),r=jn,o=function(t){return a.disabled.includes(Nn(t,l))}}void 0!==(c=xr(c,r,i<0?-l:l,o,a.minDate,a.maxDate))&&s.changeFocus(c).render()}function Ar(t,e){if("Tab"!==e.key){var i=t.picker,n=i.currentView,r=n.id,o=n.isMinView;if(i.active)if(t.editMode)switch(e.key){case"Escape":i.hide();break;case"Enter":t.exitEditMode({update:!0,autohide:t.config.autohide});break;default:return}else switch(e.key){case"Escape":i.hide();break;case"ArrowLeft":if(e.ctrlKey||e.metaKey)lr(t,-1);else{if(e.shiftKey)return void t.enterEditMode();Er(t,e,-1,!1)}break;case"ArrowRight":if(e.ctrlKey||e.metaKey)lr(t,1);else{if(e.shiftKey)return void t.enterEditMode();Er(t,e,1,!1)}break;case"ArrowUp":if(e.ctrlKey||e.metaKey)cr(t);else{if(e.shiftKey)return void t.enterEditMode();Er(t,e,-1,!0)}break;case"ArrowDown":if(e.shiftKey&&!e.ctrlKey&&!e.metaKey)return void t.enterEditMode();Er(t,e,1,!0);break;case"Enter":o?t.setDate(i.viewDate):i.changeView(r-1).render();break;case"Backspace":case"Delete":return void t.enterEditMode();default:return void(1!==e.key.length||e.ctrlKey||e.metaKey||t.enterEditMode())}else switch(e.key){case"ArrowDown":case"Escape":i.show();break;case"Enter":t.update();break;default:return}e.preventDefault(),e.stopPropagation()}else ur(t)}function Sr(t){t.config.showOnFocus&&!t._showing&&t.show()}function Or(t,e){var i=e.target;(t.picker.active||t.config.showOnClick)&&(i._active=i===document.activeElement,i._clicking=setTimeout((function(){delete i._active,delete i._clicking}),2e3))}function Cr(t,e){var i=e.target;i._clicking&&(clearTimeout(i._clicking),delete i._clicking,i._active&&t.enterEditMode(),delete i._active,t.config.showOnClick&&t.show())}function Tr(t,e){e.clipboardData.types.includes("text/plain")&&t.enterEditMode()}function Dr(t,e){var i=t.element;if(i===document.activeElement){var n=t.picker.element;Jn(e,(function(t){return t===i||t===n}))||ur(t)}}function Lr(t,e){return t.map((function(t){return Wn(t,e.format,e.locale)})).join(e.dateDelimiter)}function Ir(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.config,r=t.dates,o=t.rangepicker;if(0===e.length)return i?[]:void 0;var s=o&&t===o.datepickers[1],a=e.reduce((function(t,e){var i=qn(e,n.format,n.locale);if(void 0===i)return t;if(n.pickLevel>0){var r=new Date(i);i=1===n.pickLevel?s?r.setMonth(r.getMonth()+1,0):r.setDate(1):s?r.setFullYear(r.getFullYear()+1,0,0):r.setMonth(0,1)}return!An(i,n.minDate,n.maxDate)||t.includes(i)||n.datesDisabled.includes(i)||n.daysOfWeekDisabled.includes(new Date(i).getDay())||t.push(i),t}),[]);return 0!==a.length?(n.multidate&&!i&&(a=a.reduce((function(t,e){return r.includes(e)||t.push(e),t}),r.filter((function(t){return!a.includes(t)})))),n.maxNumberOfDates&&a.length>n.maxNumberOfDates?a.slice(-1*n.maxNumberOfDates):a):void 0}function Pr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=t.config,r=t.picker,o=t.inputField;if(2&e){var s=r.active?n.pickLevel:n.startView;r.update().changeView(s).render(i)}1&e&&o&&(o.value=Lr(t.dates,n))}function Mr(t,e,i){var n=i.clear,r=i.render,o=i.autohide;void 0===r&&(r=!0),r?void 0===o&&(o=t.config.autohide):o=!1;var s=Ir(t,e,n);s&&(s.toString()!==t.dates.toString()?(t.dates=s,Pr(t,r?3:1),ar(t,"changeDate")):Pr(t,1),o&&t.hide())}function jr(t){var e=Object.assign({},t);return delete e.inputs,delete e.allowOneSidedRange,delete e.maxNumberOfDates,e}function Rr(t,e,i,n){Un(t,[[i,"changeDate",e]]),new pf(i,n,t)}function Fr(t,e){if(!t._updating){t._updating=!0;var i=e.target;if(void 0!==i.datepicker){var n=t.datepickers,r={render:!1},o=t.inputs.indexOf(i),s=0===o?1:0,a=n[o].dates[0],l=n[s].dates[0];void 0!==a&&void 0!==l?0===o&&a>l?(n[0].setDate(l,r),n[1].setDate(a,r)):1===o&&a<l&&(n[0].setDate(a,r),n[1].setDate(l,r)):t.allowOneSidedRange||void 0===a&&void 0===l||(r.clear=!0,n[s].setDate(n[o].dates,r)),n[0].picker.update().render(),n[1].picker.update().render(),delete t._updating}}}function Br(){document.querySelectorAll("[datepicker], [inline-datepicker], [date-rangepicker]").forEach((function(t){if(t){var e=t.hasAttribute("datepicker-buttons"),i=t.hasAttribute("datepicker-autoselect-today"),n=t.hasAttribute("datepicker-autohide"),r=t.getAttribute("datepicker-format"),o=t.getAttribute("datepicker-max-date"),s=t.getAttribute("datepicker-min-date"),a=t.getAttribute("datepicker-orientation"),l=t.getAttribute("datepicker-title"),c=t.getAttribute("datepicker-language"),u=t.hasAttribute("date-rangepicker");new yf(t,{buttons:e||mf.buttons,autoSelectToday:i||mf.autoSelectToday,autohide:n||mf.autohide,format:r||mf.format,maxDate:o||mf.maxDate,minDate:s||mf.minDate,orientation:a||mf.orientation,title:l||mf.title,language:c||mf.language,rangePicker:u||mf.rangePicker})}else console.error("The datepicker element does not exist. Please check the datepicker attribute.")}))}function Nr(){we(),ke(),_e(),xe(),Vi(),Hi(),zi(),qi(),Wi(),Ui(),Ki(),$i(),Ji(),Br()}function Vr(t,e,i=150,n=100,r=300){const o=t;let s="none",a=0,l=0,c=0,u=0,d=0,h=0;o.addEventListener("touchstart",(function(t){const e=t.changedTouches[0];s="none",a=e.pageX,l=e.pageY,h=(new Date).getTime()}),{passive:!0}),o.addEventListener("touchmove",(function(){}),{passive:!0}),o.addEventListener("touchend",(function(t){const o=t.changedTouches[0];c=o.pageX-a,u=o.pageY-l,d=(new Date).getTime()-h,d<=r&&(Math.abs(c)>=i&&Math.abs(u)<=n?s=c<0?"left":"right":Math.abs(u)>=i&&Math.abs(c)<=n&&(s=u<0?"up":"down")),e(s)}),{passive:!0})}function Hr(t){return"string"==typeof t}function zr(t){return"number"==typeof t}function qr(t){return"function"==typeof t}function Wr(t){return"object"===Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function Ur(t){var e,i,n;return Hr(null!==(n=null!==(i=null!==(e=t.userId)&&void 0!==e?e:t.anonymousId)&&void 0!==i?i:t.groupId)&&void 0!==n?n:t.previousId)}function Kr(t){var e,i=t&&t.event&&t.event.type,n=t.event;if(void 0===n)throw new jf("event","Event is missing");if(!Hr(i))throw new jf("event","Event is not a string");if("track"===i&&!Hr(n.event))throw new jf("event","Event is not a string");var r=null!==(e=n.properties)&&void 0!==e?e:n.traits;if("alias"!==i&&!Wr(r))throw new jf("properties","properties is not an object");if(!Ur(n))throw new jf("userId","Missing userId or anonymousId");return t}function $r(t,e,i,n){var r,o=[t,e,i,n],s=Wr(t)?t.event:t;if(!s||!Hr(s))throw new Error("Event missing");var a=Wr(t)?null!==(r=t.properties)&&void 0!==r?r:{}:Wr(e)?e:{},l={};return qr(i)||(l=null!=i?i:{}),Wr(t)&&!qr(e)&&(l=null!=e?e:{}),[s,a,l,o.find(qr)]}function Jr(t,e,i,n,r){var o,s,a=null,l=null,c=[t,e,i,n,r],u=c.filter(Hr);void 0!==u[0]&&void 0!==u[1]&&(a=u[0],l=u[1]),1===u.length&&(a=null,l=u[0]);var d=c.find(qr),h=c.filter((function(t){return null===l?Wr(t):Wr(t)||null===t})),p=null!==(o=h[0])&&void 0!==o?o:{},f=null!==(s=h[1])&&void 0!==s?s:{};return[a,l,p,f,d]}function Yr(t,e,i,n){zr(t)&&(t=t.toString()),zr(e)&&(e=e.toString());var r=[t,e,i,n],o=r.filter(Hr),s=o[0],a=void 0===s?t:s,l=o[1],c=void 0===l?null:l,u=r.filter(Wr)[0];return[a,c,void 0===u?{}:u,r.find(qr)]}function Gr(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var i=t?4:1,n=e?new Ss(i,[]):new da(i,"event-queue");return new Vf(n)}function Qr(){console.warn(Hf)}function Xr(){return"undefined"!=typeof process&&process.env?process.env:{}}function Zr(){var t=document.getElementsByTagName("link"),e="";return Array.prototype.slice.call(t).forEach((function(t){"canonical"===t.getAttribute("rel")&&(e=t.getAttribute("href"))})),e}function to(){var t=Zr();if(!t)return window.location.pathname;var e=document.createElement("a");return e.href=t,e.pathname.startsWith("/")?e.pathname:"/"+e.pathname}function eo(t){void 0===t&&(t="");var e=Zr();if(e)return e.includes("?")?e:"".concat(e).concat(t);var i=window.location.href,n=i.indexOf("#");return-1===n?i:i.slice(0,n)}function io(){return{path:to(),referrer:document.referrer,search:location.search,title:document.title,url:eo(location.search)}}function no(t){var e,i=t.event;i.context=i.context||{};var n=io(),r=null!==(e=i.properties)&&void 0!==e?e:{};return Object.keys(n).forEach((function(t){r[t]&&(n[t]=r[t])})),i.context.page&&(n=Object.assign({},n,i.context.page)),i.context=Object.assign({},i.context,{page:n}),t.event=i,t}function ro(t){if(!Array.isArray(t))throw new Error("Not a valid list of plugins");var e=["load","isLoaded","name","version","type"];return t.forEach((function(t){e.forEach((function(e){var i;if(void 0===t[e])throw new Error("Plugin: ".concat(null!==(i=t.name)&&void 0!==i?i:"unknown"," missing required function ").concat(e))}))})),!0}function oo(t,e){var i=t[e.creationName],n=t[e.name];return!1===t.All&&!i&&!n||(!1===i||!1===n)}function so(t,e,i,n,r){var o,s,a;return ns(this,void 0,void 0,(function(){var l,c,u,d,h=this;return rs(this,(function(p){switch(p.label){case 0:return l=[],c=nc(),u=null!==(s=null===(o=t.middlewareSettings)||void 0===o?void 0:o.routingRules)&&void 0!==s?s:[],d=(null!==(a=t.remotePlugins)&&void 0!==a?a:[]).map((function(t){return ns(h,void 0,void 0,(function(){var o,s,a,d,h,p,f,g,m;return rs(this,(function(v){switch(v.label){case 0:if(oo(e,t))return[2];v.label=1;case 1:if(v.trys.push([1,12,,13]),o=new RegExp("https://cdn.segment.(com|build)"),!n)return[3,7];s=t.url.split("/"),a=s[s.length-2],d=t.url.replace(a,btoa(a).replace(/=/g,"")),v.label=2;case 2:return v.trys.push([2,4,,6]),[4,it(d.replace(o,c))];case 3:return v.sent(),[3,6];case 4:return v.sent(),[4,it(t.url.replace(o,c))];case 5:return v.sent(),[3,6];case 6:return[3,9];case 7:return[4,it(t.url.replace(o,c))];case 8:v.sent(),v.label=9;case 9:return h=t.libraryName,"function"!=typeof window[h]?[3,11]:[4,(0,window[h])(Jo(Jo({},t.settings),i[t.name]))];case 10:p=v.sent(),ro(f=Array.isArray(p)?p:[p]),g=u.filter((function(e){return e.destinationName===t.creationName})),f.forEach((function(e){var i=new $f(t.creationName,e);g.length&&r&&"destination"===e.type&&i.addMiddleware(r),l.push(i)})),v.label=11;case 11:return[3,13];case 12:return m=v.sent(),console.warn("Failed to load Remote Plugin",m),[3,13];case 13:return[2]}}))}))})),[4,Promise.all(d)];case 1:return p.sent(),[2,l.filter(Boolean)]}}))}))}function ao(t){return(encodeURI(JSON.stringify(t)).split(/%..|./).length-1)/1024}function lo(t){return ao(t)>=Yf-50}function co(t){var e=[],i=0;return t.forEach((function(t){ao(e[i])>=64&&i++,e[i]?e[i].push(t):e[i]=[t]})),e}function uo(t,e){function i(e){var i;if(0!==e.length){var n=null===(i=e[0])||void 0===i?void 0:i.writeKey;return Hs("https://".concat(t,"/b"),{keepalive:u,headers:{"Content-Type":"text/plain"},method:"post",body:JSON.stringify({batch:e,writeKey:n})})}}function n(){return ns(this,void 0,void 0,(function(){var t;return rs(this,(function(){return c.length?(t=c,c=[],[2,i(t)]):[2]}))}))}function r(){l||(l=setTimeout((function(){l=void 0,n().catch(console.error)}),h))}function o(t,e){return ns(this,void 0,void 0,(function(){return rs(this,(function(){return c.push(e),[2,c.length>=d||lo(c)||u?n():r()]}))}))}var s,a,l,c=[],u=!1,d=null!==(s=null==e?void 0:e.size)&&void 0!==s?s:10,h=null!==(a=null==e?void 0:e.timeout)&&void 0!==a?a:5e3;return Jf((function(){if(u=!0,c.length){var t=co(c).map(i);Promise.all(t).catch(console.error)}})),{dispatch:o}}function ho(t){function e(e,i){return Hs(e,{keepalive:null==t?void 0:t.keepalive,headers:{"Content-Type":"text/plain"},method:"post",body:JSON.stringify(i)})}return{dispatch:e}}function po(t,e){return ns(this,void 0,void 0,(function(){var i,r=this;return rs(this,(function(o){switch(o.label){case 0:return i=[],n()?[2,e]:[4,oc((function(){return e.length>0&&!n()}),(function(){return ns(r,void 0,void 0,(function(){var n,r;return rs(this,(function(o){switch(o.label){case 0:return(n=e.pop())?[4,m(n,t)]:[2];case 1:return r=o.sent(),r instanceof la||i.push(n),[2]}}))}))}))];case 1:return o.sent(),i.map((function(t){return e.pushWithBackoff(t)})),[2,e]}}))}))}function fo(t,e,i,n){var r=this;t||setTimeout((function(){return ns(r,void 0,void 0,(function(){var t,r;return rs(this,(function(o){switch(o.label){case 0:return t=!0,[4,po(i,e)];case 1:return r=o.sent(),t=!1,e.todo>0&&n(t,r,i,n),[2]}}))}))}),5e3*Math.random())}function go(t,e){var i,n,r,o,s=t.user();return e.previousId=null!==(r=null!==(n=null!==(i=e.previousId)&&void 0!==i?i:e.from)&&void 0!==n?n:s.id())&&void 0!==r?r:s.anonymousId(),e.userId=null!==(o=e.userId)&&void 0!==o?o:e.to,delete e.from,delete e.to,e}function mo(t,e,i){function r(r){return ns(this,void 0,void 0,(function(){var o,s;return rs(this,(function(){return n()?(a.push(r),fo(c,a,g,fo),[2,r]):(l.add(r),o=r.event.type.charAt(0),s=Y(r.event).json(),"track"===r.event.type&&delete s.traits,"alias"===r.event.type&&(s=go(t,s)),[2,f.dispatch("".concat(h,"/").concat(o),F(t,s,e,i)).then((function(){return r})).catch((function(){return a.pushWithBackoff(r),fo(c,a,g,fo),r})).finally((function(){l.delete(r)}))])}))}))}var o,s;window.addEventListener("pagehide",(function(){a.push.apply(a,Array.from(l)),l.clear()}));var a=t.options.disableClientPersistence?new Ss(t.queue.queue.maxAttempts,[]):new da(t.queue.queue.maxAttempts,"dest-Segment.io"),l=new Set,c=!1,u=null!==(o=null==e?void 0:e.apiHost)&&void 0!==o?o:na,d=null!==(s=null==e?void 0:e.protocol)&&void 0!==s?s:"https",h="".concat(d,"://").concat(u),p=null==e?void 0:e.deliveryStrategy,f="batching"===(null==p?void 0:p.strategy)?uo(u,p.config):ho(null==p?void 0:p.config),g={name:"Segment.io",type:"after",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:r,identify:r,page:r,alias:r,group:r};return a.todo&&fo(c,a,g,fo),g}function vo(t,e){return ns(this,void 0,void 0,(function(){var i,n;return rs(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),e.called?[2,void 0]:(e.called=!0,i=t[e.method].apply(t,e.args),Gf(i)?[4,i]:[3,2]);case 1:r.sent(),r.label=2;case 2:return e.resolve(i),[3,4];case 3:return n=r.sent(),e.reject(n),[3,4];case 4:return[2]}}))}))}function yo(t){var e=t[0],i=t.slice(1);return{method:e,resolve:function(){},reject:console.error,args:i,called:!1}}function bo(t,e){var i=null!=e?e:nc();return Hs("".concat(i,"/v1/projects/").concat(t,"/settings")).then((function(t){return t.ok?t.json():t.text().then((function(t){throw new Error(t)}))})).catch((function(t){throw console.error(t.message),t}))}function wo(t){return"test"!==Xr().NODE_ENV&&Object.keys(t.integrations).length>1}function ko(t){var e,i,n;return"test"!==Xr().NODE_ENV&&(null!==(n=null===(i=null===(e=t.middlewareSettings)||void 0===e?void 0:e.routingRules)||void 0===i?void 0:i.length)&&void 0!==n?n:0)>0}function _o(t,e){e.push.apply(e,ag()),ig(t,e),eg(t,e)}function xo(t,e){return ns(this,void 0,void 0,(function(){return rs(this,(function(i){switch(i.label){case 0:return e.push.apply(e,ag()),[4,tg(t,e)];case 1:return i.sent(),e.push.apply(e,ag()),ng(t,e),e.clear(),[2]}}))}))}function Eo(t,e,i,n,r,o){var s,a,l;return ns(this,void 0,void 0,(function(){var c,u,d,h,p,f,g,m,v,y,b=this;return rs(this,(function(w){switch(w.label){case 0:return ko(t)?[4,Promise.resolve().then((()=>(dd(),sd))).then((function(e){return e.tsubMiddleware(t.middlewareSettings.routingRules)}))]:[3,2];case 1:return u=w.sent(),[3,3];case 2:u=void 0,w.label=3;case 3:return c=u,wo(t)||o.length>0?[4,Promise.resolve().then((()=>(md(),gd))).then((function(n){return n.ajsDestinations(t,e.integrations,i,c,o)}))]:[3,5];case 4:return h=w.sent(),[3,6];case 5:h=[],w.label=6;case 6:return d=h,t.legacyVideoPluginsEnabled?[4,Promise.resolve().then((()=>(bd(),yd))).then((function(t){return t.loadLegacyVideoPlugins(e)}))]:[3,8];case 7:w.sent(),w.label=8;case 8:return(null===(s=i.plan)||void 0===s?void 0:s.track)?[4,Promise.resolve().then((()=>(kd(),wd))).then((function(e){var n;return e.schemaFilter(null===(n=i.plan)||void 0===n?void 0:n.track,t)}))]:[3,10];case 9:return f=w.sent(),[3,11];case 10:f=void 0,w.label=11;case 11:return p=f,g=tt(t,n),[4,so(t,e.integrations,g,n.obfuscate,c).catch((function(){return[]}))];case 12:return m=w.sent(),v=ds(ds(ds([Rf,Kf],r,!0),d,!0),m,!0),p&&v.push(p),!1===(null===(a=i.integrations)||void 0===a?void 0:a.All)&&!i.integrations["Segment.io"]||i.integrations&&!1===i.integrations["Segment.io"]||v.push(mo(e,g["Segment.io"],t.integrations)),[4,e.register.apply(e,v)];case 13:return y=w.sent(),Object.entries(null!==(l=t.enabledMiddleware)&&void 0!==l?l:{}).some((function(t){return t[1]}))?[4,Promise.resolve().then((()=>(xd(),_d))).then((function(i){var r=i.remoteMiddlewares;return ns(b,void 0,void 0,(function(){var i,o;return rs(this,(function(s){switch(s.label){case 0:return[4,r(y,t,n.obfuscate)];case 1:return i=s.sent(),o=i.map((function(t){return e.addSourceMiddleware(t)})),[2,Promise.all(o)]}}))}))}))]:[3,15];case 14:w.sent(),w.label=15;case 15:return[2,y]}}))}))}function Ao(t,e,i){var n,r,o,s,a,l,c;return void 0===e&&(e={}),ns(this,void 0,void 0,(function(){var u,d,h,p,f,g,m,v,y,b,w;return rs(this,(function(k){switch(k.label){case 0:return t.cdnURL&&ic(t.cdnURL),null===(n=t.cdnSettings)||void 0===n?[3,1]:(d=n,[3,3]);case 1:return[4,bo(t.writeKey,t.cdnURL)];case 2:d=k.sent(),k.label=3;case 3:return h=null===(o=null===(r=(u=d).integrations["Segment.io"])||void 0===r?void 0:r.retryQueue)||void 0===o||o,p=Jo({retryQueue:h},e),f=new Wf(t,p),cg(f),g=null!==(s=t.plugins)&&void 0!==s?s:[],m=null!==(a=t.classicIntegrations)&&void 0!==a?a:[],aa.initRemoteMetrics(u.metrics),_o(f,i),[4,Eo(u,f,p,e,g,m)];case 4:return v=k.sent(),y=null!==(l=window.location.search)&&void 0!==l?l:"",b=null!==(c=window.location.hash)&&void 0!==c?c:"",(w=y.length?y:b.replace(/(?=#).*(?=\?)/,"")).includes("ajs_")?[4,f.queryString(w).catch(console.error)]:[3,6];case 5:k.sent(),k.label=6;case 6:return f.initialized=!0,f.emit("initialize",t,e),e.initialPageview&&f.page().catch(console.error),[4,xo(f,i)];case 7:return k.sent(),[2,[f,v]]}}))}))}async function So(t){const e=t.value;try{await navigator.clipboard.writeText(e)}catch(e){t.select(),t.setSelectionRange(0,99999),document.execCommand("copy")}}function Oo(t){new fg.default({regex:"[0-9]*",placeholder:""}).mask(t)}function Co(t){new fg.default("numeric",{radixPoint:".",digits:2,max:100,suffix:"%",removeMaskOnSubmit:!0,rightAlign:!1,allowMinus:!1}).mask(t)}function To(t){new fg.default("numeric",{digits:0,max:100,suffix:"%",removeMaskOnSubmit:!0,rightAlign:!1,allowMinus:!1,inputType:"number"}).mask(t)}function Do(t,e={removeMaskOnSubmit:!1}){new fg.default("999.999.999-99",e).mask(t)}function Lo(t,e={removeMaskOnSubmit:!1}){new fg.default("99.999.999/9999-99",e).mask(t)}function Io(t){new fg.default("99999-999").mask(t)}function Po(t){new fg.default({regex:"\\d{1,3}([.,]\\d{1,2})?",placeholder:"0,00"}).mask(t)}function Mo(t){new fg.default({regex:"(R\\$) \\d{1,8}([.,]\\d{1,2})?",suffix:"R$ ",placeholder:"R$ 0,00",digits:2,digitsOptional:!0,removeMaskOnSubmit:!0}).mask(t)}function jo(t){new fg.default("currency",{autoUnmask:!0,radixPoint:",",groupSeparator:".",allowMinus:!1,prefix:"R$ ",digits:2,digitsOptional:!1,rightAlign:!1,removeMaskOnSubmit:!0,numericInput:!0,unmaskAsNumber:!0}).mask(t)}function Ro(t){const e=document.cookie?document.cookie.split("; "):[],i=`${encodeURIComponent(t)}=`,n=e.find((t=>t.startsWith(i)));if(n){const t=n.split("=").slice(1).join("=");if(t)return decodeURIComponent(t)}}function Fo(t){const e={};for(const i in t){const n=t[i];void 0!==n&&(e[i]=n)}return e}function Bo(t){const e=document.head.querySelector(`meta[name="${t}"]`);return e&&e.content}function No(t){return[...t].reduce(((t,[e,i])=>t.concat("string"==typeof i?[[e,i]]:[])),[])}function Vo(t,e){for(const[i,n]of e)n instanceof window.File||(t.has(i)?(t.delete(i),t.set(i,n)):t.append(i,n))}async function Ho(t,e){return new wg("put",t,e).perform()}function zo(t){function e(n,r){try{var o=t[n](r),s=o.value,a=s instanceof qo;Promise.resolve(a?s.v:s).then((function(r){if(a){var l="return"===n?"return":"next";if(!s.k||r.done)return e(l,r);r=t[l](r).value}i(o.done?"return":"normal",r)}),(function(t){e("throw",t)}))}catch(t){i("throw",t)}}function i(t,i){switch(t){case"return":n.resolve({value:i,done:!0});break;case"throw":n.reject(i);break;default:n.resolve({value:i,done:!1})}(n=n.next)?e(n.key,n.arg):r=null}var n,r;this._invoke=function(t,i){return new Promise((function(o,s){var a={key:t,arg:i,resolve:o,reject:s,next:null};r?r=r.next=a:(n=r=a,e(t,i))}))},"function"!=typeof t.return&&(this.return=void 0)}function qo(t,e){this.v=t,this.k=e}function Wo(t,e,i){return(e=Uo(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Uo(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var Ko,$o,Jo,Yo,Go,Qo,Xo,Zo,ts,es,is,ns,rs,os,ss,as,ls,cs,us,ds,hs,ps,fs,gs,ms,vs,ys,bs,ws,ks,_s,xs,Es,As,Ss,Os,Cs,Ts,Ds,Ls,Is,Ps,Ms,js,Rs,Fs,Bs,Ns,Vs,Hs,zs,qs,Ws,Us,Ks,$s,Js,Ys,Gs,Qs,Xs,Zs,ta,ea,ia,na,ra,oa,sa,aa,la,ca,ua,da,ha=Object.create,pa=Object.defineProperty,fa=Object.getOwnPropertyDescriptor,ga=Object.getOwnPropertyNames,ma=Object.getPrototypeOf,va=Object.prototype.hasOwnProperty,ya=(t,e,i)=>e in t?pa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,ba=t=>pa(t,"__esModule",{value:!0}),wa=(t,e)=>function(){return t&&(e=(0,t[Object.keys(t)[0]])(t=0)),e},ka=(t,e)=>function(){return e||(0,t[Object.keys(t)[0]])((e={exports:{}}).exports,e),e.exports},_a=(t,e)=>{for(var i in ba(t),e)pa(t,i,{get:e[i],enumerable:!0})},xa=(t,e,i)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let n of ga(e))va.call(t,n)||"default"===n||pa(t,n,{get:()=>e[n],enumerable:!(i=fa(e,n))||i.enumerable});return t},Ea=t=>xa(ba(pa(null!=t?ha(ma(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),Aa=(t,e,i)=>(ya(t,"symbol"!=typeof e?e+"":e,i),i),Sa=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)},Oa=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},Ca=(t,e,i)=>(Sa(t,e,"access private method"),i),Ta=ka({"node_modules/tslib/tslib.js"(t,e){var i,n,r,o,s,a,l,c,u,d,h,p,f,g,m,v,y,b,w,k,_,x,E,A,S,O,C,T,D;!function(t){function i(t,e){return t!==n&&("function"==typeof Object.create?Object.defineProperty(t,"__esModule",{value:!0}):t.__esModule=!0),function(i,n){return t[i]=e?e(i,n):n}}var n="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:{};"function"==typeof define&&define.amd?define("tslib",["exports"],(function(e){t(i(n,i(e)))})):"object"==typeof e&&"object"==typeof e.exports?t(i(n,i(e.exports))):t(i(n))}((function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])};i=function(t,i){function n(){this.constructor=t}if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)},n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i},o=function(t,e,i,n){var r,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,i,s):r(e,i))||s);return o>3&&s&&Object.defineProperty(e,i,s),s},s=function(t,e){return function(i,n){e(i,n,t)}},a=function(t,e,i,n,r,o){function s(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var a,l=n.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!e&&t?n.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var g in n)f[g]="access"===g?{}:n[g];for(var g in n.access)f.access[g]=n.access[g];f.addInitializer=function(t){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(t||null))};var m=(0,i[p])("accessor"===l?{get:d.get,set:d.set}:d[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(a=s(m.get))&&(d.get=a),(a=s(m.set))&&(d.set=a),(a=s(m.init))&&r.push(a)}else(a=s(m))&&("field"===l?r.push(a):d[c]=a)}u&&Object.defineProperty(u,n.name,d),h=!0},l=function(t,e,i){for(var n=arguments.length>2,r=0;r<e.length;r++)i=n?e[r].call(t,i):e[r].call(t);return n?i:void 0},c=function(t){return"symbol"==typeof t?t:"".concat(t)},u=function(t,e,i){return"symbol"==typeof e&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})},d=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(t,e,i,n){function r(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){t.done?i(t.value):r(t.value).then(s,a)}l((n=n.apply(t,e||[])).next())}))},p=function(t,e){function i(t){return function(e){return n([t,e])}}function n(i){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(l=0)),l;)try{if(r=1,o&&(s=2&i[0]?o.return:i[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,i[1])).done)return s;switch(o=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,o=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(s=l.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}
if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){l.label=i[1];break}if(6===i[0]&&l.label<s[1]){l.label=s[1],s=i;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(i);break}s[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(t){i=[6,t],o=0}finally{r=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var r,o,s,a,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},f=function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||D(e,t,i)},D=Object.create?function(t,e,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]},g=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},m=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},v=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(m(arguments[e]));return t},y=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)n[r]=o[s];return n},b=function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},w=function(t){return this instanceof w?(this.v=t,this):new w(t)},k=function(t,e,i){function n(t){u[t]&&(c[t]=function(e){return new Promise((function(i,n){d.push([t,e,i,n])>1||r(t,e)}))})}function r(t,e){try{o(u[t](e))}catch(t){l(d[0][3],t)}}function o(t){t.value instanceof w?Promise.resolve(t.value.v).then(s,a):l(d[0][2],t)}function s(t){r("next",t)}function a(t){r("throw",t)}function l(t,e){t(e),d.shift(),d.length&&r(d[0][0],d[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,u=i.apply(t,e||[]),d=[];return c={},n("next"),n("throw"),n("return"),c[Symbol.asyncIterator]=function(){return this},c},_=function(t){function e(e,r){i[e]=t[e]?function(i){return(n=!n)?{value:w(t[e](i)),done:!1}:r?r(i):i}:r}var i,n;return i={},e("next"),e("throw",(function(t){throw t})),e("return"),i[Symbol.iterator]=function(){return this},i},x=function(t){function e(e){n[e]=t[e]&&function(n){return new Promise((function(r,o){i(r,o,(n=t[e](n)).done,n.value)}))}}function i(t,e,i,n){Promise.resolve(n).then((function(e){t({value:e,done:i})}),e)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof g?g(t):t[Symbol.iterator](),n={},e("next"),e("throw"),e("return"),n[Symbol.asyncIterator]=function(){return this},n)},E=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t};var L=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};A=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&D(e,t,i);return L(e,t),e},S=function(t){return t&&t.__esModule?t:{default:t}},O=function(t,e,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(t):n?n.value:e.get(t)},C=function(t,e,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(t,i):r?r.value=i:e.set(t,i),i},T=function(t,e){if(null===e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?e===t:t.has(e)},t("__extends",i),t("__assign",n),t("__rest",r),t("__decorate",o),t("__param",s),t("__esDecorate",a),t("__runInitializers",l),t("__propKey",c),t("__setFunctionName",u),t("__metadata",d),t("__awaiter",h),t("__generator",p),t("__exportStar",f),t("__createBinding",D),t("__values",g),t("__read",m),t("__spread",v),t("__spreadArrays",y),t("__spreadArray",b),t("__await",w),t("__asyncGenerator",k),t("__asyncDelegator",_),t("__asyncValues",x),t("__makeTemplateObject",E),t("__importStar",A),t("__importDefault",S),t("__classPrivateFieldGet",O),t("__classPrivateFieldSet",C),t("__classPrivateFieldIn",T)}))}}),Da=wa({"node_modules/tslib/modules/index.js"(){Ko=Ea(Ta()),({__extends:$o,__assign:Jo,__rest:Yo,__decorate:Go,__param:Qo,__esDecorate:Xo,__runInitializers:Zo,__propKey:ts,__setFunctionName:es,__metadata:is,__awaiter:ns,__generator:rs,__exportStar:os,__createBinding:ss,__values:as,__read:ls,__spread:cs,__spreadArrays:us,__spreadArray:ds,__await:hs,__asyncGenerator:ps,__asyncDelegator:fs,__asyncValues:gs,__makeTemplateObject:ms,__importStar:vs,__importDefault:ys,__classPrivateFieldGet:bs,__classPrivateFieldSet:ws,__classPrivateFieldIn:ks}=Ko.default)}}),La=wa({"node_modules/@segment/analytics-next/dist/pkg/core/environment/index.js"(){}}),Ia=wa({"node_modules/@segment/analytics-next/dist/pkg/core/connection/index.js"(){La()}}),Pa=wa({"node_modules/@segment/analytics-core/dist/esm/emitter/index.js"(){_s=function(){function t(){this.callbacks={}}return t.prototype.on=function(t,e){return this.callbacks[t]?this.callbacks[t].push(e):this.callbacks[t]=[e],this},t.prototype.once=function(t,e){var i=this,n=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];i.off(t,n),e.apply(i,r)};return this.on(t,n),this},t.prototype.off=function(t,e){var i,n=(null!==(i=this.callbacks[t])&&void 0!==i?i:[]).filter((function(t){return t!==e}));return this.callbacks[t]=n,this},t.prototype.emit=function(t){for(var e,i=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return(null!==(e=this.callbacks[t])&&void 0!==e?e:[]).forEach((function(t){t.apply(i,n)})),this},t}()}}),Ma=wa({"node_modules/@segment/analytics-core/dist/esm/emitter/interface.js"(){}}),ja=wa({"node_modules/@segment/analytics-core/dist/esm/plugins/index.js"(){}}),Ra=wa({"node_modules/@segment/analytics-core/dist/esm/events/interfaces.js"(){}}),Fa=wa({"node_modules/dset/dist/index.mjs"(){}}),Ba=wa({"node_modules/@segment/analytics-core/dist/esm/utils/pick.js"(){xs=function(t,e){return Object.keys(t).filter((function(i){return e(i,t[i])})).reduce((function(e,i){return e[i]=t[i],e}),{})}}}),Na=wa({"node_modules/@segment/analytics-core/dist/esm/validation/helpers.js"(){}}),Va=wa({"node_modules/@segment/analytics-core/dist/esm/validation/assertions.js"(){Da(),Na(),Es=function(t){function e(e,i){var n=t.call(this,i)||this;return n.field=e,n}return $o(e,t),e}(Error)}}),Ha=wa({"node_modules/@segment/analytics-core/dist/esm/events/index.js"(){Da(),Ra(),Fa(),Ba(),Va(),function(){function t(t){this.user=t.user,this.createMessageId=t.createMessageId}return t.prototype.track=function(t,e,i,n){return this.normalize(Jo(Jo({},this.baseEvent()),{event:t,type:"track",properties:null!=e?e:{},options:Jo({},i),integrations:Jo({},n)}))},t.prototype.page=function(t,e,i,n,r){var o,s={type:"page",properties:Jo({},i),options:Jo({},n),integrations:Jo({},r)};return null!==t&&(s.category=t,s.properties=null!==(o=s.properties)&&void 0!==o?o:{},s.properties.category=t),null!==e&&(s.name=e),this.normalize(Jo(Jo({},this.baseEvent()),s))},t.prototype.screen=function(t,e,i,n,r){var o={type:"screen",properties:Jo({},i),options:Jo({},n),integrations:Jo({},r)};return null!==t&&(o.category=t),null!==e&&(o.name=e),this.normalize(Jo(Jo({},this.baseEvent()),o))},t.prototype.identify=function(t,e,i,n){return this.normalize(Jo(Jo({},this.baseEvent()),{type:"identify",userId:t,traits:null!=e?e:{},options:Jo({},i),integrations:n}))},t.prototype.group=function(t,e,i,n){return this.normalize(Jo(Jo({},this.baseEvent()),{type:"group",traits:null!=e?e:{},options:Jo({},i),integrations:Jo({},n),groupId:t}))},t.prototype.alias=function(t,e,i,n){var r={userId:t,type:"alias",options:Jo({},i),integrations:Jo({},n)};return null!==e&&(r.previousId=e),void 0===t?this.normalize(Jo(Jo({},r),this.baseEvent())):this.normalize(Jo(Jo({},this.baseEvent()),r))},t.prototype.baseEvent=function(){var t={integrations:{},options:{}};if(!this.user)return t;var e=this.user;return e.id()&&(t.userId=e.id()),e.anonymousId()&&(t.anonymousId=e.anonymousId()),t},t.prototype.context=function(t){var e,i=["userId","anonymousId","timestamp"];delete t.integrations;var n=Object.keys(t),o=null!==(e=t.context)&&void 0!==e?e:{},s={};return n.forEach((function(e){"context"!==e&&(i.includes(e)?r(s,e,t[e]):r(o,e,t[e]))})),[o,s]},t.prototype.normalize=function(t){var e,i,n=Object.keys(null!==(e=t.integrations)&&void 0!==e?e:{}).reduce((function(e,i){var n,r;return Jo(Jo({},e),((n={})[i]=Boolean(null===(r=t.integrations)||void 0===r?void 0:r[i]),n))}),{});t.options=xs(t.options||{},(function(t,e){return void 0!==e}));var r=Jo(Jo({},n),null===(i=t.options)||void 0===i?void 0:i.integrations),o=t.options?this.context(t.options):[],s=o[0],a=o[1],c=(t.options,Yo(t,["options"])),u=Jo(Jo(Jo({timestamp:new Date},c),{integrations:r,context:s}),a),d=Jo(Jo({},u),{messageId:this.createMessageId()});return l(d),d},t}()}}),za=wa({"node_modules/@segment/analytics-core/dist/esm/callback/index.js"(){}}),qa=wa({"node_modules/@segment/analytics-core/dist/esm/priority-queue/backoff.js"(){}}),Wa=wa({"node_modules/@segment/analytics-core/dist/esm/priority-queue/index.js"(){Da(),Pa(),qa(),As="onRemoveFromFuture",Ss=function(t){function e(e,i,n){var r=t.call(this)||this;return r.future=[],r.maxAttempts=e,r.queue=i,r.seen=null!=n?n:{},r}return $o(e,t),e.prototype.push=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=e.map((function(e){return!(t.updateAttempts(e)>t.maxAttempts||t.includes(e))&&(t.queue.push(e),!0)}));return this.queue=this.queue.sort((function(e,i){return t.getAttempts(e)-t.getAttempts(i)})),n},e.prototype.pushWithBackoff=function(t){var e=this;if(0===this.getAttempts(t))return this.push(t)[0];var i=this.updateAttempts(t);if(i>this.maxAttempts||this.includes(t))return!1;var n=h({attempt:i-1});return setTimeout((function(){e.queue.push(t),e.future=e.future.filter((function(e){return e.id!==t.id})),e.emit(As)}),n),this.future.push(t),!0},e.prototype.getAttempts=function(t){var e;return null!==(e=this.seen[t.id])&&void 0!==e?e:0},e.prototype.updateAttempts=function(t){return this.seen[t.id]=this.getAttempts(t)+1,this.getAttempts(t)},e.prototype.includes=function(t){return this.queue.includes(t)||this.future.includes(t)||Boolean(this.queue.find((function(e){return e.id===t.id})))||Boolean(this.future.find((function(e){return e.id===t.id})))},e.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(e.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),e}(_s)}}),Ua=wa({"node_modules/@lukeed/uuid/dist/index.mjs"(){for(Os=256,Cs=[];Os--;)Cs[Os]=(Os+256).toString(16).substring(1)}}),Ka=wa({"node_modules/@segment/analytics-core/dist/esm/logger/index.js"(){Da(),Ds=function(){function t(){this._logs=[]}return t.prototype.log=function(t,e,i){var n=new Date;this._logs.push({level:t,message:e,time:n,extras:i})},Object.defineProperty(t.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),t.prototype.flush=function(){if(this.logs.length>1){var t=this._logs.reduce((function(t,e){var i,n,r,o=Jo(Jo({},e),{json:JSON.stringify(e.extras,null," "),extras:e.extras});delete o.time;var s=null!==(r=null===(n=e.time)||void 0===n?void 0:n.toISOString())&&void 0!==r?r:"";return t[s]&&(s="".concat(s,"-").concat(Math.random())),Jo(Jo({},t),((i={})[s]=o,i))}),{});console.table?console.table(t):console.log(t)}else this.logs.forEach((function(t){var e=t.level,i=t.message,n=t.extras;"info"===e||"debug"===e?console.log(i,null!=n?n:""):console[e](i,null!=n?n:"")}));this._logs=[]},t}()}}),$a=wa({"node_modules/@segment/analytics-core/dist/esm/stats/index.js"(){Da(),Ls=function(t){return{gauge:"g",counter:"c"}[t]},Is=function(){function t(){this.metrics=[]}return t.prototype.increment=function(t,e,i){void 0===e&&(e=1),this.metrics.push({metric:t,value:e,tags:null!=i?i:[],type:"counter",timestamp:Date.now()})},t.prototype.gauge=function(t,e,i){this.metrics.push({metric:t,value:e,tags:null!=i?i:[],type:"gauge",timestamp:Date.now()})},t.prototype.flush=function(){var t=this.metrics.map((function(t){return Jo(Jo({},t),{tags:t.tags.join(",")})}));console.table?console.table(t):console.log(t),this.metrics=[]},t.prototype.serialize=function(){return this.metrics.map((function(t){return{m:t.metric,v:t.value,t:t.tags,k:Ls(t.type),e:t.timestamp}}))},t}(),Ps=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $o(e,t),e.prototype.gauge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.increment=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.flush=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.serialize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return[]},e}(Is)}}),Ja=wa({"node_modules/@segment/analytics-core/dist/esm/context/index.js"(){Ua(),Fa(),Ka(),$a(),Ms=function(){function t(t){var e,i,n;this.retry=null===(e=t.retry)||void 0===e||e,this.type=null!==(i=t.type)&&void 0!==i?i:"plugin Error",this.reason=null!==(n=t.reason)&&void 0!==n?n:""}return t}(),js=function(){function t(t,e,i,n){void 0===e&&(e=p()),void 0===i&&(i=new Ps),void 0===n&&(n=new Ds),this.attempts=0,this.event=t,this._id=e,this.logger=n,this.stats=i}return t.system=function(){},t.prototype.isSame=function(t){return t.id===this.id},t.prototype.cancel=function(t){if(t)throw t;throw new Ms({reason:"Context Cancel"})},t.prototype.log=function(t,e,i){this.logger.log(t,e,i)},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),t.prototype.updateEvent=function(t,e){var i;if("integrations"===t.split(".")[0]){var n=t.split(".")[1];if(!1===(null===(i=this.event.integrations)||void 0===i?void 0:i[n]))return this.event}return r(this.event,t,e),this.event},t.prototype.failedDelivery=function(){return this._failedDelivery},t.prototype.setFailedDelivery=function(t){this._failedDelivery=t},t.prototype.logs=function(){return this.logger.logs},t.prototype.flush=function(){this.logger.flush(),this.stats.flush()},t.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},t}()}}),Ya=wa({"node_modules/@segment/analytics-core/dist/esm/utils/group-by.js"(){Da()}}),Ga=wa({"node_modules/@segment/analytics-core/dist/esm/utils/is-thenable.js"(){Rs=function(t){return"object"==typeof t&&null!==t&&"then"in t&&"function"==typeof t.then}}}),Qa=wa({"node_modules/@segment/analytics-core/dist/esm/task/task-group.js"(){Ga(),Fs=function(){var t,e,i=0;return{done:function(){return t},run:function(n){var r=n();return Rs(r)&&(1==++i&&(t=new Promise((function(t){return e=t}))),r.finally((function(){return 0==--i&&e()}))),r}}}}}),Xa=wa({"node_modules/@segment/analytics-core/dist/esm/queue/delivery.js"(){Da(),Ja()}}),Za=wa({"node_modules/@segment/analytics-core/dist/esm/utils/environment.js"(){}}),tl=wa({"node_modules/@segment/analytics-core/dist/esm/connection/index.js"(){Za()}}),el=wa({"node_modules/@segment/analytics-core/dist/esm/queue/event-queue.js"(){Da(),Ya(),Wa(),Ja(),Pa(),Qa(),Xa(),tl(),Bs=function(t){function e(e){var i=t.call(this)||this;return i.criticalTasks=Fs(),i.plugins=[],i.failedInitializations=[],i.flushing=!1,i.queue=e,i.queue.on(As,(function(){i.scheduleFlush(0)})),i}return $o(e,t),e.prototype.register=function(t,e,i){return ns(this,void 0,void 0,(function(){var n=this;return rs(this,(function(r){switch(r.label){case 0:return[4,Promise.resolve(e.load(t,i)).then((function(){n.plugins.push(e)})).catch((function(i){if("destination"===e.type)return n.failedInitializations.push(e.name),console.warn(e.name,i),void t.log("warn","Failed to load destination",{plugin:e.name,error:i});throw i}))];case 1:return r.sent(),[2]}}))}))},e.prototype.deregister=function(t,e,i){return ns(this,void 0,void 0,(function(){var n;return rs(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),e.unload?[4,Promise.resolve(e.unload(t,i))]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.plugins=this.plugins.filter((function(t){return t.name!==e.name})),[3,4];case 3:return n=r.sent(),t.log("warn","Failed to unload destination",{plugin:e.name,error:n}),[3,4];case 4:return[2]}}))}))},e.prototype.dispatch=function(t){return ns(this,void 0,void 0,(function(){var e;return rs(this,(function(){return t.log("debug","Dispatching"),t.stats.increment("message_dispatched"),this.queue.push(t),e=this.subscribeToDelivery(t),this.scheduleFlush(0),[2,e]}))}))},e.prototype.subscribeToDelivery=function(t){return ns(this,void 0,void 0,(function(){var e=this;return rs(this,(function(){return[2,new Promise((function(i){var n=function(r){r.isSame(t)&&(e.off("flush",n),i(r))};e.on("flush",n)}))]}))}))},e.prototype.dispatchSingle=function(t){return ns(this,void 0,void 0,(function(){var e=this;return rs(this,(function(){return t.log("debug","Dispatching"),t.stats.increment("message_dispatched"),this.queue.updateAttempts(t),t.attempts=1,[2,this.deliver(t).catch((function(i){return e.enqueuRetry(i,t)?e.subscribeToDelivery(t):(t.setFailedDelivery({reason:i}),t)}))]}))}))},e.prototype.isEmpty=function(){return 0===this.queue.length},e.prototype.scheduleFlush=function(t){var e=this;void 0===t&&(t=500),this.flushing||(this.flushing=!0,setTimeout((function(){e.flush().then((function(){setTimeout((function(){e.flushing=!1,e.queue.length&&e.scheduleFlush(0)}),0)}))}),t))},e.prototype.deliver=function(t){return ns(this,void 0,void 0,(function(){var e,i,n,r;return rs(this,(function(o){switch(o.label){case 0:return[4,this.criticalTasks.done()];case 1:o.sent(),e=Date.now(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.flushOne(t)];case 3:return t=o.sent(),i=Date.now()-e,this.emit("delivery_success",t),t.stats.gauge("delivered",i),t.log("debug","Delivered",t.event),[2,t];case 4:throw n=o.sent(),r=n,t.log("error","Failed to deliver",r),this.emit("delivery_failure",t,r),t.stats.increment("delivery_failed"),n;case 5:return[2]}}))}))},e.prototype.enqueuRetry=function(t,e){return!(t instanceof Ms&&!t.retry)&&this.queue.pushWithBackoff(e)},e.prototype.flush=function(){return ns(this,void 0,void 0,(function(){var t,e;return rs(this,(function(i){switch(i.label){case 0:if(0===this.queue.length||w())return[2,[]];if(!(t=this.queue.pop()))return[2,[]];t.attempts=this.queue.getAttempts(t),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.deliver(t)];case 2:return t=i.sent(),this.emit("flush",t,!0),[3,4];case 3:return e=i.sent(),this.enqueuRetry(e,t)||(t.setFailedDelivery({reason:e}),this.emit("flush",t,!1)),[2,[]];case 4:return[2,[t]]}}))}))},e.prototype.isReady=function(){return!0},e.prototype.availableExtensions=function(t){var e=f(this.plugins.filter((function(e){var i,n,r;if("destination"!==e.type&&"Segment.io"!==e.name)return!0;var o=void 0;return null===(i=e.alternativeNames)||void 0===i||i.forEach((function(e){void 0!==t[e]&&(o=t[e])})),null!==(r=null!==(n=t[e.name])&&void 0!==n?n:o)&&void 0!==r?r:!1!==("Segment.io"===e.name||t.All)})),"type"),i=e.before,n=void 0===i?[]:i,r=e.enrichment,o=void 0===r?[]:r,s=e.destination,a=void 0===s?[]:s,l=e.after;return{before:n,enrichment:o,destinations:a,after:void 0===l?[]:l}},e.prototype.flushOne=function(t){var e,i;return ns(this,void 0,void 0,(function(){var n,r,o,s,a,l,c,u,d,h,p,f,g,y;return rs(this,(function(b){switch(b.label){case 0:if(!this.isReady())throw new Error("Not ready");t.attempts>1&&this.emit("delivery_retry",t),n=this.availableExtensions(null!==(e=t.event.integrations)&&void 0!==e?e:{}),r=n.before,o=n.enrichment,s=0,a=r,b.label=1;case 1:return s<a.length?(l=a[s],[4,v(t,l)]):[3,4];case 2:(h=b.sent())instanceof js&&(t=h),this.emit("message_enriched",t,l),b.label=3;case 3:return s++,[3,1];case 4:c=0,u=o,b.label=5;case 5:return c<u.length?(d=u[c],[4,m(t,d)]):[3,8];case 6:(h=b.sent())instanceof js&&(t=h),this.emit("message_enriched",t,d),b.label=7;case 7:return c++,[3,5];case 8:return p=this.availableExtensions(null!==(i=t.event.integrations)&&void 0!==i?i:{}),f=p.destinations,g=p.after,[4,new Promise((function(e,i){setTimeout((function(){var n=f.map((function(e){return m(t,e)}));Promise.all(n).then(e).catch(i)}),0)}))];case 9:return b.sent(),t.stats.increment("message_delivered"),this.emit("message_delivered",t),y=g.map((function(e){return m(t,e)})),[4,Promise.all(y)];case 10:return b.sent(),[2,t]}}))}))},e}(_s)}}),il=wa({"node_modules/@segment/analytics-core/dist/esm/analytics/index.js"(){}}),nl=wa({"node_modules/@segment/analytics-core/dist/esm/analytics/dispatch.js"(){Da(),za(),Ns=function(t,e){var i=Date.now()-t;return Math.max((null!=e?e:300)-i,0)}}}),rl=wa({"node_modules/@segment/analytics-core/dist/esm/utils/bind-all.js"(){}}),ol=wa({"node_modules/@segment/analytics-core/dist/esm/index.js"(){Pa(),Ma(),ja(),Ra(),Ha(),za(),Wa(),Ja(),el(),il(),nl(),Na(),Va(),rl(),$a(),Xa()}}),sl=wa({"node_modules/unfetch/dist/unfetch.module.js"(){}}),al=wa({"node_modules/@segment/analytics-next/dist/pkg/lib/get-global.js"(){Vs=function(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:null}}}),ll=wa({"node_modules/@segment/analytics-next/dist/pkg/lib/fetch.js"(){sl(),al(),Hs=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Vs();return(i&&i.fetch||_).apply(void 0,t)}}}),cl=wa({"node_modules/@segment/analytics-next/dist/pkg/generated/version.js"(){zs="1.51.3"}}),ul=wa({"node_modules/js-cookie/dist/js.cookie.mjs"(){qs=E({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),Ws=qs}}),dl=wa({"node_modules/@segment/analytics-next/dist/pkg/core/query-string/gracefulDecodeURIComponent.js"(){}}),hl=wa({"node_modules/@segment/analytics-next/dist/pkg/core/user/tld.js"(){ul()}}),pl=wa({"node_modules/@segment/analytics-next/dist/pkg/lib/bind-all.js"(){}}),fl=wa({"node_modules/@segment/analytics-next/dist/pkg/core/user/index.js"(){Da(),Ua(),ul(),hl(),pl(),Us={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},Ks=function(){function t(){this.cache={}}return t.prototype.get=function(t){return this.cache[t]},t.prototype.set=function(t,e){this.cache[t]=e},t.prototype.remove=function(t){delete this.cache[t]},Object.defineProperty(t.prototype,"type",{get:function(){return"memory"},enumerable:!1,configurable:!0}),t}(),$s=365,Js=function(t){function e(i){void 0===i&&(i=e.defaults);var n=t.call(this)||this;return n.options=Jo(Jo({},e.defaults),i),n}return $o(e,t),e.available=function(){var t=window.navigator.cookieEnabled;return t||(Ws.set("ajs:cookies","test"),t=document.cookie.includes("ajs:cookies"),Ws.remove("ajs:cookies")),t},Object.defineProperty(e,"defaults",{get:function(){return{maxage:$s,domain:C(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),e.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},e.prototype.get=function(t){try{var e=Ws.get(t);if(!e)return null;try{return JSON.parse(e)}catch(t){return e}}catch(t){return null}},e.prototype.set=function(t,e){"string"==typeof e?Ws.set(t,e,this.opts()):null===e?Ws.remove(t,this.opts()):Ws.set(t,JSON.stringify(e),this.opts())},e.prototype.remove=function(t){return Ws.remove(t,this.opts())},Object.defineProperty(e.prototype,"type",{get:function(){return"cookie"},enumerable:!1,configurable:!0}),e}(Ks),Ys=function(t,e){console.warn("Unable to access ".concat(t,", localStorage may be ").concat(e))},Gs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $o(e,t),e.available=function(){var t="test";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(t){return!1}},e.prototype.get=function(t){try{var e=localStorage.getItem(t);if(null===e)return null;try{return JSON.parse(e)}catch(t){return e}}catch(e){return Ys(t,"unavailable"),null}},e.prototype.set=function(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(e){Ys(t,"full")}},e.prototype.remove=function(t){try{return localStorage.removeItem(t)}catch(e){Ys(t,"unavailable")}},Object.defineProperty(e.prototype,"type",{get:function(){return"localStorage"},enumerable:!1,configurable:!0}),e}(Ks),Qs=function(){function t(t,e){this.storageOptions=e,this.enabledStores=t}return t.prototype.getStores=function(t){var e=this,i=[];return this.enabledStores.filter((function(e){return!t||(null==t?void 0:t.includes(e))})).forEach((function(t){var n=e.storageOptions[t];void 0!==n&&i.push(n)})),i},t.prototype.getAndSync=function(t,e){var i=this.get(t,e),n="number"==typeof i?i.toString():i;return this.set(t,n,e),n},t.prototype.get=function(t,e){for(var i=null,n=0,r=this.getStores(e);n<r.length;n++){if(i=r[n].get(t))return i}return null},t.prototype.set=function(t,e,i){for(var n=0,r=this.getStores(i);n<r.length;n++){r[n].set(t,e)}},t.prototype.clear=function(t,e){for(var i=0,n=this.getStores(e);i<n.length;i++){n[i].remove(t)}},t}(),Xs=function(){function t(t,e){void 0===t&&(t=Us);var i,n,r,o,s=this;this.options={},this.id=function(t){if(s.options.disable)return null;var e=s.identityStore.getAndSync(s.idKey);void 0!==t&&(s.identityStore.set(s.idKey,t),t!==e&&null!==e&&null!==t&&s.anonymousId(null));var i=s.identityStore.getAndSync(s.idKey);if(i)return i;var n=s.legacyUserStore.get(Us.cookie.oldKey);return n?"object"==typeof n?n.id:n:null},this.anonymousId=function(t){var e,i;if(s.options.disable)return null;if(void 0===t){var n=null!==(e=s.identityStore.getAndSync(s.anonKey))&&void 0!==e?e:null===(i=s.legacySIO())||void 0===i?void 0:i[0];if(n)return n}return null===t?(s.identityStore.set(s.anonKey,null),s.identityStore.getAndSync(s.anonKey)):(s.identityStore.set(s.anonKey,null!=t?t:p()),s.identityStore.getAndSync(s.anonKey))},this.traits=function(t){var e;if(!s.options.disable)return null===t&&(t={}),t&&s.traitsStore.set(s.traitsKey,null!=t?t:{}),null!==(e=s.traitsStore.get(s.traitsKey))&&void 0!==e?e:{}},this.options=t,this.cookieOptions=e,this.idKey=null!==(n=null===(i=t.cookie)||void 0===i?void 0:i.key)&&void 0!==n?n:Us.cookie.key,this.traitsKey=null!==(o=null===(r=t.localStorage)||void 0===r?void 0:r.key)&&void 0!==o?o:Us.localStorage.key,this.anonKey="ajs_anonymous_id";var a=!0===t.disable,l=!1!==t.persist,c=a?[]:l?["localStorage","cookie","memory"]:["memory"],u=D(e);t.localStorageFallbackDisabled&&(c=c.filter((function(t){return"localStorage"!==t}))),this.identityStore=new Qs(c,u),this.legacyUserStore=new Qs(c.filter((function(t){return"localStorage"!==t&&"memory"!==t})),u),this.traitsStore=new Qs(c.filter((function(t){return"cookie"!==t})),u);var d=this.legacyUserStore.get(Us.cookie.oldKey);d&&"object"==typeof d&&(d.id&&this.id(d.id),d.traits&&this.traits(d.traits)),T(this)}return t.prototype.legacySIO=function(){var t=this.legacyUserStore.get("_sio");if(!t)return null;var e=t.split("----");return[e[0],e[1]]},t.prototype.identify=function(t,e){if(!this.options.disable){e=null!=e?e:{};var i=this.id();null!==i&&i!==t||(e=Jo(Jo({},this.traits()),e)),t&&this.id(t),this.traits(e)}},t.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},t.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},t.prototype.load=function(){return new t(this.options,this.cookieOptions)},t.prototype.save=function(){return!0},t.defaults=Us,t}(),Zs={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},ta=function(t){function e(e,i){void 0===e&&(e=Zs);var n=t.call(this,e,i)||this;return n.anonymousId=function(){},T(n),n}return $o(e,t),e}(Xs)}}),gl=wa({"node_modules/@segment/analytics-next/dist/pkg/plugins/segmentio/normalize.js"(){Da(),ul(),dl(),hl(),cl(),fl(),ia="npm"}}),ml=wa({"node_modules/@segment/analytics-next/dist/pkg/core/constants/index.js"(){na="api.segment.io/v1"}}),vl=wa({"node_modules/@segment/analytics-next/dist/pkg/core/stats/remote-metrics.js"(){Da(),ll(),cl(),gl(),ml(),ra=function(t,e,i){var n=e.reduce((function(t,e){var i=e.split(":"),n=i[0],r=i[1];return t[n]=r,t}),{});return{type:"Counter",metric:t,value:1,tags:Jo(Jo({},n),{library:"analytics.js",library_version:"web"===i?"next-".concat(zs):"npm:next-".concat(zs)})}},oa=function(){function t(t){var e,i,n,r,o=this;if(this.host=null!==(e=null==t?void 0:t.host)&&void 0!==e?e:na,this.sampleRate=null!==(i=null==t?void 0:t.sampleRate)&&void 0!==i?i:1,this.flushTimer=null!==(n=null==t?void 0:t.flushTimer)&&void 0!==n?n:3e4,this.maxQueueSize=null!==(r=null==t?void 0:t.maxQueueSize)&&void 0!==r?r:20,this.queue=[],this.sampleRate>0){var s=!1,a=function(){s||(s=!0,o.flush().catch(B),s=!1,setTimeout(a,o.flushTimer))};a()}}return t.prototype.increment=function(t,e){if(t.includes("analytics_js.")&&0!==e.length&&!(Math.random()>this.sampleRate||this.queue.length>=this.maxQueueSize)){var i=ra(t,e,I());this.queue.push(i),t.includes("error")&&this.flush().catch(B)}},t.prototype.flush=function(){return ns(this,void 0,void 0,(function(){var t=this;return rs(this,(function(e){switch(e.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch((function(e){B(e),t.sampleRate=0}))];case 1:return e.sent(),[2]}}))}))},t.prototype.send=function(){return ns(this,void 0,void 0,(function(){var t,e,i;return rs(this,(function(){return t={series:this.queue},this.queue=[],e={"Content-Type":"text/plain"},i="https://".concat(this.host,"/m"),[2,Hs(i,{headers:e,body:JSON.stringify(t),method:"POST"})]}))}))},t}()}}),yl=wa({"node_modules/@segment/analytics-next/dist/pkg/core/stats/index.js"(){Da(),ol(),vl(),aa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $o(e,t),e.initRemoteMetrics=function(t){sa=new oa(t)},e.prototype.increment=function(e,i,n){t.prototype.increment.call(this,e,i,n),null==sa||sa.increment(e,null!=n?n:[])},e}(Is)}}),bl=wa({"node_modules/@segment/analytics-next/dist/pkg/core/context/index.js"(){Da(),ol(),yl(),la=function(t){function e(e,i){return t.call(this,e,i,new aa)||this}return $o(e,t),e.system=function(){return new this({type:"track",event:"system"})},e}(js)}}),wl=ka({"node_modules/spark-md5/spark-md5.js"(t,e){!function(i){if("object"==typeof t)e.exports=i();else if("function"==typeof define&&define.amd)define(i);else{var n;try{n=window}catch(t){n=self}n.SparkMD5=i()}}((function(t){"use strict";function e(t,e){var i=t[0],n=t[1],r=t[2],o=t[3];n=((n+=((r=((r+=((o=((o+=((i=((i+=(n&r|~n&o)+e[0]-680876936|0)<<7|i>>>25)+n|0)&n|~i&r)+e[1]-389564586|0)<<12|o>>>20)+i|0)&i|~o&n)+e[2]+606105819|0)<<17|r>>>15)+o|0)&o|~r&i)+e[3]-1044525330|0)<<22|n>>>10)+r|0,n=((n+=((r=((r+=((o=((o+=((i=((i+=(n&r|~n&o)+e[4]-176418897|0)<<7|i>>>25)+n|0)&n|~i&r)+e[5]+1200080426|0)<<12|o>>>20)+i|0)&i|~o&n)+e[6]-1473231341|0)<<17|r>>>15)+o|0)&o|~r&i)+e[7]-45705983|0)<<22|n>>>10)+r|0,n=((n+=((r=((r+=((o=((o+=((i=((i+=(n&r|~n&o)+e[8]+1770035416|0)<<7|i>>>25)+n|0)&n|~i&r)+e[9]-1958414417|0)<<12|o>>>20)+i|0)&i|~o&n)+e[10]-42063|0)<<17|r>>>15)+o|0)&o|~r&i)+e[11]-1990404162|0)<<22|n>>>10)+r|0,n=((n+=((r=((r+=((o=((o+=((i=((i+=(n&r|~n&o)+e[12]+1804603682|0)<<7|i>>>25)+n|0)&n|~i&r)+e[13]-40341101|0)<<12|o>>>20)+i|0)&i|~o&n)+e[14]-1502002290|0)<<17|r>>>15)+o|0)&o|~r&i)+e[15]+1236535329|0)<<22|n>>>10)+r|0,
n=((n+=((r=((r+=((o=((o+=((i=((i+=(n&o|r&~o)+e[1]-165796510|0)<<5|i>>>27)+n|0)&r|n&~r)+e[6]-1069501632|0)<<9|o>>>23)+i|0)&n|i&~n)+e[11]+643717713|0)<<14|r>>>18)+o|0)&i|o&~i)+e[0]-373897302|0)<<20|n>>>12)+r|0,n=((n+=((r=((r+=((o=((o+=((i=((i+=(n&o|r&~o)+e[5]-701558691|0)<<5|i>>>27)+n|0)&r|n&~r)+e[10]+38016083|0)<<9|o>>>23)+i|0)&n|i&~n)+e[15]-660478335|0)<<14|r>>>18)+o|0)&i|o&~i)+e[4]-405537848|0)<<20|n>>>12)+r|0,n=((n+=((r=((r+=((o=((o+=((i=((i+=(n&o|r&~o)+e[9]+568446438|0)<<5|i>>>27)+n|0)&r|n&~r)+e[14]-1019803690|0)<<9|o>>>23)+i|0)&n|i&~n)+e[3]-187363961|0)<<14|r>>>18)+o|0)&i|o&~i)+e[8]+1163531501|0)<<20|n>>>12)+r|0,n=((n+=((r=((r+=((o=((o+=((i=((i+=(n&o|r&~o)+e[13]-1444681467|0)<<5|i>>>27)+n|0)&r|n&~r)+e[2]-51403784|0)<<9|o>>>23)+i|0)&n|i&~n)+e[7]+1735328473|0)<<14|r>>>18)+o|0)&i|o&~i)+e[12]-1926607734|0)<<20|n>>>12)+r|0,n=((n+=((r=((r+=((o=((o+=((i=((i+=(n^r^o)+e[5]-378558|0)<<4|i>>>28)+n|0)^n^r)+e[8]-2022574463|0)<<11|o>>>21)+i|0)^i^n)+e[11]+1839030562|0)<<16|r>>>16)+o|0)^o^i)+e[14]-35309556|0)<<23|n>>>9)+r|0,n=((n+=((r=((r+=((o=((o+=((i=((i+=(n^r^o)+e[1]-1530992060|0)<<4|i>>>28)+n|0)^n^r)+e[4]+1272893353|0)<<11|o>>>21)+i|0)^i^n)+e[7]-155497632|0)<<16|r>>>16)+o|0)^o^i)+e[10]-1094730640|0)<<23|n>>>9)+r|0,n=((n+=((r=((r+=((o=((o+=((i=((i+=(n^r^o)+e[13]+681279174|0)<<4|i>>>28)+n|0)^n^r)+e[0]-358537222|0)<<11|o>>>21)+i|0)^i^n)+e[3]-722521979|0)<<16|r>>>16)+o|0)^o^i)+e[6]+76029189|0)<<23|n>>>9)+r|0,n=((n+=((r=((r+=((o=((o+=((i=((i+=(n^r^o)+e[9]-640364487|0)<<4|i>>>28)+n|0)^n^r)+e[12]-421815835|0)<<11|o>>>21)+i|0)^i^n)+e[15]+530742520|0)<<16|r>>>16)+o|0)^o^i)+e[2]-995338651|0)<<23|n>>>9)+r|0,n=((n+=((o=((o+=(n^((i=((i+=(r^(n|~o))+e[0]-198630844|0)<<6|i>>>26)+n|0)|~r))+e[7]+1126891415|0)<<10|o>>>22)+i|0)^((r=((r+=(i^(o|~n))+e[14]-1416354905|0)<<15|r>>>17)+o|0)|~i))+e[5]-57434055|0)<<21|n>>>11)+r|0,n=((n+=((o=((o+=(n^((i=((i+=(r^(n|~o))+e[12]+1700485571|0)<<6|i>>>26)+n|0)|~r))+e[3]-1894986606|0)<<10|o>>>22)+i|0)^((r=((r+=(i^(o|~n))+e[10]-1051523|0)<<15|r>>>17)+o|0)|~i))+e[1]-2054922799|0)<<21|n>>>11)+r|0,n=((n+=((o=((o+=(n^((i=((i+=(r^(n|~o))+e[8]+1873313359|0)<<6|i>>>26)+n|0)|~r))+e[15]-30611744|0)<<10|o>>>22)+i|0)^((r=((r+=(i^(o|~n))+e[6]-1560198380|0)<<15|r>>>17)+o|0)|~i))+e[13]+1309151649|0)<<21|n>>>11)+r|0,n=((n+=((o=((o+=(n^((i=((i+=(r^(n|~o))+e[4]-145523070|0)<<6|i>>>26)+n|0)|~r))+e[11]-1120210379|0)<<10|o>>>22)+i|0)^((r=((r+=(i^(o|~n))+e[2]+718787259|0)<<15|r>>>17)+o|0)|~i))+e[9]-343485551|0)<<21|n>>>11)+r|0,t[0]=i+t[0]|0,t[1]=n+t[1]|0,t[2]=r+t[2]|0,t[3]=o+t[3]|0}function i(t){var e,i=[];for(e=0;e<64;e+=4)i[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return i}function n(t){var e,i=[];for(e=0;e<64;e+=4)i[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return i}function r(t){var n,r,o,s,a,l,c=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=c;n+=64)e(u,i(t.substring(n-64,n)));for(r=(t=t.substring(n-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<r;n+=1)o[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(o[n>>2]|=128<<(n%4<<3),n>55)for(e(u,o),n=0;n<16;n+=1)o[n]=0;return s=(s=8*c).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),l=parseInt(s[1],16)||0,o[14]=a,o[15]=l,e(u,o),u}function o(t){var i,r,o,s,a,l,c=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=c;i+=64)e(u,n(t.subarray(i-64,i)));for(r=(t=i-64<c?t.subarray(i-64):new Uint8Array(0)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0;i<r;i+=1)o[i>>2]|=t[i]<<(i%4<<3);if(o[i>>2]|=128<<(i%4<<3),i>55)for(e(u,o),i=0;i<16;i+=1)o[i]=0;return s=(s=8*c).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),l=parseInt(s[1],16)||0,o[14]=a,o[15]=l,e(u,o),u}function s(t){var e,i="";for(e=0;e<4;e+=1)i+=f[t>>8*e+4&15]+f[t>>8*e&15];return i}function a(t){var e;for(e=0;e<t.length;e+=1)t[e]=s(t[e]);return t.join("")}function l(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function c(t,e){var i,n=t.length,r=new ArrayBuffer(n),o=new Uint8Array(r);for(i=0;i<n;i+=1)o[i]=t.charCodeAt(i);return e?o:r}function u(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function d(t,e,i){var n=new Uint8Array(t.byteLength+e.byteLength);return n.set(new Uint8Array(t)),n.set(new Uint8Array(e),t.byteLength),i?n:n.buffer}function h(t){var e,i=[],n=t.length;for(e=0;e<n-1;e+=2)i.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,i)}function p(){this.reset()}var f=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==a(r("hello"))&&function(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i},"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(i,n){var r,o,s,a,l=this.byteLength,c=e(i,l),u=l;return n!==t&&(u=e(n,l)),c>u?new ArrayBuffer(0):(r=u-c,o=new ArrayBuffer(r),s=new Uint8Array(o),a=new Uint8Array(this,c,r),s.set(a),o)}}(),p.prototype.append=function(t){return this.appendBinary(l(t)),this},p.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var n,r=this._buff.length;for(n=64;n<=r;n+=64)e(this._hash,i(this._buff.substring(n-64,n)));return this._buff=this._buff.substring(n-64),this},p.prototype.end=function(t){var e,i,n=this._buff,r=n.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r;e+=1)o[e>>2]|=n.charCodeAt(e)<<(e%4<<3);return this._finish(o,r),i=a(this._hash),t&&(i=h(i)),this.reset(),i},p.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},p.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},p.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},p.prototype._finish=function(t,i){var n,r,o,s=i;if(t[s>>2]|=128<<(s%4<<3),s>55)for(e(this._hash,t),s=0;s<16;s+=1)t[s]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),o=parseInt(n[1],16)||0,t[14]=r,t[15]=o,e(this._hash,t)},p.hash=function(t,e){return p.hashBinary(l(t),e)},p.hashBinary=function(t,e){var i=a(r(t));return e?h(i):i},p.ArrayBuffer=function(){this.reset()},p.ArrayBuffer.prototype.append=function(t){var i,r=d(this._buff.buffer,t,!0),o=r.length;for(this._length+=t.byteLength,i=64;i<=o;i+=64)e(this._hash,n(r.subarray(i-64,i)));return this._buff=i-64<o?new Uint8Array(r.buffer.slice(i-64)):new Uint8Array(0),this},p.ArrayBuffer.prototype.end=function(t){var e,i,n=this._buff,r=n.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r;e+=1)o[e>>2]|=n[e]<<(e%4<<3);return this._finish(o,r),i=a(this._hash),t&&(i=h(i)),this.reset(),i},p.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.ArrayBuffer.prototype.getState=function(){var t=p.prototype.getState.call(this);return t.buff=u(t.buff),t},p.ArrayBuffer.prototype.setState=function(t){return t.buff=c(t.buff,!0),p.prototype.setState.call(this,t)},p.ArrayBuffer.prototype.destroy=p.prototype.destroy,p.ArrayBuffer.prototype._finish=p.prototype._finish,p.ArrayBuffer.hash=function(t,e){var i=a(o(new Uint8Array(t)));return e?h(i):i},p}))}}),kl=wa({"node_modules/@segment/analytics-next/dist/pkg/lib/priority-queue/index.js"(){ol()}}),_l=wa({"node_modules/@segment/analytics-next/dist/pkg/lib/priority-queue/persisted.js"(){Da(),kl(),bl(),La(),ca={getItem:function(){},setItem:function(){},removeItem:function(){}};try{ca=t()&&window.localStorage?window.localStorage:ca}catch(t){console.warn("Unable to access localStorage",t)}ua=function(){return(new Date).getTime()},da=function(t){function e(e,i){var n=t.call(this,e,[])||this,r="persisted-queue:v1:".concat(i,":items"),o="persisted-queue:v1:".concat(i,":seen"),s=[],a={};return W(i,(function(){try{s=N(r),a=H(o),q(r),q(o),n.queue=ds(ds([],s,!0),n.queue,!0),n.seen=Jo(Jo({},a),n.seen)}catch(t){console.error(t)}})),window.addEventListener("pagehide",(function(){if(n.todo>0){var t=ds(ds([],n.queue,!0),n.future,!0);try{W(i,(function(){V(r,t),z(o,n.seen)}))}catch(t){console.error(t)}}})),n}return $o(e,t),e}(Ss)}}),xl=wa({"node_modules/@segment/analytics-next/dist/pkg/core/callback/index.js"(){ol()}}),El={};_a(El,{form:()=>J,link:()=>$});var Al,Sl=wa({"node_modules/@segment/analytics-next/dist/pkg/core/auto-track.js"(){xl()}}),Ol=ka({"node_modules/obj-case/index.js"(t,e){function i(t){return function(e,i,n,r){function o(){for(l in e){var t=c(l);if(0===i.indexOf(t)){var n=i.substr(t.length);if("."===n.charAt(0)||0===n.length){i=n.substr(1);var r=e[l];return null==r?void(u=!0):i.length?void(e=r):void(u=!0)}}}l=void 0,u=!0}var l,c=r&&a(r.normalizer)?r.normalizer:s;i=c(i);for(var u=!1;!u;)o();if(l)return null==e?e:t(e,l,n)}}function n(t,e){if(t.hasOwnProperty(e))return t[e]}function r(t,e){return t.hasOwnProperty(e)&&delete t[e],t}function o(t,e,i){return t.hasOwnProperty(e)&&(t[e]=i),t}function s(t){return t.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function a(t){return"function"==typeof t}e.exports=i(n),e.exports.find=e.exports,e.exports.replace=function(t,e,n,r){return i(o).call(this,t,e,n,r),t},e.exports.del=function(t,e,n){return i(r).call(this,t,e,null,n),t}}}),Cl=ka({"node_modules/@segment/facade/dist/address.js"(t){"use strict";function e(t,e){return function(){var i=this.traits(),n=this.properties?this.properties():{};return r.default(i,"address."+t)||r.default(i,t)||(e?r.default(i,"address."+e):null)||(e?r.default(i,e):null)||r.default(n,"address."+t)||r.default(n,t)||(e?r.default(n,"address."+e):null)||(e?r.default(n,e):null)}}function i(t){t.zip=e("postalCode","zip"),t.country=e("country"),t.street=e("street"),t.state=e("state"),t.city=e("city"),t.region=e("region")}var n=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(Ol());t.default=i}}),Tl=ka({"node_modules/@segment/facade/dist/clone.js"(t){"use strict";function e(t){if("object"!=typeof t)return t;if("[object Object]"===Object.prototype.toString.call(t)){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=e(t[n]));return i}return Array.isArray(t)?t.map(e):t}Object.defineProperty(t,"__esModule",{value:!0}),t.clone=void 0,t.clone=e}}),Dl=ka({"node_modules/@segment/facade/dist/is-enabled.js"(t){"use strict";function e(t){return!i[t]}Object.defineProperty(t,"__esModule",{value:!0});var i={Salesforce:!0};t.default=e}}),Ll=ka({"node_modules/@segment/isodate/lib/index.js"(t){"use strict";var e=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;t.parse=function(t){var i=[1,5,6,7,11,12],n=e.exec(t),r=0;if(!n)return new Date(t);for(var o,s=0;o=i[s];s++)n[o]=parseInt(n[o],10)||0;n[2]=parseInt(n[2],10)||1,n[3]=parseInt(n[3],10)||1,n[2]--,n[8]=n[8]?(n[8]+"00").substring(0,3):0," "===n[4]?r=(new Date).getTimezoneOffset():"Z"!==n[9]&&n[10]&&(r=60*n[11]+n[12],"+"===n[10]&&(r=0-r));var a=Date.UTC(n[1],n[2],n[3],n[5],n[6]+r,n[7],n[8]);return new Date(a)},t.is=function(t,i){return"string"==typeof t&&((!i||!1!==/^\d{4}-\d{2}-\d{2}/.test(t))&&e.test(t))}}}),Il=ka({"node_modules/new-date/lib/milliseconds.js"(t){"use strict";var e=/\d{13}/;t.is=function(t){return e.test(t)},t.parse=function(t){return t=parseInt(t,10),new Date(t)}}}),Pl=ka({"node_modules/new-date/lib/seconds.js"(t){"use strict";var e=/\d{10}/;t.is=function(t){return e.test(t)},t.parse=function(t){var e=1e3*parseInt(t,10);return new Date(e)}}}),Ml=ka({"node_modules/new-date/lib/index.js"(t,e){"use strict";function i(t){return"[object Date]"===l.call(t)}function n(t){return"[object Number]"===l.call(t)}function r(t){return t<315576e5?1e3*t:t}var o=Ll(),s=Il(),a=Pl(),l=Object.prototype.toString;e.exports=function(t){return i(t)?t:n(t)?new Date(r(t)):o.is(t)?o.parse(t):s.is(t)?s.parse(t):a.is(t)?a.parse(t):new Date(t)}}}),jl=ka({"node_modules/@segment/isodate-traverse/lib/index.js"(t,e){"use strict";function i(t,e){return void 0===e&&(e=!0),t&&"object"==typeof t?n(t,e):Array.isArray(t)?r(t,e):o.is(t,e)?o.parse(t):t}function n(t,e){return Object.keys(t).forEach((function(n){t[n]=i(t[n],e)})),t}function r(t,e){return t.forEach((function(n,r){t[r]=i(n,e)})),t}var o=Ll();e.exports=i}}),Rl=ka({"node_modules/@segment/facade/dist/facade.js"(t){"use strict";function e(t,e){e=e||{},this.raw=o.clone(t),"clone"in e||(e.clone=!0),e.clone&&(t=o.clone(t)),"traverse"in e||(e.traverse=!0),t.timestamp="timestamp"in t?a.default(t.timestamp):new Date,e.traverse&&c.default(t),this.opts=e,this.obj=t}function i(t){return o.clone(t)}var n=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t,"__esModule",{value:!0}),t.Facade=void 0;var r=n(Cl()),o=Tl(),s=n(Dl()),a=n(Ml()),l=n(Ol()),c=n(jl());t.Facade=e;var u=e.prototype;u.proxy=function(t){var e=t.split("."),n=this[t=e.shift()]||this.obj[t];return n?("function"==typeof n&&(n=n.call(this)||{}),0===e.length||(n=l.default(n,e.join("."))),this.opts.clone?i(n):n):n},u.field=function(t){var e=this.obj[t];return this.opts.clone?i(e):e},e.proxy=function(t){return function(){return this.proxy(t)}},e.field=function(t){return function(){return this.field(t)}},e.multi=function(t){return function(){var e=this.proxy(t+"s");if(Array.isArray(e))return e;var i=this.proxy(t);return i&&(i=[this.opts.clone?o.clone(i):i]),i||[]}},e.one=function(t){return function(){var e=this.proxy(t);if(e)return e;var i=this.proxy(t+"s");return Array.isArray(i)?i[0]:void 0}},u.json=function(){var t=this.opts.clone?o.clone(this.obj):this.obj;return this.type&&(t.type=this.type()),t},u.rawEvent=function(){return this.raw},u.options=function(t){var e=this.obj.options||this.obj.context||{},i=this.opts.clone?o.clone(e):e;if(!t)return i;if(this.enabled(t)){var n=this.integrations(),r=n[t]||l.default(n,t);return"object"!=typeof r&&(r=l.default(this.options(),t)),"object"==typeof r?r:{}}},u.context=u.options,u.enabled=function(t){var e=this.proxy("options.providers.all");"boolean"!=typeof e&&(e=this.proxy("options.all")),"boolean"!=typeof e&&(e=this.proxy("integrations.all")),"boolean"!=typeof e&&(e=!0);var i=e&&s.default(t),n=this.integrations();if(n.providers&&n.providers.hasOwnProperty(t)&&(i=n.providers[t]),n.hasOwnProperty(t)){var r=n[t];i="boolean"!=typeof r||r}return!!i},u.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()},u.active=function(){var t=this.proxy("options.active");return null==t&&(t=!0),t},u.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")},u.sessionId=u.anonymousId,u.groupId=e.proxy("options.groupId"),u.traits=function(t){var e=this.proxy("options.traits")||{},i=this.userId();for(var n in t=t||{},i&&(e.id=i),t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=null==this[n]?this.proxy("options.traits."+n):this[n]();if(null==r)continue;e[t[n]]=r,delete e[n]}return e},u.library=function(){var t=this.proxy("options.library");return t?"string"==typeof t?{name:t,version:null}:t:{name:"unknown",version:null}},u.device=function(){var t=this.proxy("context.device");"object"==typeof t&&null!==t||(t={});var e=this.library().name;return t.type||(e.indexOf("ios")>-1&&(t.type="ios"),e.indexOf("android")>-1&&(t.type="android")),t},u.userAgent=e.proxy("context.userAgent"),u.timezone=e.proxy("context.timezone"),u.timestamp=e.field("timestamp"),u.channel=e.field("channel"),u.ip=e.proxy("context.ip"),u.userId=e.field("userId"),r.default(u)}}),Fl=ka({"node_modules/inherits/inherits_browser.js"(t,e){"function"==typeof Object.create?e.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,e){if(e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}}}}),Bl=ka({"node_modules/@segment/facade/dist/alias.js"(t){"use strict";function e(t,e){r.Facade.call(this,t,e)}var i=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t,"__esModule",{value:!0}),t.Alias=void 0;var n=i(Fl()),r=Rl();t.Alias=e,n.default(e,r.Facade),e.prototype.action=function(){return"alias"},e.prototype.type=e.prototype.action,e.prototype.previousId=function(){return this.field("previousId")||this.field("from")},e.prototype.from=e.prototype.previousId,e.prototype.userId=function(){return this.field("userId")||this.field("to")},e.prototype.to=e.prototype.userId}}),Nl=ka({"node_modules/@segment/facade/dist/is-email.js"(t){"use strict";function e(t){return i.test(t)}Object.defineProperty(t,"__esModule",{value:!0});var i=/.+\@.+\..+/;t.default=e}}),Vl=ka({"node_modules/@segment/facade/dist/group.js"(t){"use strict";function e(t,e){s.Facade.call(this,t,e)}var i=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t,"__esModule",{value:!0}),t.Group=void 0;var n=i(Fl()),r=i(Nl()),o=i(Ml()),s=Rl();t.Group=e,n.default(e,s.Facade);var a=e.prototype;a.action=function(){return"group"},a.type=a.action,a.groupId=s.Facade.field("groupId"),a.created=function(){var t=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(t)return o.default(t)},a.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.groupId();return r.default(e)?e:void 0},a.traits=function(t){var e=this.properties(),i=this.groupId();for(var n in t=t||{},i&&(e.id=i),t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=null==this[n]?this.proxy("traits."+n):this[n]();if(null==r)continue;e[t[n]]=r,delete e[n]}return e},a.name=s.Facade.proxy("traits.name"),a.industry=s.Facade.proxy("traits.industry"),a.employees=s.Facade.proxy("traits.employees"),a.properties=function(){return this.field("traits")||this.field("properties")||{}}}}),Hl=ka({"node_modules/@segment/facade/dist/identify.js"(t){"use strict";function e(t,e){n.Facade.call(this,t,e)}var i=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t,"__esModule",{value:!0}),t.Identify=void 0;var n=Rl(),r=i(Ol()),o=i(Fl()),s=i(Nl()),a=i(Ml()),l=function(t){return t.trim()};t.Identify=e,o.default(e,n.Facade);var c=e.prototype;c.action=function(){return"identify"},c.type=c.action,c.traits=function(t){var e=this.field("traits")||{},i=this.userId();for(var n in t=t||{},i&&(e.id=i),t){var r=null==this[n]?this.proxy("traits."+n):this[n]();null!=r&&(e[t[n]]=r,n!==t[n]&&delete e[n])}return e},c.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.userId();return s.default(e)?e:void 0},c.created=function(){var t=this.proxy("traits.created")||this.proxy("traits.createdAt");if(t)return a.default(t)},c.companyCreated=function(){var t=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(t)return a.default(t)},c.companyName=function(){return this.proxy("traits.company.name")},c.name=function(){var t=this.proxy("traits.name");if("string"==typeof t)return l(t);var e=this.firstName(),i=this.lastName();return e&&i?l(e+" "+i):void 0},c.firstName=function(){var t=this.proxy("traits.firstName");if("string"==typeof t)return l(t);var e=this.proxy("traits.name");return"string"==typeof e?l(e).split(" ")[0]:void 0},c.lastName=function(){var t=this.proxy("traits.lastName");if("string"==typeof t)return l(t);var e=this.proxy("traits.name");if("string"==typeof e){var i=l(e).indexOf(" ");if(-1!==i)return l(e.substr(i+1))}},c.uid=function(){return this.userId()||this.username()||this.email()},c.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")},c.age=function(){var t=this.birthday(),e=r.default(this.traits(),"age");return null!=e?e:t instanceof Date?(new Date).getFullYear()-t.getFullYear():void 0},c.avatar=function(){var t=this.traits();return r.default(t,"avatar")||r.default(t,"photoUrl")||r.default(t,"avatarUrl")},c.position=function(){var t=this.traits();return r.default(t,"position")||r.default(t,"jobTitle")},c.username=n.Facade.proxy("traits.username"),c.website=n.Facade.one("traits.website"),c.websites=n.Facade.multi("traits.website"),c.phone=n.Facade.one("traits.phone"),c.phones=n.Facade.multi("traits.phone"),c.address=n.Facade.proxy("traits.address"),c.gender=n.Facade.proxy("traits.gender"),c.birthday=n.Facade.proxy("traits.birthday")}}),zl=ka({"node_modules/@segment/facade/dist/track.js"(t){"use strict";function e(t,e){o.Facade.call(this,t,e)}function i(t){if(t){if("number"==typeof t)return t;if("string"==typeof t)return t=t.replace(/\$/g,""),t=parseFloat(t),isNaN(t)?void 0:t}}var n=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var r=n(Fl()),o=Rl(),s=Hl(),a=n(Nl()),l=n(Ol());t.Track=e,r.default(e,o.Facade);var c=e.prototype;c.action=function(){return"track"},c.type=c.action,c.event=o.Facade.field("event"),c.value=o.Facade.proxy("properties.value"),c.category=o.Facade.proxy("properties.category"),c.id=o.Facade.proxy("properties.id"),c.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")},c.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")},c.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")},c.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")},c.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")},c.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")},c.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")},c.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")},c.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")},c.sku=o.Facade.proxy("properties.sku"),c.tax=o.Facade.proxy("properties.tax"),c.name=o.Facade.proxy("properties.name"),c.price=o.Facade.proxy("properties.price"),c.total=o.Facade.proxy("properties.total"),c.repeat=o.Facade.proxy("properties.repeat"),c.coupon=o.Facade.proxy("properties.coupon"),c.shipping=o.Facade.proxy("properties.shipping"),c.discount=o.Facade.proxy("properties.discount"),c.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")},c.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")},c.description=o.Facade.proxy("properties.description"),c.plan=o.Facade.proxy("properties.plan"),c.subtotal=function(){var t=l.default(this.properties(),"subtotal"),e=this.total()||this.revenue();if(t)return t;if(!e)return 0;if(this.total()){var i=this.tax();i&&(e-=i),(i=this.shipping())&&(e-=i),(i=this.discount())&&(e+=i)}return e},c.products=function(){var t=this.properties(),e=l.default(t,"products");return Array.isArray(e)?e.filter((function(t){return null!==t})):[]},c.quantity=function(){return(this.obj.properties||{}).quantity||1},c.currency=function(){return(this.obj.properties||{}).currency||"USD"},c.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},c.query=o.Facade.proxy("options.query"),c.properties=function(t){var e=this.field("properties")||{};for(var i in t=t||{})if(Object.prototype.hasOwnProperty.call(t,i)){var n=null==this[i]?this.proxy("properties."+i):this[i]();if(null==n)continue;e[t[i]]=n,delete e[i]}return e},c.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()},c.email=function(){var t=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(t)return t;var e=this.userId();return a.default(e)?e:void 0},c.revenue=function(){var t=this.proxy("properties.revenue"),e=this.event(),n=/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;return!t&&e&&e.match(n)&&(t=this.proxy("properties.total")),i(t)},c.cents=function(){var t=this.revenue();return"number"!=typeof t?this.value()||0:100*t},c.identify=function(){var t=this.json();return t.traits=this.traits(),new s.Identify(t,this.opts)}}}),ql=ka({"node_modules/@segment/facade/dist/page.js"(t){"use strict";function e(t,e){r.Facade.call(this,t,e)}var i=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0;var n=i(Fl()),r=Rl(),o=zl(),s=i(Nl());t.Page=e,n.default(e,r.Facade);var a=e.prototype;a.action=function(){return"page"},a.type=a.action,a.category=r.Facade.field("category"),a.name=r.Facade.field("name"),a.title=r.Facade.proxy("properties.title"),a.path=r.Facade.proxy("properties.path"),a.url=r.Facade.proxy("properties.url"),a.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},a.properties=function(t){var e=this.field("properties")||{},i=this.category(),n=this.name();for(var r in t=t||{},i&&(e.category=i),n&&(e.name=n),t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=null==this[r]?this.proxy("properties."+r):this[r]();if(null==o)continue;e[t[r]]=o,r!==t[r]&&delete e[r]}return e},a.email=function(){var t=this.proxy("context.traits.email")||this.proxy("properties.email");if(t)return t;var e=this.userId();return s.default(e)?e:void 0},a.fullName=function(){var t=this.category(),e=this.name();return e&&t?t+" "+e:e},a.event=function(t){return t?"Viewed "+t+" Page":"Loaded a Page"},a.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new o.Track(e,this.opts)}}}),Wl=ka({"node_modules/@segment/facade/dist/screen.js"(t){"use strict";function e(t,e){r.Page.call(this,t,e)}var i=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t,"__esModule",{value:!0}),t.Screen=void 0;var n=i(Fl()),r=ql(),o=zl();t.Screen=e,n.default(e,r.Page),e.prototype.action=function(){return"screen"},e.prototype.type=e.prototype.action,e.prototype.event=function(t){return t?"Viewed "+t+" Screen":"Loaded a Screen"},e.prototype.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new o.Track(e,this.opts)}}}),Ul=ka({"node_modules/@segment/facade/dist/delete.js"(t){"use strict";function e(t,e){r.Facade.call(this,t,e)}var i=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t,"__esModule",{value:!0}),t.Delete=void 0;var n=i(Fl()),r=Rl();t.Delete=e,n.default(e,r.Facade),e.prototype.type=function(){return"delete"}}}),Kl=ka({"node_modules/@segment/facade/dist/index.js"(t){"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Delete=t.Screen=t.Page=t.Track=t.Identify=t.Group=t.Alias=t.Facade=void 0;var i=Rl();Object.defineProperty(t,"Facade",{enumerable:!0,get:function(){return i.Facade}});var n=Bl();Object.defineProperty(t,"Alias",{enumerable:!0,get:function(){return n.Alias}});var r=Vl();Object.defineProperty(t,"Group",{enumerable:!0,get:function(){return r.Group}});var o=Hl();Object.defineProperty(t,"Identify",{enumerable:!0,get:function(){return o.Identify}});var s=zl();Object.defineProperty(t,"Track",{enumerable:!0,get:function(){return s.Track}});var a=ql();Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return a.Page}});var l=Wl();Object.defineProperty(t,"Screen",{enumerable:!0,get:function(){return l.Screen}});var c=Ul();Object.defineProperty(t,"Delete",{enumerable:!0,get:function(){return c.Delete}}),t.default=e(e({},i.Facade),{Alias:n.Alias,Group:r.Group,Identify:o.Identify,Track:s.Track,Page:a.Page,Screen:l.Screen,Delete:c.Delete})}}),$l=wa({"node_modules/@segment/analytics-next/dist/pkg/lib/to-facade.js"(){Al=Ea(Kl())}}),Jl={};_a(Jl,{applyDestinationMiddleware:()=>G,sourceMiddlewarePlugin:()=>Q});var Yl=wa({"node_modules/@segment/analytics-next/dist/pkg/plugins/middleware/index.js"(){Da(),bl(),$l()}}),Gl=wa({"node_modules/@segment/analytics-next/dist/pkg/core/query-string/pickPrefix.js"(){}}),Ql={};_a(Ql,{queryString:()=>Z});var Xl,Zl,tc,ec,ic,nc,rc,oc,sc,ac,lc=wa({"node_modules/@segment/analytics-next/dist/pkg/core/query-string/index.js"(){Gl(),dl(),ol()}}),cc=wa({"node_modules/@segment/analytics-next/dist/pkg/lib/parse-cdn.js"(){Xl=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,Zl=function(){var t;return Array.prototype.slice.call(document.querySelectorAll("script")).forEach((function(e){var i,n=null!==(i=e.getAttribute("src"))&&void 0!==i?i:"",r=Xl.exec(n);r&&r[1]&&(t=r[1])})),t},ec=function(){var t;return null!=tc?tc:null===(t=window.analytics)||void 0===t?void 0:t._cdn},ic=function(t){window.analytics&&(window.analytics._cdn=t),tc=t},nc=function(){var t=ec();if(t)return t;var e=Zl();return e||"https://cdn.segment.com"},rc=function(){var t=nc();return"".concat(t,"/next-integrations")}}}),uc=wa({"node_modules/@segment/analytics-next/dist/pkg/lib/merged-options.js"(){Da()}}),dc=wa({"node_modules/@segment/analytics-next/dist/pkg/lib/load-script.js"(){}}),hc=wa({"node_modules/@segment/analytics-next/dist/pkg/lib/p-while.js"(){Da(),oc=function(t,e){return ns(void 0,void 0,void 0,(function(){var i;return rs(this,(function(){return[2,(i=function(n){return ns(void 0,void 0,void 0,(function(){var r;return rs(this,(function(o){switch(o.label){case 0:return t(n)?(r=i,[4,e()]):[3,2];case 1:return[2,r.apply(void 0,[o.sent()])];case 2:return[2]}}))}))})(void 0)]}))}))}}}),pc=ka({"node_modules/tiny-hashes/md5/index.js"(t,e){for(i=[],n=0;n<64;)i[n]=0|4294967296*Math.sin(++n%Math.PI);var i,n;e.exports=function(t){var e,r,o,s=[e=1732584193,r=4023233417,~e,~r],a=[],l=unescape(encodeURI(t))+"\x80",c=l.length;for(t=--c/4+2|15,a[--t]=8*c;~c;)a[c>>2]|=l.charCodeAt(c)<<8*c--;for(n=l=0;n<t;n+=16){for(c=s;l<64;c=[o=c[3],e+((o=c[0]+[e&r|~e&o,o&e|~o&r,e^r^o,r^(e|~o)][c=l>>4]+i[l]+~~a[n|15&[l,5*l+1,3*l+5,7*l][c]])<<(c=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*c+l++%4])|o>>>-c),e,r])e=0|c[1],r=c[2];for(l=4;l;)s[--l]+=c[l]}for(t="";l<32;)t+=(s[l>>3]>>4*(1^l++)&15).toString(16);return t}}}),fc=ka({"node_modules/dlv/dist/dlv.umd.js"(t,e){var i;i=t,"object"==typeof t&&void 0!==e?e.exports=function(t,e,i,n,r){for(e=e.split?e.split("."):e,n=0;n<e.length;n++)t=t?t[e[n]]:r;return t===r?i:t}:"function"==typeof define&&define.amd?define((function(){return function(t,e,i,n,r){for(e=e.split?e.split("."):e,n=0;n<e.length;n++)t=t?t[e[n]]:r;return t===r?i:t}})):i.dlv=function(t,e,i,n,r){for(e=e.split?e.split("."):e,n=0;n<e.length;n++)t=t?t[e[n]]:r;return t===r?i:t}}}),gc=ka({"node_modules/@stdlib/constants-float64-pinf/lib/index.js"(t,e){"use strict";var i=Number.POSITIVE_INFINITY;e.exports=i}}),mc=ka({"node_modules/@stdlib/number-ctor/lib/number.js"(t,e){"use strict";e.exports=Number}}),vc=ka({"node_modules/@stdlib/number-ctor/lib/index.js"(t,e){"use strict";var i=mc();e.exports=i}}),yc=ka({"node_modules/@stdlib/constants-float64-ninf/lib/index.js"(t,e){"use strict";var i=vc().NEGATIVE_INFINITY;e.exports=i}}),bc=ka({"node_modules/@stdlib/constants-float64-exponent-bias/lib/index.js"(t,e){"use strict";var i=1023;e.exports=i}}),wc=ka({"node_modules/@stdlib/constants-float64-max-base2-exponent/lib/index.js"(t,e){"use strict";var i=1023;e.exports=i}}),kc=ka({"node_modules/@stdlib/constants-float64-max-base2-exponent-subnormal/lib/index.js"(t,e){"use strict";var i=-1023;e.exports=i}}),_c=ka({"node_modules/@stdlib/constants-float64-min-base2-exponent-subnormal/lib/index.js"(t,e){"use strict";var i=-1074;e.exports=i}}),xc=ka({"node_modules/@stdlib/math-base-assert-is-nan/lib/main.js"(t,e){"use strict";function i(t){return t!=t}e.exports=i}}),Ec=ka({"node_modules/@stdlib/math-base-assert-is-nan/lib/index.js"(t,e){"use strict";var i=xc();e.exports=i}}),Ac=ka({"node_modules/@stdlib/math-base-assert-is-infinite/lib/main.js"(t,e){"use strict";function i(t){return t===n||t===r}var n=gc(),r=yc();e.exports=i}}),Sc=ka({"node_modules/@stdlib/math-base-assert-is-infinite/lib/index.js"(t,e){"use strict";var i=Ac();e.exports=i}}),Oc=ka({"node_modules/@stdlib/constants-float64-high-word-sign-mask/lib/index.js"(t,e){"use strict";var i=2147483648
;e.exports=i}}),Cc=ka({"node_modules/@stdlib/constants-float64-high-word-abs-mask/lib/index.js"(t,e){"use strict";var i=2147483647;e.exports=i}}),Tc=ka({"node_modules/@stdlib/utils-define-property/lib/define_property.js"(t,e){"use strict";var i="function"==typeof Object.defineProperty?Object.defineProperty:null;e.exports=i}}),Dc=ka({"node_modules/@stdlib/utils-define-property/lib/has_define_property_support.js"(t,e){"use strict";function i(){try{return n({},"x",{}),!0}catch(t){return!1}}var n=Tc();e.exports=i}}),Lc=ka({"node_modules/@stdlib/utils-define-property/lib/builtin.js"(t,e){"use strict";var i=Object.defineProperty;e.exports=i}}),Ic=ka({"node_modules/@stdlib/utils-define-property/lib/polyfill.js"(t,e){"use strict";function i(t,e,i){var c,u,d,h;if("object"!=typeof t||null===t||"[object Array]"===r.call(t))throw new TypeError("invalid argument. First argument must be an object. Value: `"+t+"`.");if("object"!=typeof i||null===i||"[object Array]"===r.call(i))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+i+"`.");if((u="value"in i)&&(a.call(t,e)||l.call(t,e)?(c=t.__proto__,t.__proto__=n,delete t[e],t[e]=i.value,t.__proto__=c):t[e]=i.value),d="get"in i,h="set"in i,u&&(d||h))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return d&&o&&o.call(t,e,i.get),h&&s&&s.call(t,e,i.set),t}var n=Object.prototype,r=n.toString,o=n.__defineGetter__,s=n.__defineSetter__,a=n.__lookupGetter__,l=n.__lookupSetter__;e.exports=i}}),Pc=ka({"node_modules/@stdlib/utils-define-property/lib/index.js"(t,e){"use strict";var i,n=Dc(),r=Lc(),o=Ic();i=n()?r:o,e.exports=i}}),Mc=ka({"node_modules/@stdlib/utils-define-nonenumerable-read-only-property/lib/main.js"(t,e){"use strict";function i(t,e,i){n(t,e,{configurable:!1,enumerable:!1,writable:!1,value:i})}var n=Pc();e.exports=i}}),jc=ka({"node_modules/@stdlib/utils-define-nonenumerable-read-only-property/lib/index.js"(t,e){"use strict";var i=Mc();e.exports=i}}),Rc=ka({"node_modules/@stdlib/assert-has-symbol-support/lib/main.js"(t,e){"use strict";function i(){return"function"==typeof Symbol&&"symbol"==typeof Symbol("foo")}e.exports=i}}),Fc=ka({"node_modules/@stdlib/assert-has-symbol-support/lib/index.js"(t,e){"use strict";var i=Rc();e.exports=i}}),Bc=ka({"node_modules/@stdlib/assert-has-tostringtag-support/lib/main.js"(t,e){"use strict";function i(){return n&&"symbol"==typeof Symbol.toStringTag}var n=Fc()();e.exports=i}}),Nc=ka({"node_modules/@stdlib/assert-has-tostringtag-support/lib/index.js"(t,e){"use strict";var i=Bc();e.exports=i}}),Vc=ka({"node_modules/@stdlib/utils-native-class/lib/tostring.js"(t,e){"use strict";var i=Object.prototype.toString;e.exports=i}}),Hc=ka({"node_modules/@stdlib/utils-native-class/lib/native_class.js"(t,e){"use strict";function i(t){return n.call(t)}var n=Vc();e.exports=i}}),zc=ka({"node_modules/@stdlib/assert-has-own-property/lib/main.js"(t,e){"use strict";function i(t,e){return null!=t&&n.call(t,e)}var n=Object.prototype.hasOwnProperty;e.exports=i}}),qc=ka({"node_modules/@stdlib/assert-has-own-property/lib/index.js"(t,e){"use strict";var i=zc();e.exports=i}}),Wc=ka({"node_modules/@stdlib/utils-native-class/lib/tostringtag.js"(t,e){"use strict";var i="function"==typeof Symbol?Symbol.toStringTag:"";e.exports=i}}),Uc=ka({"node_modules/@stdlib/utils-native-class/lib/polyfill.js"(t,e){"use strict";function i(t){var e,i,s;if(null==t)return o.call(t);i=t[r],e=n(t,r);try{t[r]=void 0}catch(e){return o.call(t)}return s=o.call(t),e?t[r]=i:delete t[r],s}var n=qc(),r=Wc(),o=Vc();e.exports=i}}),Kc=ka({"node_modules/@stdlib/utils-native-class/lib/index.js"(t,e){"use strict";var i,n=Nc(),r=Hc(),o=Uc();i=n()?o:r,e.exports=i}}),$c=ka({"node_modules/@stdlib/assert-is-uint32array/lib/main.js"(t,e){"use strict";function i(t){return r&&t instanceof Uint32Array||"[object Uint32Array]"===n(t)}var n=Kc(),r="function"==typeof Uint32Array;e.exports=i}}),Jc=ka({"node_modules/@stdlib/assert-is-uint32array/lib/index.js"(t,e){"use strict";var i=$c();e.exports=i}}),Yc=ka({"node_modules/@stdlib/constants-uint32-max/lib/index.js"(t,e){"use strict";var i=4294967295;e.exports=i}}),Gc=ka({"node_modules/@stdlib/assert-has-uint32array-support/lib/uint32array.js"(t,e){"use strict";var i="function"==typeof Uint32Array?Uint32Array:null;e.exports=i}}),Qc=ka({"node_modules/@stdlib/assert-has-uint32array-support/lib/main.js"(t,e){"use strict";function i(){var t,e;if("function"!=typeof o)return!1;try{e=new o(e=[1,3.14,-3.14,r+1,r+2]),t=n(e)&&1===e[0]&&3===e[1]&&e[2]===r-2&&0===e[3]&&1===e[4]}catch(e){t=!1}return t}var n=Jc(),r=Yc(),o=Gc();e.exports=i}}),Xc=ka({"node_modules/@stdlib/assert-has-uint32array-support/lib/index.js"(t,e){"use strict";var i=Qc();e.exports=i}}),Zc=ka({"node_modules/@stdlib/array-uint32/lib/uint32array.js"(t,e){"use strict";var i="function"==typeof Uint32Array?Uint32Array:void 0;e.exports=i}}),tu=ka({"node_modules/@stdlib/array-uint32/lib/polyfill.js"(t,e){"use strict";function i(){throw new Error("not implemented")}e.exports=i}}),eu=ka({"node_modules/@stdlib/array-uint32/lib/index.js"(t,e){"use strict";var i,n=Xc(),r=Zc(),o=tu();i=n()?r:o,e.exports=i}}),iu=ka({"node_modules/@stdlib/assert-is-float64array/lib/main.js"(t,e){"use strict";function i(t){return r&&t instanceof Float64Array||"[object Float64Array]"===n(t)}var n=Kc(),r="function"==typeof Float64Array;e.exports=i}}),nu=ka({"node_modules/@stdlib/assert-is-float64array/lib/index.js"(t,e){"use strict";var i=iu();e.exports=i}}),ru=ka({"node_modules/@stdlib/assert-has-float64array-support/lib/float64array.js"(t,e){"use strict";var i="function"==typeof Float64Array?Float64Array:null;e.exports=i}}),ou=ka({"node_modules/@stdlib/assert-has-float64array-support/lib/main.js"(t,e){"use strict";function i(){var t,e;if("function"!=typeof r)return!1;try{e=new r([1,3.14,-3.14,NaN]),t=n(e)&&1===e[0]&&3.14===e[1]&&-3.14===e[2]&&e[3]!=e[3]}catch(e){t=!1}return t}var n=nu(),r=ru();e.exports=i}}),su=ka({"node_modules/@stdlib/assert-has-float64array-support/lib/index.js"(t,e){"use strict";var i=ou();e.exports=i}}),au=ka({"node_modules/@stdlib/array-float64/lib/float64array.js"(t,e){"use strict";var i="function"==typeof Float64Array?Float64Array:void 0;e.exports=i}}),lu=ka({"node_modules/@stdlib/array-float64/lib/polyfill.js"(t,e){"use strict";function i(){throw new Error("not implemented")}e.exports=i}}),cu=ka({"node_modules/@stdlib/array-float64/lib/index.js"(t,e){"use strict";var i,n=su(),r=au(),o=lu();i=n()?r:o,e.exports=i}}),uu=ka({"node_modules/@stdlib/assert-is-uint8array/lib/main.js"(t,e){"use strict";function i(t){return r&&t instanceof Uint8Array||"[object Uint8Array]"===n(t)}var n=Kc(),r="function"==typeof Uint8Array;e.exports=i}}),du=ka({"node_modules/@stdlib/assert-is-uint8array/lib/index.js"(t,e){"use strict";var i=uu();e.exports=i}}),hu=ka({"node_modules/@stdlib/constants-uint8-max/lib/index.js"(t,e){"use strict";var i=255;e.exports=i}}),pu=ka({"node_modules/@stdlib/assert-has-uint8array-support/lib/uint8array.js"(t,e){"use strict";var i="function"==typeof Uint8Array?Uint8Array:null;e.exports=i}}),fu=ka({"node_modules/@stdlib/assert-has-uint8array-support/lib/main.js"(t,e){"use strict";function i(){var t,e;if("function"!=typeof o)return!1;try{e=new o(e=[1,3.14,-3.14,r+1,r+2]),t=n(e)&&1===e[0]&&3===e[1]&&e[2]===r-2&&0===e[3]&&1===e[4]}catch(e){t=!1}return t}var n=du(),r=hu(),o=pu();e.exports=i}}),gu=ka({"node_modules/@stdlib/assert-has-uint8array-support/lib/index.js"(t,e){"use strict";var i=fu();e.exports=i}}),mu=ka({"node_modules/@stdlib/array-uint8/lib/uint8array.js"(t,e){"use strict";var i="function"==typeof Uint8Array?Uint8Array:void 0;e.exports=i}}),vu=ka({"node_modules/@stdlib/array-uint8/lib/polyfill.js"(t,e){"use strict";function i(){throw new Error("not implemented")}e.exports=i}}),yu=ka({"node_modules/@stdlib/array-uint8/lib/index.js"(t,e){"use strict";var i,n=gu(),r=mu(),o=vu();i=n()?r:o,e.exports=i}}),bu=ka({"node_modules/@stdlib/assert-is-uint16array/lib/main.js"(t,e){"use strict";function i(t){return r&&t instanceof Uint16Array||"[object Uint16Array]"===n(t)}var n=Kc(),r="function"==typeof Uint16Array;e.exports=i}}),wu=ka({"node_modules/@stdlib/assert-is-uint16array/lib/index.js"(t,e){"use strict";var i=bu();e.exports=i}}),ku=ka({"node_modules/@stdlib/constants-uint16-max/lib/index.js"(t,e){"use strict";var i=65535;e.exports=i}}),_u=ka({"node_modules/@stdlib/assert-has-uint16array-support/lib/uint16array.js"(t,e){"use strict";var i="function"==typeof Uint16Array?Uint16Array:null;e.exports=i}}),xu=ka({"node_modules/@stdlib/assert-has-uint16array-support/lib/main.js"(t,e){"use strict";function i(){var t,e;if("function"!=typeof o)return!1;try{e=new o(e=[1,3.14,-3.14,r+1,r+2]),t=n(e)&&1===e[0]&&3===e[1]&&e[2]===r-2&&0===e[3]&&1===e[4]}catch(e){t=!1}return t}var n=wu(),r=ku(),o=_u();e.exports=i}}),Eu=ka({"node_modules/@stdlib/assert-has-uint16array-support/lib/index.js"(t,e){"use strict";var i=xu();e.exports=i}}),Au=ka({"node_modules/@stdlib/array-uint16/lib/uint16array.js"(t,e){"use strict";var i="function"==typeof Uint16Array?Uint16Array:void 0;e.exports=i}}),Su=ka({"node_modules/@stdlib/array-uint16/lib/polyfill.js"(t,e){"use strict";function i(){throw new Error("not implemented")}e.exports=i}}),Ou=ka({"node_modules/@stdlib/array-uint16/lib/index.js"(t,e){"use strict";var i,n=Eu(),r=Au(),o=Su();i=n()?r:o,e.exports=i}}),Cu=ka({"node_modules/@stdlib/assert-is-little-endian/lib/ctors.js"(t,e){"use strict";var i=yu(),n={uint16:Ou(),uint8:i};e.exports=n}}),Tu=ka({"node_modules/@stdlib/assert-is-little-endian/lib/main.js"(t,e){"use strict";function i(){var t;return(t=new r.uint16(1))[0]=4660,52===new r.uint8(t.buffer)[0]}var n,r=Cu();n=i(),e.exports=n}}),Du=ka({"node_modules/@stdlib/assert-is-little-endian/lib/index.js"(t,e){"use strict";var i=Tu();e.exports=i}}),Lu=ka({"node_modules/@stdlib/number-float64-base-to-words/lib/indices.js"(t,e){"use strict";var i,n,r;!0===Du()?(n=1,r=0):(n=0,r=1),i={HIGH:n,LOW:r},e.exports=i}}),Iu=ka({"node_modules/@stdlib/number-float64-base-to-words/lib/assign.js"(t,e){"use strict";function i(t,e,i,n){return s[0]=t,e[n]=a[l],e[n+i]=a[c],e}var n=eu(),r=cu(),o=Lu(),s=new r(1),a=new n(s.buffer),l=o.HIGH,c=o.LOW;e.exports=i}}),Pu=ka({"node_modules/@stdlib/number-float64-base-to-words/lib/main.js"(t,e){"use strict";function i(t){return n(t,[0,0],1,0)}var n=Iu();e.exports=i}}),Mu=ka({"node_modules/@stdlib/number-float64-base-to-words/lib/index.js"(t,e){"use strict";var i=jc(),n=Pu();i(n,"assign",Iu()),e.exports=n}}),ju=ka({"node_modules/@stdlib/number-float64-base-get-high-word/lib/high.js"(t,e){"use strict";var i;i=!0===Du()?1:0,e.exports=i}}),Ru=ka({"node_modules/@stdlib/number-float64-base-get-high-word/lib/main.js"(t,e){"use strict";function i(t){return s[0]=t,a[o]}var n=eu(),r=cu(),o=ju(),s=new r(1),a=new n(s.buffer);e.exports=i}}),Fu=ka({"node_modules/@stdlib/number-float64-base-get-high-word/lib/index.js"(t,e){"use strict";var i=Ru();e.exports=i}}),Bu=ka({"node_modules/@stdlib/number-float64-base-from-words/lib/indices.js"(t,e){"use strict";var i,n,r;!0===Du()?(n=1,r=0):(n=0,r=1),i={HIGH:n,LOW:r},e.exports=i}}),Nu=ka({"node_modules/@stdlib/number-float64-base-from-words/lib/main.js"(t,e){"use strict";function i(t,e){return a[l]=t,a[c]=e,s[0]}var n=eu(),r=cu(),o=Bu(),s=new r(1),a=new n(s.buffer),l=o.HIGH,c=o.LOW;e.exports=i}}),Vu=ka({"node_modules/@stdlib/number-float64-base-from-words/lib/index.js"(t,e){"use strict";var i=Nu();e.exports=i}}),Hu=ka({"node_modules/@stdlib/math-base-special-copysign/lib/main.js"(t,e){"use strict";function i(t,e){var i,c;return o.assign(t,l,1,0),i=l[0],i&=r,c=s(e),a(i|=c&=n,l[1])}var n=Oc(),r=Cc(),o=Mu(),s=Fu(),a=Vu(),l=[0,0];e.exports=i}}),zu=ka({"node_modules/@stdlib/math-base-special-copysign/lib/index.js"(t,e){"use strict";var i=Hu();e.exports=i}}),qu=ka({"node_modules/@stdlib/constants-float64-smallest-normal/lib/index.js"(t,e){"use strict";var i=22250738585072014e-324;e.exports=i}}),Wu=ka({"node_modules/@stdlib/math-base-special-abs/lib/main.js"(t,e){"use strict";function i(t){return Math.abs(t)}e.exports=i}}),Uu=ka({"node_modules/@stdlib/math-base-special-abs/lib/index.js"(t,e){"use strict";var i=Wu();e.exports=i}}),Ku=ka({"node_modules/@stdlib/number-float64-base-normalize/lib/assign.js"(t,e){"use strict";function i(t,e,i,l){return o(t)||r(t)?(e[l]=t,e[l+i]=0,e):0!==t&&s(t)<n?(e[l]=t*a,e[l+i]=-52,e):(e[l]=t,e[l+i]=0,e)}var n=qu(),r=Sc(),o=Ec(),s=Uu(),a=4503599627370496;e.exports=i}}),$u=ka({"node_modules/@stdlib/number-float64-base-normalize/lib/main.js"(t,e){"use strict";function i(t){return n(t,[0,0],1,0)}var n=Ku();e.exports=i}}),Ju=ka({"node_modules/@stdlib/number-float64-base-normalize/lib/index.js"(t,e){"use strict";var i=jc(),n=$u();i(n,"assign",Ku()),e.exports=n}}),Yu=ka({"node_modules/@stdlib/constants-float64-high-word-exponent-mask/lib/index.js"(t,e){"use strict";var i=2146435072;e.exports=i}}),Gu=ka({"node_modules/@stdlib/number-float64-base-exponent/lib/main.js"(t,e){"use strict";function i(t){var e=n(t);return(e=(e&r)>>>20)-o|0}var n=Fu(),r=Yu(),o=bc();e.exports=i}}),Qu=ka({"node_modules/@stdlib/number-float64-base-exponent/lib/index.js"(t,e){"use strict";var i=Gu();e.exports=i}}),Xu=ka({"node_modules/@stdlib/math-base-special-ldexp/lib/ldexp.js"(t,e){"use strict";function i(t,e){var i,w;return 0===t||c(t)||u(t)?t:(h(y,t),t=y[0],e+=y[1],(e+=p(t))<l?d(0,t):e>s?t<0?r:n:(e<=a?(e+=52,w=m):w=1,f(b,t),i=b[0],i&=v,w*g(i|=e+o<<20,b[1])))}var n=gc(),r=yc(),o=bc(),s=wc(),a=kc(),l=_c(),c=Ec(),u=Sc(),d=zu(),h=Ju(),p=Qu(),f=Mu(),g=Vu(),m=2220446049250313e-31,v=2148532223,y=[0,0],b=[0,0];e.exports=i}}),Zu=ka({"node_modules/@stdlib/math-base-special-ldexp/lib/index.js"(t,e){"use strict";var i=Xu();e.exports=i}}),td=ka({"node_modules/dset/dist/index.js"(t){function e(t,e,i){e.split&&(e=e.split("."));for(var n,r,o=0,s=e.length,a=t;o<s&&"__proto__"!==(r=e[o++])&&"constructor"!==r&&"prototype"!==r;)a=a[r]=o===s?i:typeof(n=a[r])==typeof e?n:0*e[o]!=0||~(""+e[o]).indexOf(".")?{}:[]}t.dset=e}}),ed=ka({"node_modules/@segment/tsub/dist/unset.js"(t){"use strict";function e(t,e){if((0,n.default)(t,e)){for(var i=e.split("."),r=i.pop();i.length&&"\\"===i[i.length-1].slice(-1);)r=i.pop().slice(0,-1)+"."+r;for(;i.length;)t=t[e=i.shift()];return delete t[r]}return!0}var i=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t,"__esModule",{value:!0}),t.unset=void 0;var n=i(fc());t.unset=e}}),id=ka({"node_modules/@segment/tsub/dist/transformers.js"(t){"use strict";function e(t,e){for(var s=t,a=0,l=e;a<l.length;a++){var c=l[a];switch(c.type){case"drop":return null;case"drop_properties":i(s,c.config);break;case"allow_properties":n(s,c.config);break;case"sample_event":if(o(s,c.config))break;return null;case"map_properties":r(s,c.config);break;case"hash_properties":break;default:throw new Error('Transformer of type "'.concat(c.type,'" is unsupported.'))}}return s}function i(t,e){for(var i in e.drop)if(e.drop.hasOwnProperty(i)){var n=""===i?t:(0,d.default)(t,i);if("object"==typeof n&&null!==n)for(var r=0,o=e.drop[i];r<o.length;r++){delete n[o[r]]}}}function n(t,e){for(var i in e.allow)if(e.allow.hasOwnProperty(i)){var n=""===i?t:(0,d.default)(t,i);if("object"==typeof n&&null!==n)for(var r in n)n.hasOwnProperty(r)&&-1===e.allow[i].indexOf(r)&&delete n[r]}}function r(t,e){var i=JSON.parse(JSON.stringify(t));for(var n in e.map)if(e.map.hasOwnProperty(n)){var r=e.map[n],o=n.split("."),s=void 0;if(o.length>1?(o.pop(),s=(0,d.default)(i,o.join("."))):s=t,"object"==typeof s){if(r.copy){var a=(0,d.default)(i,r.copy);void 0!==a&&(0,p.dset)(t,n,a)}else if(r.move){var l=(0,d.default)(i,r.move);void 0!==l&&(0,p.dset)(t,n,l),(0,f.unset)(t,r.move)}else r.hasOwnProperty("set")&&(0,p.dset)(t,n,r.set);if(r.to_string){var c=(0,d.default)(t,n);if("string"==typeof c||"object"==typeof c&&null!==c)continue;void 0!==c?(0,p.dset)(t,n,JSON.stringify(c)):(0,p.dset)(t,n,"undefined")}}}}function o(t,e){return!(e.sample.percent<=0)&&(e.sample.percent>=1||(e.sample.path?a(t,e):s(e.sample.percent)))}function s(t){return Math.random()<=t}function a(t,e){var i=(0,d.default)(t,e.sample.path),n=(0,u.default)(JSON.stringify(i)),r=-64,o=[];l(n.slice(0,8),o);for(var s=0,a=0;a<64&&1!==o[a];a++)s++;if(0!==s){var c=[];l(n.slice(9,16),c),r-=s,o.splice(0,s),c.splice(64-s),o=o.concat(c)}return o[63]=0===o[63]?1:0,(0,h.default)(parseInt(o.join(""),2),r)<e.sample.percent}function l(t,e){for(var i=0;i<8;i++)for(var n=t[i],r=128;r>=1;r/=2)n-r>=0?(n-=r,e.push(1)):e.push(0)}var c=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t,"__esModule",{value:!0});var u=c(pc()),d=c(fc()),h=c(Zu()),p=td(),f=ed();t.default=e}}),nd=ka({"node_modules/@segment/tsub/dist/matchers.js"(t){"use strict";function e(t,e){if(!e)throw new Error("No matcher supplied!");switch(e.type){case"all":return i();case"fql":return n(e.ir,t);default:throw new Error("Matcher of type ".concat(e.type," unsupported."))}}function i(){return!0}function n(t,e){if(!t)return!1;try{t=JSON.parse(t)}catch(e){throw new Error('Failed to JSON.parse FQL intermediate representation "'.concat(t,'": ').concat(e))}var i=r(t,e);return"boolean"==typeof i&&i}function r(t,e){if(!Array.isArray(t))return!0===o(t,e);var i=t[0];switch(i){case"!":return!r(t[1],e);case"or":for(var n=1;n<t.length;n++)if(r(t[n],e))return!0;return!1;case"and":for(n=1;n<t.length;n++)if(!r(t[n],e))return!1;return!0;case"=":case"!=":return l(o(t[1],e),o(t[2],e),i,e);case"<=":case"<":case">":case">=":return a(o(t[1],e),o(t[2],e),i,e);case"in":return s(o(t[1],e),o(t[2],e),e);case"contains":return c(o(t[1],e),o(t[2],e));case"match":return u(o(t[1],e),o(t[2],e));case"lowercase":var h=o(t[1],e);return"string"!=typeof h?null:h.toLowerCase();case"typeof":return typeof o(t[1],e);case"length":return d(o(t[1],e));default:throw new Error("FQL IR could not evaluate for token: ".concat(i))}}function o(t,e){return Array.isArray(t)?t:"object"==typeof t?t.value:(0,y.default)(e,t)}function s(t,e,i){return void 0!==e.find((function(e){return o(e,i)===t}))}function a(t,e,i,n){if(h(t)&&(t=r(t,n)),h(e)&&(e=r(e,n)),"number"!=typeof t||"number"!=typeof e)return!1;switch(i){case"<=":return t<=e;case">=":return t>=e;case"<":return t<e;case">":return t>e;default:throw new Error("Invalid operator in compareNumbers: ".concat(i))}}function l(t,e,i,n){switch(h(t)&&(t=r(t,n)),h(e)&&(e=r(e,n)),"object"==typeof t&&"object"==typeof e&&(t=JSON.stringify(t),e=JSON.stringify(e)),i){case"=":return t===e;case"!=":return t!==e;default:throw new Error("Invalid operator in compareItems: ".concat(i))}}function c(t,e){return"string"==typeof t&&"string"==typeof e&&-1!==t.indexOf(e)}function u(t,e){return"string"==typeof t&&"string"==typeof e&&p(e,t)}function d(t){return null===t?0:Array.isArray(t)||"string"==typeof t?t.length:NaN}function h(t){return!!Array.isArray(t)&&(("lowercase"===t[0]||"length"===t[0]||"typeof"===t[0])&&2===t.length||("contains"===t[0]||"match"===t[0])&&3===t.length)}function p(t,e){var i,n;t:for(;t.length>0;){var r=void 0,o=void 0;if(r=(i=f(t)).star,o=i.chunk,t=i.pattern,r&&""===o)return!0;var s=g(o,e),a=s.t,l=s.ok,c=s.err;if(c)return!1;if(!l||!(0===a.length||t.length>0)){if(r)for(var u=0;u<e.length;u++){if(a=(n=g(o,e.slice(u+1))).t,l=n.ok,c=n.err,l){if(0===t.length&&a.length>0)continue;e=a;continue t}if(c)return!1}return!1}e=a}return 0===e.length}function f(t){for(var e={star:!1,chunk:"",pattern:""};t.length>0&&"*"===t[0];)t=t.slice(1),e.star=!0;var i,n=!1;t:for(i=0;i<t.length;i++)switch(t[i]){case"\\":i+1<t.length&&i++;break;case"[":n=!0;break;case"]":n=!1;break;case"*":if(!n)break t}return e.chunk=t.slice(0,i),e.pattern=t.slice(i),e}function g(t,e){for(var i,n,r={t:"",ok:!1,err:!1};t.length>0;){if(0===e.length)return r;switch(t[0]){case"[":var o=e[0];e=e.slice(1);var s=!0;(t=t.slice(1)).length>0&&"^"===t[0]&&(s=!1,t=t.slice(1));for(var a=!1,l=0;;){if(t.length>0&&"]"===t[0]&&l>0){t=t.slice(1);break}var c="",u="";if(c=(i=m(t)).char,t=i.newChunk,i.err)return r;if(u=c,"-"===t[0]&&(u=(n=m(t.slice(1))).char,t=n.newChunk,n.err))return r;c<=o&&o<=u&&(a=!0),l++}if(a!==s)return r;break;case"?":e=e.slice(1),t=t.slice(1);break;case"\\":if(0===(t=t.slice(1)).length)return r.err=!0,r;default:if(t[0]!==e[0])return r;e=e.slice(1),t=t.slice(1)}}return r.t=e,r.ok=!0,r.err=!1,r}function m(t){var e={char:"",newChunk:"",err:!1};return 0===t.length||"-"===t[0]||"]"===t[0]||"\\"===t[0]&&0===(t=t.slice(1)).length?(e.err=!0,e):(e.char=t[0],e.newChunk=t.slice(1),0===e.newChunk.length&&(e.err=!0),e)}var v=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t,"__esModule",{value:!0});var y=v(fc());t.default=e}}),rd=ka({"node_modules/@segment/tsub/dist/store.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function t(t){this.rules=[],this.rules=t||[]}return t.prototype.getRulesByDestinationName=function(t){for(var e=[],i=0,n=this.rules;i<n.length;i++){var r=n[i];r.destinationName!==t&&void 0!==r.destinationName||e.push(r)}return e},t}();t.default=e}}),od=ka({"node_modules/@segment/tsub/dist/index.js"(t){"use strict";var e=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t,"__esModule",{value:!0}),t.Store=t.matches=t.transform=void 0;var i=id();Object.defineProperty(t,"transform",{enumerable:!0,get:function(){return e(i).default}});var n=nd();Object.defineProperty(t,"matches",{enumerable:!0,get:function(){return e(n).default}});var r=rd();Object.defineProperty(t,"Store",{enumerable:!0,get:function(){return e(r).default}})}}),sd={};_a(sd,{tsubMiddleware:()=>ac});var ad,ld,cd,ud,dd=wa({"node_modules/@segment/analytics-next/dist/pkg/plugins/routing-middleware/index.js"(){sc=Ea(od()),ac=function(t){return function(e){var i=e.payload,n=e.integration,r=e.next;new sc.Store(t).getRulesByDestinationName(n).forEach((function(t){for(var e=t.matchers,n=t.transformers,o=0;o<e.length;o++)if(sc.matches(i.obj,e[o])&&(i.obj=sc.transform(i.obj,n[o]),null===i.obj))return r(null)})),r(i)}}}}),hd=wa({"node_modules/@segment/analytics-next/dist/pkg/lib/is-plan-event-enabled.js"(){}}),pd=wa({"node_modules/@segment/analytics-next/dist/pkg/plugins/ajs-destination/loader.js"(){Da(),cc(),dc()}}),fd=wa({"node_modules/@segment/analytics-next/dist/pkg/plugins/ajs-destination/utils.js"(){ad=function(t,e){var i,n=e.type,r=e.bundlingStatus,o=e.versionSettings,s="unbundled"!==r&&("browser"===n||(null===(i=null==o?void 0:o.componentTypes)||void 0===i?void 0:i.includes("browser")));return!t.startsWith("Segment")&&"Iterable"!==t&&s},ld=function(t,e){var i=!1===e.All&&void 0===e[t];return!1===e[t]||i}}}),gd={};_a(gd,{LegacyDestination:()=>ud,ajsDestinations:()=>ft});var md=wa({"node_modules/@segment/analytics-next/dist/pkg/plugins/ajs-destination/index.js"(){Da(),cd=Ea(Kl()),Ia(),bl(),La(),ol(),hd(),uc(),hc(),kl(),_l(),Yl(),pd(),ol(),fd(),ud=function(){function t(t,e,i,n,r){void 0===i&&(i={}),this.options={},this.type="destination",this.middleware=[],this._ready=!1,this._initialized=!1,this.flushing=!1,this.name=t,this.version=e,this.settings=Jo({},i),this.disableAutoISOConversion=n.disableAutoISOConversion||!1,this.integrationSource=r,this.settings.type&&"browser"===this.settings.type&&delete this.settings.type,this.options=n,this.buffer=n.disableClientPersistence?new Ss(4,[]):new da(4,"dest-".concat(t)),this.scheduleFlush()}return t.prototype.isLoaded=function(){return this._ready},t.prototype.ready=function(){var t;return null!==(t=this.onReady)&&void 0!==t?t:Promise.resolve()},t.prototype.load=function(t,e){var i;return ns(this,void 0,void 0,(function(){var n,r,o=this;return rs(this,(function(s){switch(s.label){case 0:return this._ready||void 0!==this.onReady?[2]:null===(i=this.integrationSource)||void 0===i?[3,1]:(r=i,[3,3]);case 1:return[4,ut(t,this.name,this.version,this.options.obfuscate)];case 2:r=s.sent(),s.label=3;case 3:n=r,this.integration=ct(n,this.settings,e),this.onReady=new Promise((function(t){var e=function(){o._ready=!0,t(!0)};o.integration.once("ready",e)})),this.onInitialize=new Promise((function(t){var e=function(){o._initialized=!0,t(!0)};o.integration.on("initialize",e)}));try{t.stats.increment("analytics_js.integration.invoke",1,["method:initialize","integration_name:".concat(this.name)]),this.integration.initialize()}catch(e){throw t.stats.increment("analytics_js.integration.invoke.error",1,["method:initialize","integration_name:".concat(this.name)]),e}return[2]}}))}))},t.prototype.unload=function(){return dt(this.name,this.version,this.options.obfuscate)},t.prototype.addMiddleware=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this.middleware=(t=this.middleware).concat.apply(t,e)},t.prototype.shouldBuffer=function(t){return"page"!==t.event.type&&(n()||!1===this._ready||!1===this._initialized)},t.prototype.send=function(t,e,i){var n,r;return ns(this,void 0,void 0,(function(){var o,s,a,l,c,u;return rs(this,(function(d){switch(d.label){case 0:if(this.shouldBuffer(t))return this.buffer.push(t),this.scheduleFlush(),[2,t];if(o=null===(r=null===(n=this.options)||void 0===n?void 0:n.plan)||void 0===r?void 0:r.track,s=t.event.event,o&&s&&"Segment.io"!==this.name){if(a=o[s],!rt(o,a))return t.updateEvent("integrations",Jo(Jo({},t.event.integrations),{All:!1,"Segment.io":!0})),t.cancel(new Ms({retry:!1,reason:"Event ".concat(s," disabled for integration ").concat(this.name," in tracking plan"),type:"Dropped by plan"})),[2,t];if(t.updateEvent("integrations",Jo(Jo({},t.event.integrations),null==a?void 0:a.integrations)),(null==a?void 0:a.enabled)&&!1===(null==a?void 0:a.integrations[this.name]))return t.cancel(new Ms({retry:!1,reason:"Event ".concat(s," disabled for integration ").concat(this.name," in tracking plan"),type:"Dropped by plan"})),[2,t]}return[4,G(this.name,t.event,this.middleware)];case 1:if(null===(l=d.sent()))return[2,t];c=new e(l,{traverse:!this.disableAutoISOConversion}),t.stats.increment("analytics_js.integration.invoke",1,["method:".concat(i),"integration_name:".concat(this.name)]),d.label=2;case 2:return d.trys.push([2,5,,6]),this.integration?[4,this.integration.invoke.call(this.integration,i,c)]:[3,4];case 3:d.sent(),d.label=4;case 4:return[3,6];case 5:throw u=d.sent(),t.stats.increment("analytics_js.integration.invoke.error",1,["method:".concat(i),"integration_name:".concat(this.name)]),u;case 6:return[2,t]}}))}))},t.prototype.track=function(t){return ns(this,void 0,void 0,(function(){return rs(this,(function(){return[2,this.send(t,cd.Track,"track")]}))}))},t.prototype.page=function(t){var e;return ns(this,void 0,void 0,(function(){var i=this;return rs(this,(function(){return(null===(e=this.integration)||void 0===e?void 0:e._assumesPageview)&&!this._initialized&&this.integration.initialize(),[2,this.onInitialize.then((function(){return i.send(t,cd.Page,"page")}))]}))}))},t.prototype.identify=function(t){return ns(this,void 0,void 0,(function(){return rs(this,(function(){return[2,this.send(t,cd.Identify,"identify")]}))}))},t.prototype.alias=function(t){return ns(this,void 0,void 0,(function(){return rs(this,(function(){return[2,this.send(t,cd.Alias,"alias")]}))}))},t.prototype.group=function(t){return ns(this,void 0,void 0,(function(){return rs(this,(function(){return[2,this.send(t,cd.Group,"group")]}))}))},t.prototype.scheduleFlush=function(){var t=this;this.flushing||setTimeout((function(){return ns(t,void 0,void 0,(function(){var t;return rs(this,(function(e){switch(e.label){case 0:return this.flushing=!0,t=this,[4,pt(this,this.buffer)];case 1:return t.buffer=e.sent(),this.flushing=!1,this.buffer.todo>0&&this.scheduleFlush(),[2]}}))}))}),5e3*Math.random())},t}()}}),vd=ka({"node_modules/@segment/analytics.js-video-plugins/dist/index.umd.js"(t,e){var i,n;i=window,n=function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(n,r,function(e){return t[e]}.bind(null,r));return n},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,i){"use strict";i.r(e);var n="function"==typeof fetch?fetch.bind():function(t,e){return e=e||{},new Promise((function(i,n){function r(){var t,e=[],i=[],n={};return o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(r,o,s){e.push(o=o.toLowerCase()),i.push([o,s]),t=n[o],n[o]=t?t+","+s:s})),{ok:2==(o.status/100|0),status:o.status,statusText:o.statusText,url:o.responseURL,clone:r,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(o.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([o.response]))},headers:{keys:function(){return e},entries:function(){return i},get:function(t){return n[t.toLowerCase()]},has:function(t){return t.toLowerCase()in n}}}}var o=new XMLHttpRequest;for(var s in o.open(e.method||"get",t,!0),e.headers)o.setRequestHeader(s,e.headers[s]);o.withCredentials="include"==e.credentials,o.onload=function(){i(r())},o.onerror=n,o.send(e.body)}))};e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pluginName=e}return i(t,[{key:"track",value:function(t,e){window.analytics.track(t,e,{integration:{name:this.pluginName}})}}]),t}();e.default=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.YouTubeAnalytics=e.VimeoAnalytics=void 0;var r=n(i(3)),o=n(i(4));e.VimeoAnalytics=r.default,e.YouTubeAnalytics=o.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=n(i(0)),s=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"VimeoAnalytics"));return n.authToken=i,n.player=t,n.metadata={content:{},playback:{videoPlayer:"Vimeo"}},n.mostRecentHeartbeat=0,n.isPaused=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"initialize",value:function(){var t=this,e={loaded:this.retrieveMetadata,play:this.trackPlay,pause:this.trackPause,ended:this.trackEnded,timeupdate:this.trackHeartbeat};for(var i in e)this.registerHandler(i,e[i]);this.player.getVideoId().then((function(e){t.retrieveMetadata({id:e})})).catch(console.error)}},{key:"registerHandler",value:function(t,e){var i=this;this.player.on(t,(function(t){i.updateMetadata(t),e.call(i,t)}))}},{key:"trackPlay",value:function(){this.isPaused?(this.track("Video Playback Resumed",this.metadata.playback),this.isPaused=!1):(this.track("Video Playback Started",this.metadata.playback),this.track("Video Content Started",this.metadata.content))}},{key:"trackEnded",value:function(){this.track("Video Playback Completed",this.metadata.playback),this.track("Video Content Completed",this.metadata.content)}},{key:"trackHeartbeat",value:function(){var t=this.mostRecentHeartbeat,e=this.metadata.playback.position
;e!==t&&e-t>=10&&(this.track("Video Content Playing",this.metadata.content),this.mostRecentHeartbeat=Math.floor(e))}},{key:"trackPause",value:function(){this.isPaused=!0,this.track("Video Playback Paused",this.metadata.playback)}},{key:"retrieveMetadata",value:function(t){var e=this;return new Promise((function(i,n){var r=t.id;(0,o.default)("https://api.vimeo.com/videos/"+r,{headers:{Authorization:"Bearer "+e.authToken}}).then((function(t){return t.ok?t.json():n(t)})).then((function(t){e.metadata.content.title=t.name,e.metadata.content.description=t.description,e.metadata.content.publisher=t.user.name,e.metadata.playback.position=0,e.metadata.playback.totalLength=t.duration})).catch((function(t){return console.error("Request to Vimeo API Failed with: ",t),n(t)}))}))}},{key:"updateMetadata",value:function(t){var e=this;return new Promise((function(i,n){e.player.getVolume().then((function(n){n&&(e.metadata.playback.sound=100*n),e.metadata.playback.position=t.seconds,i()})).catch(n)}))}}]),e}(n(i(1)).default);e.default=s},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){var e=t.match(/PT(\d+H)?(\d+M)?(\d+S)?/);return e=e.slice(1).map((function(t){if(null!=t)return t.replace(/\D/,"")})),3600*(parseInt(e[0])||0)+60*(parseInt(e[1])||0)+(parseInt(e[2])||0)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=n(i(0)),a=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"YoutubeAnalytics"));return n.player=t,n.apiKey=i,n.playerLoaded=!1,n.playbackStarted=!1,n.contentStarted=!1,n.isPaused=!1,n.isBuffering=!1,n.isSeeking=!1,n.lastRecordedTime={timeReported:Date.now(),timeElapsed:0},n.metadata=[{playback:{video_player:"youtube"},content:{}}],n.playlistIndex=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"initialize",value:function(){window.segmentYoutubeOnStateChange=this.onPlayerStateChange.bind(this),window.segmentYoutubeOnReady=this.onPlayerReady.bind(this),this.player.addEventListener("onReady","segmentYoutubeOnReady"),this.player.addEventListener("onStateChange","segmentYoutubeOnStateChange")}},{key:"onPlayerReady",value:function(){this.retrieveMetadata()}},{key:"onPlayerStateChange",value:function(t){var e=this.player.getCurrentTime();switch(this.metadata[this.playlistIndex]&&(this.metadata[this.playlistIndex].playback.position=this.metadata[this.playlistIndex].content.position=e,this.metadata[this.playlistIndex].playback.quality=this.player.getPlaybackQuality(),this.metadata[this.playlistIndex].playback.sound=this.player.isMuted()?0:this.player.getVolume()),t.data){case-1:if(this.playerLoaded)break;this.retrieveMetadata(),this.playerLoaded=!0;break;case YT.PlayerState.BUFFERING:this.handleBuffer();break;case YT.PlayerState.PLAYING:this.handlePlay();break;case YT.PlayerState.PAUSED:this.handlePause();break;case YT.PlayerState.ENDED:this.handleEnd()}this.lastRecordedTime={timeReported:Date.now(),timeElapsed:1e3*this.player.getCurrentTime()}}},{key:"retrieveMetadata",value:function(){var t=this;return new Promise((function(e,i){var n=t.player.getVideoData(),o=t.player.getPlaylist()||[n.video_id],a=o.join();(0,s.default)("https://www.googleapis.com/youtube/v3/videos?id="+a+"&part=snippet,contentDetails&key="+t.apiKey).then((function(t){if(!t.ok){var e=new Error("Segment request to Youtube API failed (likely due to a bad API Key. Events will still be sent but will not contain video metadata)");throw e.response=t,e}return t.json()})).then((function(i){t.metadata=[];for(var n=0,s=0;s<o.length;s++){var a=i.items[s];t.metadata.push({content:{title:a.snippet.title,description:a.snippet.description,keywords:a.snippet.tags,channel:a.snippet.channelTitle,airdate:a.snippet.publishedAt}}),n+=r(a.contentDetails.duration)}for(s=0;s<o.length;s++)t.metadata[s].playback={total_length:n,video_player:"youtube"};e()})).catch((function(e){t.metadata=o.map((function(){return{playback:{video_player:"youtube"},content:{}}})),i(e)}))}))}},{key:"handleBuffer",value:function(){var t=this.determineSeek();this.playbackStarted||(this.playbackStarted=!0,this.track("Video Playback Started",this.metadata[this.playlistIndex].playback)),t&&!this.isSeeking&&(this.isSeeking=!0,this.track("Video Playback Seek Started",this.metadata[this.playlistIndex].playback)),this.isSeeking&&(this.track("Video Playback Seek Completed",this.metadata[this.playlistIndex].playback),this.isSeeking=!1);var e=this.player.getPlaylist();e&&0===this.player.getCurrentTime()&&this.player.getPlaylistIndex()!==this.playlistIndex&&(this.contentStarted=!1,this.playlistIndex===e.length-1&&0===this.player.getPlaylistIndex()&&(this.track("Video Playback Completed",this.metadata[this.player.getPlaylistIndex()].playback),this.track("Video Playback Started",this.metadata[this.player.getPlaylistIndex()].playback))),this.track("Video Playback Buffer Started",this.metadata[this.playlistIndex].playback),this.isBuffering=!0}},{key:"handlePlay",value:function(){this.contentStarted||(this.playlistIndex=this.player.getPlaylistIndex(),-1===this.playlistIndex&&(this.playlistIndex=0),this.track("Video Content Started",this.metadata[this.playlistIndex].content),this.contentStarted=!0),this.isBuffering&&(this.track("Video Playback Buffer Completed",this.metadata[this.playlistIndex].playback),this.isBuffering=!1),this.isPaused&&(this.track("Video Playback Resumed",this.metadata[this.playlistIndex].playback),this.isPaused=!1)}},{key:"handlePause",value:function(){var t=this.determineSeek();this.isBuffering&&(this.track("Video Playback Buffer Completed",this.metadata[this.playlistIndex].playback),this.isBuffering=!1),this.isPaused||(t?(this.track("Video Playback Seek Started",this.metadata[this.playlistIndex].playback),this.isSeeking=!0):(this.track("Video Playback Paused",this.metadata[this.playlistIndex].playback),this.isPaused=!0))}},{key:"handleEnd",value:function(){this.track("Video Content Completed",this.metadata[this.playlistIndex].content),this.contentStarted=!1;var t=this.player.getPlaylistIndex(),e=this.player.getPlaylist();(e&&t===e.length-1||-1===t)&&(this.track("Video Playback Completed",this.metadata[this.playlistIndex].playback),this.playbackStarted=!1)}},{key:"determineSeek",value:function(){var t=this.isPaused||this.isBuffering?0:Date.now()-this.lastRecordedTime.timeReported,e=1e3*this.player.getCurrentTime()-this.lastRecordedTime.timeElapsed;return Math.abs(t-e)>2e3}}]),e}(n(i(1)).default);e.default=a}])},"object"==typeof t&&"object"==typeof e?e.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof t?t.analyticsVideoPlugins=n():i.analyticsVideoPlugins=n()}}),yd={};_a(yd,{loadLegacyVideoPlugins:()=>gt});var bd=wa({"node_modules/@segment/analytics-next/dist/pkg/plugins/legacy-video-plugins/index.js"(){Da()}}),wd={};_a(wd,{schemaFilter:()=>vt});var kd=wa({"node_modules/@segment/analytics-next/dist/pkg/plugins/schema-filter/index.js"(){Da(),hd()}}),_d={};_a(_d,{remoteMiddlewares:()=>yt});var xd=wa({"node_modules/@segment/analytics-next/dist/pkg/plugins/remote-middleware/index.js"(){Da(),La(),dc(),cc()}}),Ed=ka({"node_modules/inputmask/dist/inputmask.js"(t,e){!function(i,n){if("object"==typeof t&&"object"==typeof e)e.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var r=n();for(var o in r)("object"==typeof t?t:i)[o]=r[o]}}(self,(function(){return function(){"use strict";function t(n){var r=i[n];if(void 0!==r)return r.exports;var o=i[n]={exports:{}};return e[n](o,o.exports,t),o.exports}var e={8741:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=!("undefined"==typeof window||!window.document||!window.document.createElement);e.default=i},3976:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,r=(n=i(5581))&&n.__esModule?n:{default:n},o={_maxTestPos:500,placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:function(){},onincomplete:function(){},oncleared:function(){},repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,insertModeVisual:!0,clearIncomplete:!1,alias:null,onKeyDown:function(){},onBeforeMask:null,onBeforePaste:function(t,e){return"function"==typeof e.onBeforeMask?e.onBeforeMask.call(this,t,e):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:function(){},skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],ignorables:[r.default.BACKSPACE,r.default.TAB,r.default["PAUSE/BREAK"],r.default.ESCAPE,r.default.PAGE_UP,r.default.PAGE_DOWN,r.default.END,r.default.HOME,r.default.LEFT,r.default.UP,r.default.RIGHT,r.default.DOWN,r.default.INSERT,r.default.DELETE,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"text",importDataAttributes:!0,shiftPositions:!0,usePrototypeDefinitions:!0,validationEventTimeOut:3e3,substitutes:{}};e.default=o},7392:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default={9:{validator:"[0-9\uff10-\uff19]",definitionSymbol:"*"},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",definitionSymbol:"*"},"*":{validator:"[0-9\uff10-\uff19A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]"}}},253:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i){if(void 0===i)return t.__data?t.__data[e]:null;t.__data=t.__data||{},t.__data[e]=i}},3776:function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}function r(t){return t instanceof Element}Object.defineProperty(e,"__esModule",{value:!0}),e.Event=void 0,e.off=function(t,e){function i(t,e,i){if(t in o==1)if(s.removeEventListener?s.removeEventListener(t,i,!1):s.detachEvent&&s.detachEvent("on"+t,i),"global"===e)for(var n in o[t])o[t][n].splice(o[t][n].indexOf(i),1);else o[t][e].splice(o[t][e].indexOf(i),1)}function n(t,i){var n,r,s=[];if(t.length>0)if(void 0===e)for(n=0,r=o[t][i].length;n<r;n++)s.push({ev:t,namespace:i&&i.length>0?i:"global",handler:o[t][i][n]});else s.push({ev:t,namespace:i&&i.length>0?i:"global",handler:e});else if(i.length>0)for(var a in o)for(var l in o[a])if(l===i)if(void 0===e)for(n=0,r=o[a][l].length;n<r;n++)s.push({ev:a,namespace:l,handler:o[a][l][n]});else s.push({ev:a,namespace:l,handler:e});return s}var o,s;if(r(this[0])&&t){o=this[0].eventRegistry,s=this[0];for(var a=t.split(" "),l=0;l<a.length;l++)for(var c=a[l].split("."),u=n(c[0],c[1]),d=0,h=u.length;d<h;d++)i(u[d].ev,u[d].namespace,u[d].handler)}return this},e.on=function(t,e){function i(t,i){o.addEventListener?o.addEventListener(t,e,!1):o.attachEvent&&o.attachEvent("on"+t,e),n[t]=n[t]||{},n[t][i]=n[t][i]||[],n[t][i].push(e)}if(r(this[0]))for(var n=this[0].eventRegistry,o=this[0],s=t.split(" "),a=0;a<s.length;a++){var l=s[a].split(".");i(l[0],l[1]||"global")}return this},e.trigger=function(t){if(r(this[0]))for(var e=this[0].eventRegistry,i=this[0],n="string"==typeof t?t.split(" "):[t.type],o=0;o<n.length;o++){var a=n[o].split("."),c=a[0],u=a[1]||"global";if(void 0!==document&&"global"===u){var d,h,p={bubbles:!0,cancelable:!0,detail:arguments[1]};if(document.createEvent){try{"input"===c?(p.inputType="insertText",d=new InputEvent(c,p)):d=new CustomEvent(c,p)}catch(t){(d=document.createEvent("CustomEvent")).initCustomEvent(c,p.bubbles,p.cancelable,p.detail)}t.type&&(0,s.default)(d,t),i.dispatchEvent(d)}else(d=document.createEventObject()).eventType=c,d.detail=arguments[1],t.type&&(0,s.default)(d,t),i.fireEvent("on"+d.eventType,d)}else if(void 0!==e[c])if(arguments[0]=arguments[0].type?arguments[0]:l.default.Event(arguments[0]),arguments[0].detail=arguments.slice(1),"global"===u)for(var f in e[c])for(h=0;h<e[c][f].length;h++)e[c][f][h].apply(i,arguments);else for(h=0;h<e[c][u].length;h++)e[c][u][h].apply(i,arguments)}return this};var o,s=n(i(600)),a=n(i(9380)),l=n(i(4963)),c=n(i(8741));e.Event=o,"function"==typeof a.default.CustomEvent?e.Event=o=a.default.CustomEvent:c.default&&(e.Event=o=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i},o.prototype=a.default.Event.prototype)},600:function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(){var e,n,r,o,s,a,l=arguments[0]||{},c=1,u=arguments.length,d=!1;for("boolean"==typeof l&&(d=l,l=arguments[c]||{},c++),"object"!==i(l)&&"function"!=typeof l&&(l={});c<u;c++)if(null!=(e=arguments[c]))for(n in e)r=l[n],l!==(o=e[n])&&(d&&o&&("[object Object]"===Object.prototype.toString.call(o)||(s=Array.isArray(o)))?(s?(s=!1,a=r&&Array.isArray(r)?r:[]):a=r&&"[object Object]"===Object.prototype.toString.call(r)?r:{},l[n]=t(d,a,o)):void 0!==o&&(l[n]=o));return l}},4963:function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}function r(t){return t instanceof r?t:this instanceof r?void(null!=t&&t!==s.default&&(this[0]=t.nodeName?t:void 0!==t[0]&&t[0].nodeName?t[0]:c.querySelector(t),void 0!==this[0]&&null!==this[0]&&(this[0].eventRegistry=this[0].eventRegistry||{}))):new r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i(600)),s=n(i(9380)),a=n(i(253)),l=i(3776),c=s.default.document;r.prototype={on:l.on,off:l.off,trigger:l.trigger},r.extend=o.default,r.data=a.default,r.Event=l.Event;var u=r;e.default=u},9845:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ua=e.mobile=e.iphone=e.iemobile=e.ie=void 0;var n,r=(n=i(9380))&&n.__esModule?n:{default:n},o=r.default.navigator&&r.default.navigator.userAgent||"",s=o.indexOf("MSIE ")>0||o.indexOf("Trident/")>0,a="ontouchstart"in r.default,l=/iemobile/i.test(o),c=/iphone/i.test(o)&&!l;e.iphone=c,e.iemobile=l,e.mobile=a,e.ie=s,e.ua=o},7184:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.replace(i,"\\$1")};var i=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim")},6030:function(t,e,i){function n(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return r(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,l=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){l=!0,s=t},f:function(){try{a||null==i.return||i.return()}finally{if(l)throw s}}}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}Object.defineProperty(e,"__esModule",{value:!0}),e.EventHandlers=void 0;var o,s=i(8711),a=(o=i(5581))&&o.__esModule?o:{default:o},l=i(9845),c=i(7215),u=i(7760),d=i(4713),h={keydownEvent:function(t){var e=this.inputmask,i=e.opts,n=e.dependencyLib,r=e.maskset,o=this,h=n(o),p=t.keyCode,f=s.caret.call(e,o),g=i.onKeyDown.call(this,t,s.getBuffer.call(e),f,i);if(void 0!==g)return g;if(p===a.default.BACKSPACE||p===a.default.DELETE||l.iphone&&p===a.default.BACKSPACE_SAFARI||t.ctrlKey&&p===a.default.X&&!("oncut"in o))t.preventDefault(),c.handleRemove.call(e,o,p,f),(0,u.writeBuffer)(o,s.getBuffer.call(e,!0),r.p,t,o.inputmask._valueGet()!==s.getBuffer.call(e).join(""));else if(p===a.default.END||p===a.default.PAGE_DOWN){t.preventDefault();var m=s.seekNext.call(e,s.getLastValidPosition.call(e));s.caret.call(e,o,t.shiftKey?f.begin:m,m,!0)}else p===a.default.HOME&&!t.shiftKey||p===a.default.PAGE_UP?(t.preventDefault(),s.caret.call(e,o,0,t.shiftKey?f.begin:0,!0)):i.undoOnEscape&&p===a.default.ESCAPE&&!0!==t.altKey?((0,u.checkVal)(o,!0,!1,e.undoValue.split("")),h.trigger("click")):p!==a.default.INSERT||t.shiftKey||t.ctrlKey||void 0!==e.userOptions.insertMode?!0===i.tabThrough&&p===a.default.TAB?!0===t.shiftKey?(f.end=s.seekPrevious.call(e,f.end,!0),!0===d.getTest.call(e,f.end-1).match.static&&f.end--,f.begin=s.seekPrevious.call(e,f.end,!0),f.begin>=0&&f.end>0&&(t.preventDefault(),s.caret.call(e,o,f.begin,f.end))):(f.begin=s.seekNext.call(e,f.begin,!0),f.end=s.seekNext.call(e,f.begin,!0),f.end<r.maskLength&&f.end--,f.begin<=r.maskLength&&(t.preventDefault(),s.caret.call(e,o,f.begin,f.end))):t.shiftKey||i.insertModeVisual&&!1===i.insertMode&&(p===a.default.RIGHT?setTimeout((function(){var t=s.caret.call(e,o);s.caret.call(e,o,t.begin)}),0):p===a.default.LEFT&&setTimeout((function(){var t=s.translatePosition.call(e,o.inputmask.caretPos.begin);s.translatePosition.call(e,o.inputmask.caretPos.end),e.isRTL?s.caret.call(e,o,t+(t===r.maskLength?0:1)):s.caret.call(e,o,t-(0===t?0:1))}),0)):c.isSelection.call(e,f)?i.insertMode=!i.insertMode:(i.insertMode=!i.insertMode,s.caret.call(e,o,f.begin,f.begin));e.ignorable=i.ignorables.includes(p)},keypressEvent:function(t,e,i,n,r){var o=this.inputmask||this,l=o.opts,d=o.dependencyLib,h=o.maskset,p=o.el,f=d(p),g=t.keyCode;if(!(!0===e||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||o.ignorable))return g===a.default.ENTER&&o.undoValue!==o._valueGet(!0)&&(o.undoValue=o._valueGet(!0),setTimeout((function(){f.trigger("change")}),0)),o.skipInputEvent=!0,!0;if(g){44!==g&&46!==g||3!==t.location||""===l.radixPoint||(g=l.radixPoint.charCodeAt(0));var m,v=e?{begin:r,end:r}:s.caret.call(o,p),y=String.fromCharCode(g);y=l.substitutes[y]||y,h.writeOutBuffer=!0;var b=c.isValid.call(o,v,y,n,void 0,void 0,void 0,e);if(!1!==b&&(s.resetMaskSet.call(o,!0),m=void 0!==b.caret?b.caret:s.seekNext.call(o,b.pos.begin?b.pos.begin:b.pos),h.p=m),m=l.numericInput&&void 0===b.caret?s.seekPrevious.call(o,m):m,!1!==i&&(setTimeout((function(){l.onKeyValidation.call(p,g,b)}),0),h.writeOutBuffer&&!1!==b)){var w=s.getBuffer.call(o);(0,u.writeBuffer)(p,w,m,t,!0!==e)}if(t.preventDefault(),e)return!1!==b&&(b.forwardPosition=m),b}},keyupEvent:function(t){var e=this.inputmask;!e.isComposing||t.keyCode!==a.default.KEY_229&&t.keyCode!==a.default.ENTER||e.$el.trigger("input")},pasteEvent:function(t){var e,i=this.inputmask,r=i.opts,o=i._valueGet(!0),a=s.caret.call(i,this);i.isRTL&&(e=a.end,a.end=s.translatePosition.call(i,a.begin),a.begin=s.translatePosition.call(i,e));var l=o.substr(0,a.begin),c=o.substr(a.end,o.length);if(l==(i.isRTL?s.getBufferTemplate.call(i).slice().reverse():s.getBufferTemplate.call(i)).slice(0,a.begin).join("")&&(l=""),c==(i.isRTL?s.getBufferTemplate.call(i).slice().reverse():s.getBufferTemplate.call(i)).slice(a.end).join("")&&(c=""),window.clipboardData&&window.clipboardData.getData)o=l+window.clipboardData.getData("Text")+c;else{if(!t.clipboardData||!t.clipboardData.getData)return!0;o=l+t.clipboardData.getData("text/plain")+c}var d=o;if(i.isRTL){d=d.split("");var h,p=n(s.getBufferTemplate.call(i));try{for(p.s();!(h=p.n()).done;){var f=h.value;d[0]===f&&d.shift()}}catch(t){p.e(t)}finally{p.f()}d=d.join("")}if("function"==typeof r.onBeforePaste){if(!1===(d=r.onBeforePaste.call(i,d,r)))return!1;d||(d=o)}(0,u.checkVal)(this,!0,!1,d.toString().split(""),t),t.preventDefault()},inputFallBackEvent:function(t){var e=this.inputmask,i=e.opts,n=e.dependencyLib,r=this,o=r.inputmask._valueGet(!0),c=(e.isRTL?s.getBuffer.call(e).slice().reverse():s.getBuffer.call(e)).join(""),p=s.caret.call(e,r,void 0,void 0,!0);if(c!==o){var f=function(t,n,r){for(var o,a,l,c=t.substr(0,r.begin).split(""),u=t.substr(r.begin).split(""),h=n.substr(0,r.begin).split(""),p=n.substr(r.begin).split(""),f=c.length>=h.length?c.length:h.length,g=u.length>=p.length?u.length:p.length,m="",v=[],y="~";c.length<f;)c.push(y);for(;h.length<f;)h.push(y);for(;u.length<g;)u.unshift(y);for(;p.length<g;)p.unshift(y);var b=c.concat(u),w=h.concat(p);for(a=0,o=b.length;a<o;a++)switch(l=d.getPlaceholder.call(e,s.translatePosition.call(e,a)),m){case"insertText":w[a-1]===b[a]&&r.begin==b.length-1&&v.push(b[a]),a=o;break;case"insertReplacementText":case"deleteContentBackward":b[a]===y?r.end++:a=o;break;default:b[a]!==w[a]&&(b[a+1]!==y&&b[a+1]!==l&&void 0!==b[a+1]||(w[a]!==l||w[a+1]!==y)&&w[a]!==y?w[a+1]===y&&w[a]===b[a+1]?(m="insertText",v.push(b[a]),r.begin--,r.end--):b[a]!==l&&b[a]!==y&&(b[a+1]===y||w[a]!==b[a]&&w[a+1]===b[a+1])?(m="insertReplacementText",v.push(b[a]),r.begin--):b[a]===y?(m="deleteContentBackward",(s.isMask.call(e,s.translatePosition.call(e,a),!0)||w[a]===i.radixPoint)&&r.end++):a=o:(m="insertText",v.push(b[a]),r.begin--,r.end--))}return{action:m,data:v,caret:r}}(o=function(t,i,n){if(l.iemobile){var r=i.replace(s.getBuffer.call(e).join(""),"");if(1===r.length){var o=i.split("");o.splice(n.begin,0,r),i=o.join("")}}return i}(0,o,p),c,p);switch((r.inputmask.shadowRoot||r.ownerDocument).activeElement!==r&&r.focus(),(0,u.writeBuffer)(r,s.getBuffer.call(e)),s.caret.call(e,r,p.begin,p.end,!0),f.action){case"insertText":case"insertReplacementText":f.data.forEach((function(t){var i=new n.Event("keypress");i.keyCode=t.charCodeAt(0),e.ignorable=!1,h.keypressEvent.call(r,i)})),setTimeout((function(){e.$el.trigger("keyup")}),0);break;case"deleteContentBackward":var g=new n.Event("keydown");g.keyCode=a.default.BACKSPACE,h.keydownEvent.call(r,g);break;default:(0,u.applyInputValue)(r,o)}t.preventDefault()}},compositionendEvent:function(){var t=this.inputmask;t.isComposing=!1,t.$el.trigger("input")},setValueEvent:function(t){var e=this.inputmask,i=this,n=t&&t.detail?t.detail[0]:arguments[1];void 0===n&&(n=i.inputmask._valueGet(!0)),(0,u.applyInputValue)(i,n),(t.detail&&void 0!==t.detail[1]||void 0!==arguments[2])&&s.caret.call(e,i,t.detail?t.detail[1]:arguments[2])},focusEvent:function(t){var e=this.inputmask,i=e.opts,n=this,r=n.inputmask._valueGet();i.showMaskOnFocus&&r!==s.getBuffer.call(e).join("")&&(0,u.writeBuffer)(n,s.getBuffer.call(e),s.seekNext.call(e,s.getLastValidPosition.call(e))),!0!==i.positionCaretOnTab||!1!==e.mouseEnter||c.isComplete.call(e,s.getBuffer.call(e))&&-1!==s.getLastValidPosition.call(e)||h.clickEvent.apply(n,[t,!0]),e.undoValue=e._valueGet(!0)},invalidEvent:function(){this.inputmask.validationEvent=!0},mouseleaveEvent:function(){var t=this.inputmask,e=t.opts,i=this;t.mouseEnter=!1,e.clearMaskOnLostFocus&&(i.inputmask.shadowRoot||i.ownerDocument).activeElement!==i&&(0,u.HandleNativePlaceholder)(i,t.originalPlaceholder)},clickEvent:function(t,e){var i=this.inputmask,n=this;if((n.inputmask.shadowRoot||n.ownerDocument).activeElement===n){var r=s.determineNewCaretPosition.call(i,s.caret.call(i,n),e);void 0!==r&&s.caret.call(i,n,r)}},cutEvent:function(t){var e=this.inputmask,i=e.maskset,n=this,r=s.caret.call(e,n),o=e.isRTL?s.getBuffer.call(e).slice(r.end,r.begin):s.getBuffer.call(e).slice(r.begin,r.end),l=e.isRTL?o.reverse().join(""):o.join("");window.navigator.clipboard?window.navigator.clipboard.writeText(l):window.clipboardData&&window.clipboardData.getData&&window.clipboardData.setData("Text",l),c.handleRemove.call(e,n,a.default.DELETE,r),(0,u.writeBuffer)(n,s.getBuffer.call(e),i.p,t,e.undoValue!==e._valueGet(!0))},blurEvent:function(t){var e=this.inputmask,i=e.opts,n=(0,e.dependencyLib)(this),r=this;if(r.inputmask){(0,u.HandleNativePlaceholder)(r,e.originalPlaceholder);var o=r.inputmask._valueGet(),a=s.getBuffer.call(e).slice();""!==o&&(i.clearMaskOnLostFocus&&(-1===s.getLastValidPosition.call(e)&&o===s.getBufferTemplate.call(e).join("")?a=[]:u.clearOptionalTail.call(e,a)),!1===c.isComplete.call(e,a)&&(setTimeout((function(){n.trigger("incomplete")}),0),i.clearIncomplete&&(s.resetMaskSet.call(e),a=i.clearMaskOnLostFocus?[]:s.getBufferTemplate.call(e).slice())),(0,u.writeBuffer)(r,a,void 0,t)),e.undoValue!==e._valueGet(!0)&&(e.undoValue=e._valueGet(!0),n.trigger("change"))}},mouseenterEvent:function(){var t=this.inputmask,e=t.opts,i=this;if(t.mouseEnter=!0,(i.inputmask.shadowRoot||i.ownerDocument).activeElement!==i){var n=(t.isRTL?s.getBufferTemplate.call(t).slice().reverse():s.getBufferTemplate.call(t)).join("");t.placeholder!==n&&i.placeholder!==t.originalPlaceholder&&(t.originalPlaceholder=i.placeholder),e.showMaskOnHover&&(0,u.HandleNativePlaceholder)(i,n)}},submitEvent:function(){var t=this.inputmask,e=t.opts;t.undoValue!==t._valueGet(!0)&&t.$el.trigger("change"),-1===s.getLastValidPosition.call(t)&&t._valueGet&&t._valueGet()===s.getBufferTemplate.call(t).join("")&&t._valueSet(""),e.clearIncomplete&&!1===c.isComplete.call(t,s.getBuffer.call(t))&&t._valueSet(""),e.removeMaskOnSubmit&&(t._valueSet(t.unmaskedvalue(),!0),setTimeout((function(){(0,u.writeBuffer)(t.el,s.getBuffer.call(t))}),0))},resetEvent:function(){var t=this.inputmask;t.refreshValue=!0,setTimeout((function(){(0,u.applyInputValue)(t.el,t._valueGet(!0))}),0)}};e.EventHandlers=h},9716:function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.EventRuler=void 0;var r=n(i(2394)),o=n(i(5581)),s=i(8711),a=i(7760),l={on:function(t,e,i){var n=t.inputmask.dependencyLib,l=function(e){e.originalEvent&&(e=e.originalEvent||e,arguments[0]=e);var l,c=this,u=c.inputmask,d=u?u.opts:void 0;if(void 0===u&&"FORM"!==this.nodeName){var h=n.data(c,"_inputmask_opts");n(c).off(),h&&new r.default(h).mask(c)}else{if(["submit","reset","setvalue"].includes(e.type)||"FORM"===this.nodeName||!(c.disabled||c.readOnly&&!("keydown"===e.type&&e.ctrlKey&&67===e.keyCode||!1===d.tabThrough&&e.keyCode===o.default.TAB))){switch(e.type){case"input":if(!0===u.skipInputEvent||e.inputType&&"insertCompositionText"===e.inputType)return u.skipInputEvent=!1,e.preventDefault();break;case"keydown":u.skipKeyPressEvent=!1,u.skipInputEvent=u.isComposing=e.keyCode===o.default.KEY_229;break;case"keyup":case"compositionend":u.isComposing&&(u.skipInputEvent=!1);break;case"keypress":if(!0===u.skipKeyPressEvent)return e.preventDefault();u.skipKeyPressEvent=!0;break;case"click":case"focus":return u.validationEvent?(u.validationEvent=!1,t.blur(),(0,a.HandleNativePlaceholder)(t,(u.isRTL?s.getBufferTemplate.call(u).slice().reverse():s.getBufferTemplate.call(u)).join("")),setTimeout((function(){t.focus()}),d.validationEventTimeOut),!1):(l=arguments,setTimeout((function(){t.inputmask&&i.apply(c,l)}),0),!1)}var p=i.apply(c,arguments);return!1===p&&(e.preventDefault(),e.stopPropagation()),p}e.preventDefault()}};["submit","reset"].includes(e)?(l=l.bind(t),null!==t.form&&n(t.form).on(e,l)):n(t).on(e,l),t.inputmask.events[e]=t.inputmask.events[e]||[],t.inputmask.events[e].push(l)},off:function(t,e){if(t.inputmask&&t.inputmask.events){var i=t.inputmask.dependencyLib,n=t.inputmask.events;for(var r in e&&((n=[])[e]=t.inputmask.events[e]),n){for(var o=n[r];o.length>0;){var s=o.pop();["submit","reset"].includes(r)?null!==t.form&&i(t.form).off(r,s):i(t).off(r,s)}delete t.inputmask.events[r]}}}};e.EventRuler=l},219:function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o=[],s=!0,a=!1;try{for(i=i.call(t);!(s=(n=i.next()).done)&&(o.push(n.value),!e||o.length!==e);s=!0);}catch(t){a=!0,r=t}finally{try{s||null==i.return||i.return()}finally{if(a)throw r}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t){return t&&t.__esModule?t:{default:t}}function l(t){var e=this.getHours();t.toLowerCase().includes("p")?this.setHours(e+12):t.toLowerCase().includes("a")&&e>=12&&this.setHours(e-12)}function c(){var t=this.getHours();return(t=t||12)>=12?"PM":"AM"}function u(t){var e=new RegExp("\\d+$").exec(t[0]);if(e&&void 0!==e[0]){var i=O[t[0][0]+"x"].slice("");return i[0]=i[0](e[0]),i[3]=i[3](e[0]),i}if(O[t[0]])return O[t[0]]}function d(t){if(!t.tokenizer){var e=[],i=[];for(var n in O)if(/\.*x$/.test(n)){var r=n[0]+"\\d+";-1===i.indexOf(r)&&i.push(r)}else-1===e.indexOf(n[0])&&e.push(n[0]);t.tokenizer="("+(i.length>0?i.join("|")+"|":"")+e.join("+|")+")+?|.",t.tokenizer=new RegExp(t.tokenizer,"g")}return t.tokenizer}function h(t,e,i){if(!S)return!0;if(void 0===t.rawday||!isFinite(t.rawday)&&new Date(t.date.getFullYear(),isFinite(t.rawmonth)?t.month:t.date.getMonth()+1,0).getDate()>=t.day||"29"==t.day&&(!isFinite(t.rawyear)||void 0===t.rawyear||""===t.rawyear)||new Date(t.date.getFullYear(),isFinite(t.rawmonth)?t.month:t.date.getMonth()+1,0).getDate()>=t.day)return e;if("29"==t.day){var n=v(e.pos,i);if("yyyy"===n.targetMatch[0]&&e.pos-n.targetMatchIndex==2)return e.remove=e.pos+1,e}else if("02"==t.month&&"30"==t.day&&void 0!==e.c)return t.day="03",t.date.setDate(3),t.date.setMonth(1),e.insert=[{pos:e.pos,c:"0"},{pos:e.pos+1,c:e.c}],e.caret=k.seekNext.call(this,e.pos+1),e;return!1}function p(t,e,i,n){var r,o,s="";for(d(i).lastIndex=0;r=d(i).exec(t);)if(void 0===e)if(o=u(r))s+="("+o[0]+")";else switch(r[0]){case"[":s+="(";break;case"]":s+=")?";break;default:s+=(0,w.default)(r[0])}else(o=u(r))?!0!==n&&o[3]?s+=o[3].call(e.date):o[2]?s+=e["raw"+o[2]]:s+=r[0]:s+=r[0];return s}function f(t,e,i){for(t=String(t),e=e||2;t.length<e;)t=i?t+"0":"0"+t;return t}function g(t,e,i){return"string"==typeof t?new E(t,e,i):t&&"object"===n(t)&&Object.prototype.hasOwnProperty.call(t,"date")?t:void 0}function m(t,e){return p(e.inputFormat,{date:t},e)}function v(t,e){var i,n,r=0,o=0;for(d(e).lastIndex=0;n=d(e).exec(e.inputFormat);){var s=new RegExp("\\d+$").exec(n[0]);if((r+=o=s?parseInt(s[0]):n[0].length)>=t+1){i=n,n=d(e).exec(e.inputFormat);break}}return{targetMatchIndex:r-o,nextMatch:n,targetMatch:i}}var y=a(i(2394)),b=a(i(5581)),w=a(i(7184)),k=i(8711),_=i(4713),x=y.default.dependencyLib,E=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mask=e,this.format=i,this.opts=n,this._date=new Date(1,0,1),this.initDateObject(e,this.opts)}var e,i,n;return e=t,(i=[{key:"date",get:function(){return void 0===this._date&&(this._date=new Date(1,0,1),this.initDateObject(void 0,this.opts)),this._date}},{key:"initDateObject",value:function(t,e){var i;for(d(e).lastIndex=0;i=d(e).exec(this.format);){var n=new RegExp("\\d+$").exec(i[0]),r=n?i[0][0]+"x":i[0],o=void 0;if(void 0!==t){if(n){var s=d(e).lastIndex,a=v(i.index,e);d(e).lastIndex=s,o=t.slice(0,t.indexOf(a.nextMatch[0]))}else o=t.slice(0,r.length);t=t.slice(o.length)}
Object.prototype.hasOwnProperty.call(O,r)&&this.setValue(this,o,r,O[r][2],O[r][1])}}},{key:"setValue",value:function(t,e,i,n,r){if(void 0!==e&&(t[n]="ampm"===n?e:e.replace(/[^0-9]/g,"0"),t["raw"+n]=e.replace(/\s/g,"_")),void 0!==r){var o=t[n];("day"===n&&29===parseInt(o)||"month"===n&&2===parseInt(o))&&(29!==parseInt(t.day)||2!==parseInt(t.month)||""!==t.year&&void 0!==t.year||t._date.setFullYear(2012,1,29)),"day"===n&&(S=!0,0===parseInt(o)&&(o=1)),"month"===n&&(S=!0),"year"===n&&(S=!0,o.length<4&&(o=f(o,4,!0))),""===o||isNaN(o)||r.call(t._date,o),"ampm"===n&&r.call(t._date,o)}}},{key:"reset",value:function(){this._date=new Date(1,0,1)}},{key:"reInit",value:function(){this._date=void 0,this.date}}])&&s(e.prototype,i),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),A=(new Date).getFullYear(),S=!1,O={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return f(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",function(t){var e=t?parseInt(t):0;return e>0&&e--,Date.prototype.setMonth.call(this,e)},"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",function(t){var e=t?parseInt(t):0;return e>0&&e--,Date.prototype.setMonth.call(this,e)},"month",function(){return f(Date.prototype.getMonth.call(this)+1,2)}],mmm:[""],mmmm:[""],yy:["[0-9]{2}",Date.prototype.setFullYear,"year",function(){return f(Date.prototype.getFullYear.call(this),2)}],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return f(Date.prototype.getFullYear.call(this),4)}],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return f(Date.prototype.getHours.call(this),2)}],hx:[function(t){return"[0-9]{".concat(t,"}")},Date.prototype.setHours,"hours",function(){return Date.prototype.getHours}],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return f(Date.prototype.getHours.call(this),2)}],Hx:[function(t){return"[0-9]{".concat(t,"}")},Date.prototype.setHours,"hours",function(t){return function(){return f(Date.prototype.getHours.call(this),t)}}],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return f(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setSeconds,"seconds",function(){return f(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return f(Date.prototype.getMilliseconds.call(this),3)}],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return f(Date.prototype.getMilliseconds.call(this),2)}],t:["[ap]",l,"ampm",c,1],tt:["[ap]m",l,"ampm",c,2],T:["[AP]",l,"ampm",c,1],TT:["[AP]M",l,"ampm",c,2],Z:[".*",void 0,"Z",function(){var t=this.toString().match(/\((.+)\)/)[1];return t.includes(" ")&&(t=(t=t.replace("-"," ").toUpperCase()).split(" ").map((function(t){return r(t,1)[0]})).join("")),t}],o:[""],S:[""]},C={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};y.default.extendAliases({datetime:{mask:function(t){return t.numericInput=!1,O.S=t.i18n.ordinalSuffix.join("|"),t.inputFormat=C[t.inputFormat]||t.inputFormat,t.displayFormat=C[t.displayFormat]||t.displayFormat||t.inputFormat,t.outputFormat=C[t.outputFormat]||t.outputFormat||t.inputFormat,t.placeholder=""!==t.placeholder?t.placeholder:t.inputFormat.replace(/[[\]]/,""),t.regex=p(t.inputFormat,void 0,t),t.min=g(t.min,t.inputFormat,t),t.max=g(t.max,t.inputFormat,t),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:null,outputFormat:null,min:null,max:null,skipOptionalPartCharacter:"",i18n:{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]},preValidation:function(t,e,i,n,r,o,s,a){if(a)return!0;if(isNaN(i)&&t[e]!==i){var l=v(e,r);if(l.nextMatch&&l.nextMatch[0]===i&&l.targetMatch[0].length>1){var c=O[l.targetMatch[0]][0];if(new RegExp(c).test("0"+t[e-1]))return t[e]=t[e-1],t[e-1]="0",{fuzzy:!0,buffer:t,refreshFromBuffer:{start:e-1,end:e+1},pos:e+1}}}return!0},postValidation:function(t,e,i,n,r,o,s){var a,l;if(s)return!0;if(!1===n&&(((a=v(e+1,r)).targetMatch&&a.targetMatchIndex===e&&a.targetMatch[0].length>1&&void 0!==O[a.targetMatch[0]]||(a=v(e+2,r)).targetMatch&&a.targetMatchIndex===e+1&&a.targetMatch[0].length>1&&void 0!==O[a.targetMatch[0]])&&(l=O[a.targetMatch[0]][0]),void 0!==l&&(void 0!==o.validPositions[e+1]&&new RegExp(l).test(i+"0")?(t[e]=i,t[e+1]="0",n={pos:e+2,caret:e}):new RegExp(l).test("0"+i)&&(t[e]="0",t[e+1]=i,n={pos:e+2})),!1===n))return n;if(n.fuzzy&&(t=n.buffer,e=n.pos),(a=v(e,r)).targetMatch&&a.targetMatch[0]&&void 0!==O[a.targetMatch[0]]){var c=O[a.targetMatch[0]];l=c[0];var f=t.slice(a.targetMatchIndex,a.targetMatchIndex+a.targetMatch[0].length);if(!1===new RegExp(l).test(f.join(""))&&2===a.targetMatch[0].length&&o.validPositions[a.targetMatchIndex]&&o.validPositions[a.targetMatchIndex+1]&&(o.validPositions[a.targetMatchIndex+1].input="0"),"year"==c[2])for(var m=_.getMaskTemplate.call(this,!1,1,void 0,!0),y=e+1;y<t.length;y++)t[y]=m[y],delete o.validPositions[y]}var b=n,w=g(t.join(""),r.inputFormat,r);return b&&w.date.getTime()==w.date.getTime()&&(r.prefillYear&&(b=function(t,e,i){if(t.year!==t.rawyear){var n=A.toString(),r=t.rawyear.replace(/[^0-9]/g,""),o=n.slice(0,r.length),s=n.slice(r.length);if(2===r.length&&r===o){var a=new Date(A,t.month-1,t.day);t.day==a.getDate()&&(!i.max||i.max.date.getTime()>=a.getTime())&&(t.date.setFullYear(A),t.year=n,e.insert=[{pos:e.pos+1,c:s[0]},{pos:e.pos+2,c:s[1]}])}}return e}(w,b,r)),b=function(t,e,i,n){if(!e)return e;if(e&&i.min&&i.min.date.getTime()==i.min.date.getTime()){var r;for(t.reset(),d(i).lastIndex=0;r=d(i).exec(i.inputFormat);){var o;if((o=u(r))&&o[3]){for(var s=o[1],a=t[o[2]],l=i.min[o[2]],c=i.max?i.max[o[2]]:l,h=[],p=!1,f=0;f<l.length;f++)void 0!==n.validPositions[f+r.index]||p?(h[f]=a[f],p=p||a[f]>l[f]):(h[f]=l[f],"year"===o[2]&&a.length-1==f&&l!=c&&(h=(parseInt(h.join(""))+1).toString().split("")),"ampm"===o[2]&&l!=c&&i.min.date.getTime()>t.date.getTime()&&(h[f]=c[f]));s.call(t._date,h.join(""))}}e=i.min.date.getTime()<=t.date.getTime(),t.reInit()}return e&&i.max&&i.max.date.getTime()==i.max.date.getTime()&&(e=i.max.date.getTime()>=t.date.getTime()),e}(w,b=h.call(this,w,b,r),r,o)),void 0!==e&&b&&n.pos!==e?{buffer:p(r.inputFormat,w,r).split(""),refreshFromBuffer:{start:e,end:n.pos},pos:n.caret||n.pos}:b},onKeyDown:function(t,e,i,n){t.ctrlKey&&t.keyCode===b.default.RIGHT&&(this.inputmask._valueSet(m(new Date,n)),x(this).trigger("setvalue"))},onUnMask:function(t,e,i){return e?p(i.outputFormat,g(t,i.inputFormat,i),i,!0):e},casing:function(t,e){return 0==e.nativeDef.indexOf("[ap]")?t.toLowerCase():0==e.nativeDef.indexOf("[AP]")?t.toUpperCase():t},onBeforeMask:function(t,e){return"[object Date]"===Object.prototype.toString.call(t)&&(t=m(t,e)),t},insertMode:!1,shiftPositions:!1,keepStatic:!1,inputmode:"numeric",prefillYear:!0}})},3851:function(t,e,i){function n(t,e,i){return i-1>-1&&"."!==e.buffer[i-1]?(t=e.buffer[i-1]+t,t=i-2>-1&&"."!==e.buffer[i-2]?e.buffer[i-2]+t:"0"+t):t="00"+t,l.test(t)}var r,o=(r=i(2394))&&r.__esModule?r:{default:r},s=i(8711),a=i(4713);o.default.extendDefinitions({A:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",casing:"upper"},"&":{validator:"[0-9A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}});var l=new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]");o.default.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)://.*",autoUnmask:!1,keepStatic:!1,tabThrough:!0},ip:{mask:"i{1,3}.j{1,3}.k{1,3}.l{1,3}",definitions:{i:{validator:n},j:{validator:n},k:{validator:n},l:{validator:n}},onUnMask:function(t){return t},inputmode:"decimal",substitutes:{",":"."}},email:{mask:function(t){var e="*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",i=e;if(t.separator)for(var n=0;n<t.quantifier;n++)i+="[".concat(t.separator).concat(e,"]");return i},greedy:!1,casing:"lower",separator:null,quantifier:5,skipOptionalPartCharacter:"",onBeforePaste:function(t){return(t=t.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9\uff11-\uff19A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function(t){return t},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0},ssn:{mask:"999-99-9999",postValidation:function(){var t=a.getMaskTemplate.call(this,!0,s.getLastValidPosition.call(this),!0,!0);return/^(?!219-09-9999|078-05-1120)(?!666|000|9.{2}).{3}-(?!00).{2}-(?!0{4}).{4}$/.test(t.join(""))}}})},207:function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){for(var i="",n=0;n<t.length;n++)c.default.prototype.definitions[t.charAt(n)]||e.definitions[t.charAt(n)]||e.optionalmarker[0]===t.charAt(n)||e.optionalmarker[1]===t.charAt(n)||e.quantifiermarker[0]===t.charAt(n)||e.quantifiermarker[1]===t.charAt(n)||e.groupmarker[0]===t.charAt(n)||e.groupmarker[1]===t.charAt(n)||e.alternatormarker===t.charAt(n)?i+="\\"+t.charAt(n):i+=t.charAt(n);return i}function o(t,e,i,n){if(t.length>0&&e>0&&(!i.digitsOptional||n)){var r=t.indexOf(i.radixPoint),o=!1;i.negationSymbol.back===t[t.length-1]&&(o=!0,t.length--),-1===r&&(t.push(i.radixPoint),r=t.length-1);for(var s=1;s<=e;s++)isFinite(t[r+s])||(t[r+s]="0")}return o&&t.push(i.negationSymbol.back),t}function s(t,e){var i=0;if("+"===t){for(i in e.validPositions);i=h.seekNext.call(this,parseInt(i))}for(var n in e.tests)if((n=parseInt(n))>=i)for(var r=0,o=e.tests[n].length;r<o;r++)if((void 0===e.validPositions[n]||"-"===t)&&e.tests[n][r].match.def===t)return n+(void 0!==e.validPositions[n]&&"-"!==t?1:0);return i}function a(t,e){var i=-1;for(var n in e.validPositions){var r=e.validPositions[n];if(r&&r.match.def===t){i=parseInt(n);break}}return i}function l(t,e,i,n,r){var o=e.buffer?e.buffer.indexOf(r.radixPoint):-1,s=(-1!==o||n&&r.jitMasking)&&new RegExp(r.definitions[9].validator).test(t);return r._radixDance&&-1!==o&&s&&null==e.validPositions[o]?{insert:{pos:o===i?o+1:o,c:r.radixPoint},pos:i}:s}var c=n(i(2394)),u=n(i(5581)),d=n(i(7184)),h=i(8711),p=c.default.dependencyLib;c.default.extendAliases({numeric:{mask:function(t){t.repeat=0,t.groupSeparator===t.radixPoint&&t.digits&&"0"!==t.digits&&("."===t.radixPoint?t.groupSeparator=",":","===t.radixPoint?t.groupSeparator=".":t.groupSeparator="")," "===t.groupSeparator&&(t.skipOptionalPartCharacter=void 0),t.placeholder.length>1&&(t.placeholder=t.placeholder.charAt(0)),"radixFocus"===t.positionCaretOnClick&&""===t.placeholder&&(t.positionCaretOnClick="lvp");var e="0",i=t.radixPoint;!0===t.numericInput&&void 0===t.__financeInput?(e="1",t.positionCaretOnClick="radixFocus"===t.positionCaretOnClick?"lvp":t.positionCaretOnClick,t.digitsOptional=!1,isNaN(t.digits)&&(t.digits=2),t._radixDance=!1,i=","===t.radixPoint?"?":"!",""!==t.radixPoint&&void 0===t.definitions[i]&&(t.definitions[i]={},t.definitions[i].validator="["+t.radixPoint+"]",t.definitions[i].placeholder=t.radixPoint,t.definitions[i].static=!0,t.definitions[i].generated=!0)):(t.__financeInput=!1,t.numericInput=!0);var n,o,s="[+]";if(s+=r(t.prefix,t),""!==t.groupSeparator?(void 0===t.definitions[t.groupSeparator]&&(t.definitions[t.groupSeparator]={},t.definitions[t.groupSeparator].validator="["+t.groupSeparator+"]",t.definitions[t.groupSeparator].placeholder=t.groupSeparator,t.definitions[t.groupSeparator].static=!0,t.definitions[t.groupSeparator].generated=!0),s+=t._mask(t)):s+="9{+}",void 0!==t.digits&&0!==t.digits){var a=t.digits.toString().split(",");isFinite(a[0])&&a[1]&&isFinite(a[1])?s+=i+e+"{"+t.digits+"}":(isNaN(t.digits)||parseInt(t.digits)>0)&&(t.digitsOptional||t.jitMasking?(n=s+i+e+"{0,"+t.digits+"}",t.keepStatic=!0):s+=i+e+"{"+t.digits+"}")}else t.inputmode="numeric";return s+=r(t.suffix,t),s+="[-]",n&&(s=[n+r(t.suffix,t)+"[-]",s]),t.greedy=!1,void 0===(o=t).parseMinMaxOptions&&(null!==o.min&&(o.min=o.min.toString().replace(new RegExp((0,d.default)(o.groupSeparator),"g"),""),","===o.radixPoint&&(o.min=o.min.replace(o.radixPoint,".")),o.min=isFinite(o.min)?parseFloat(o.min):NaN,isNaN(o.min)&&(o.min=Number.MIN_VALUE)),null!==o.max&&(o.max=o.max.toString().replace(new RegExp((0,d.default)(o.groupSeparator),"g"),""),","===o.radixPoint&&(o.max=o.max.replace(o.radixPoint,".")),o.max=isFinite(o.max)?parseFloat(o.max):NaN,isNaN(o.max)&&(o.max=Number.MAX_VALUE)),o.parseMinMaxOptions="done"),""!==t.radixPoint&&(t.substitutes["."==t.radixPoint?",":"."]=t.radixPoint),s},_mask:function(t){return"("+t.groupSeparator+"999){+|1}"},digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",_radixDance:!0,groupSeparator:"",allowMinus:!0,negationSymbol:{front:"-",back:""},prefix:"",suffix:"",min:null,max:null,SetMaxOnOverflow:!1,step:1,inputType:"text",unmaskAsNumber:!1,roundingFN:Math.round,inputmode:"decimal",shortcuts:{k:"1000",m:"1000000"},placeholder:"0",greedy:!1,rightAlign:!0,insertMode:!0,autoUnmask:!1,skipOptionalPartCharacter:"",usePrototypeDefinitions:!1,stripLeadingZeroes:!0,definitions:{0:{validator:l},1:{validator:l,definitionSymbol:"9"},9:{validator:"[0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]",definitionSymbol:"*"},"+":{validator:function(t,e,i,n,r){return r.allowMinus&&("-"===t||t===r.negationSymbol.front)}},"-":{validator:function(t,e,i,n,r){return r.allowMinus&&t===r.negationSymbol.back}}},preValidation:function(t,e,i,n,r,o,l,c){if(!1!==r.__financeInput&&i===r.radixPoint)return!1;var u,d,h,p,f,g=t.indexOf(r.radixPoint),m=e;if(u=e,d=i,h=g,p=o,(f=r)._radixDance&&f.numericInput&&d!==f.negationSymbol.back&&u<=h&&(h>0||d==f.radixPoint)&&(void 0===p.validPositions[u-1]||p.validPositions[u-1].input!==f.negationSymbol.back)&&(u-=1),e=u,"-"===i||i===r.negationSymbol.front){if(!0!==r.allowMinus)return!1;var v=!1,y=a("+",o),b=a("-",o);return-1!==y&&(v=[y,b]),!1!==v?{remove:v,caret:m-r.negationSymbol.back.length}:{insert:[{pos:s.call(this,"+",o),c:r.negationSymbol.front,fromIsValid:!0},{pos:s.call(this,"-",o),c:r.negationSymbol.back,fromIsValid:void 0}],caret:m+r.negationSymbol.back.length}}if(i===r.groupSeparator)return{caret:m};if(c)return!0;if(-1!==g&&!0===r._radixDance&&!1===n&&i===r.radixPoint&&void 0!==r.digits&&(isNaN(r.digits)||parseInt(r.digits)>0)&&g!==e)return{caret:r._radixDance&&e===g-1?g+1:g};if(!1===r.__financeInput)if(n){if(r.digitsOptional)return{rewritePosition:l.end};if(!r.digitsOptional){if(l.begin>g&&l.end<=g)return i===r.radixPoint?{insert:{pos:g+1,c:"0",fromIsValid:!0},rewritePosition:g}:{rewritePosition:g+1};if(l.begin<g)return{rewritePosition:l.begin-1}}}else if(!r.showMaskOnHover&&!r.showMaskOnFocus&&!r.digitsOptional&&r.digits>0&&""===this.__valueGet.call(this.el))return{rewritePosition:g};return{rewritePosition:e}},postValidation:function(t,e,i,n,r,s,a){if(!1===n)return n;if(a)return!0;if(null!==r.min||null!==r.max){var l=r.onUnMask(t.slice().reverse().join(""),void 0,p.extend({},r,{unmaskAsNumber:!0}));if(null!==r.min&&l<r.min&&(l.toString().length>r.min.toString().length||l<0))return!1;if(null!==r.max&&l>r.max)return!!r.SetMaxOnOverflow&&{refreshFromBuffer:!0,buffer:o(r.max.toString().replace(".",r.radixPoint).split(""),r.digits,r).reverse()}}return n},onUnMask:function(t,e,i){if(""===e&&!0===i.nullable)return e;var n=t.replace(i.prefix,"");return n=(n=n.replace(i.suffix,"")).replace(new RegExp((0,d.default)(i.groupSeparator),"g"),""),""!==i.placeholder.charAt(0)&&(n=n.replace(new RegExp(i.placeholder.charAt(0),"g"),"0")),i.unmaskAsNumber?(""!==i.radixPoint&&-1!==n.indexOf(i.radixPoint)&&(n=n.replace(d.default.call(this,i.radixPoint),".")),n=(n=n.replace(new RegExp("^"+(0,d.default)(i.negationSymbol.front)),"-")).replace(new RegExp((0,d.default)(i.negationSymbol.back)+"$"),""),Number(n)):n},isComplete:function(t,e){var i=(e.numericInput?t.slice().reverse():t).join("");return i=(i=(i=(i=(i=i.replace(new RegExp("^"+(0,d.default)(e.negationSymbol.front)),"-")).replace(new RegExp((0,d.default)(e.negationSymbol.back)+"$"),"")).replace(e.prefix,"")).replace(e.suffix,"")).replace(new RegExp((0,d.default)(e.groupSeparator)+"([0-9]{3})","g"),"$1"),","===e.radixPoint&&(i=i.replace((0,d.default)(e.radixPoint),".")),isFinite(i)},onBeforeMask:function(t,e){var i=e.radixPoint||",";isFinite(e.digits)&&(e.digits=parseInt(e.digits)),"number"!=typeof t&&"number"!==e.inputType||""===i||(t=t.toString().replace(".",i));var n="-"===t.charAt(0)||t.charAt(0)===e.negationSymbol.front,r=t.split(i),s=r[0].replace(/[^\-0-9]/g,""),a=r.length>1?r[1].replace(/[^0-9]/g,""):"",l=r.length>1;t=s+(""!==a?i+a:a);var c=0;if(""!==i&&(c=e.digitsOptional?e.digits<a.length?e.digits:a.length:e.digits,""!==a||!e.digitsOptional)){var u=Math.pow(10,c||1);t=t.replace((0,d.default)(i),"."),isNaN(parseFloat(t))||(t=(e.roundingFN(parseFloat(t)*u)/u).toFixed(c)),t=t.toString().replace(".",i)}if(0===e.digits&&-1!==t.indexOf(i)&&(t=t.substring(0,t.indexOf(i))),null!==e.min||null!==e.max){var h=t.toString().replace(i,".");null!==e.min&&h<e.min?t=e.min.toString().replace(".",i):null!==e.max&&h>e.max&&(t=e.max.toString().replace(".",i))}return n&&"-"!==t.charAt(0)&&(t="-"+t),o(t.toString().split(""),c,e,l).join("")},onBeforeWrite:function(t,e,i,n){function r(t,e){if(!1!==n.__financeInput||e){var i=t.indexOf(n.radixPoint);-1!==i&&t.splice(i,1)}if(""!==n.groupSeparator)for(;-1!==(i=t.indexOf(n.groupSeparator));)t.splice(i,1);return t}var s,a,l,c,u,h,f;if(n.stripLeadingZeroes&&(l=e,c=n,u=new RegExp("(^"+(""!==c.negationSymbol.front?(0,d.default)(c.negationSymbol.front)+"?":"")+(0,d.default)(c.prefix)+")(.*)("+(0,d.default)(c.suffix)+(""!=c.negationSymbol.back?(0,d.default)(c.negationSymbol.back)+"?":"")+"$)").exec(l.slice().reverse().join("")),h=u?u[2]:"",f=!1,h&&(h=h.split(c.radixPoint.charAt(0))[0],f=new RegExp("^[0"+c.groupSeparator+"]*").exec(h)),a=!(!f||!(f[0].length>1||f[0].length>0&&f[0].length<h.length))&&f))for(var g=e.join("").lastIndexOf(a[0].split("").reverse().join(""))-(a[0]==a.input?0:1),m=a[0]==a.input?1:0,v=a[0].length-m;v>0;v--)delete this.maskset.validPositions[g+v],delete e[g+v];if(t)switch(t.type){case"blur":case"checkval":if(null!==n.min){var y=n.onUnMask(e.slice().reverse().join(""),void 0,p.extend({},n,{unmaskAsNumber:!0}));if(null!==n.min&&y<n.min)return{refreshFromBuffer:!0,buffer:o(n.min.toString().replace(".",n.radixPoint).split(""),n.digits,n).reverse()}}if(e[e.length-1]===n.negationSymbol.front){var b=new RegExp("(^"+(""!=n.negationSymbol.front?(0,d.default)(n.negationSymbol.front)+"?":"")+(0,d.default)(n.prefix)+")(.*)("+(0,d.default)(n.suffix)+(""!=n.negationSymbol.back?(0,d.default)(n.negationSymbol.back)+"?":"")+"$)").exec(r(e.slice(),!0).reverse().join(""));0==(b?b[2]:"")&&(s={refreshFromBuffer:!0,buffer:[0]})}else""!==n.radixPoint&&e.indexOf(n.radixPoint)===n.suffix.length&&(s&&s.buffer?s.buffer.splice(0,1+n.suffix.length):(e.splice(0,1+n.suffix.length),s={refreshFromBuffer:!0,buffer:r(e)}));if(n.enforceDigitsOnBlur){var w=(s=s||{})&&s.buffer||e.slice().reverse();s.refreshFromBuffer=!0,s.buffer=o(w,n.digits,n,!0).reverse()}}return s},onKeyDown:function(t,e,i,n){var r,s,a=p(this),l=String.fromCharCode(t.keyCode).toLowerCase();if((s=n.shortcuts&&n.shortcuts[l])&&s.length>1)return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())*parseInt(s)),a.trigger("setvalue"),!1;if(t.ctrlKey)switch(t.keyCode){case u.default.UP:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())+parseInt(n.step)),a.trigger("setvalue"),!1;case u.default.DOWN:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())-parseInt(n.step)),a.trigger("setvalue"),!1}if(!t.shiftKey&&(t.keyCode===u.default.DELETE||t.keyCode===u.default.BACKSPACE||t.keyCode===u.default.BACKSPACE_SAFARI)&&i.begin!==e.length){if(e[t.keyCode===u.default.DELETE?i.begin-1:i.end]===n.negationSymbol.front)return r=e.slice().reverse(),""!==n.negationSymbol.front&&r.shift(),""!==n.negationSymbol.back&&r.pop(),a.trigger("setvalue",[r.join(""),i.begin]),!1;if(!0===n._radixDance){var c=e.indexOf(n.radixPoint);if(n.digitsOptional){if(0===c)return(r=e.slice().reverse()).pop(),a.trigger("setvalue",[r.join(""),i.begin>=r.length?r.length:i.begin]),!1}else if(-1!==c&&(i.begin<c||i.end<c||t.keyCode===u.default.DELETE&&i.begin===c))return i.begin!==i.end||t.keyCode!==u.default.BACKSPACE&&t.keyCode!==u.default.BACKSPACE_SAFARI||i.begin++,(r=e.slice().reverse()).splice(r.length-i.begin,i.begin-i.end+1),r=o(r,n.digits,n).join(""),a.trigger("setvalue",[r,i.begin>=r.length?c+1:i.begin]),!1}}}},currency:{prefix:"",groupSeparator:",",alias:"numeric",digits:2,digitsOptional:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",inputmode:"numeric",digits:0},percentage:{alias:"numeric",min:0,max:100,suffix:" %",digits:0,allowMinus:!1},indianns:{alias:"numeric",_mask:function(t){return"("+t.groupSeparator+"99){*|1}("+t.groupSeparator+"999){1|1}"},groupSeparator:",",radixPoint:".",placeholder:"0",digits:2,digitsOptional:!1}})},9380:function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=((n=i(8741))&&n.__esModule?n:{default:n}).default?window:{};e.default=r},7760:function(t,e,i){function n(t,e){var i=t?t.inputmask:this,n=i.opts;t.inputmask.refreshValue=!1,"function"==typeof n.onBeforeMask&&(e=n.onBeforeMask.call(i,e,n)||e),o(t,!0,!1,e=e.toString().split("")),i.undoValue=i._valueGet(!0),(n.clearMaskOnLostFocus||n.clearIncomplete)&&t.inputmask._valueGet()===u.getBufferTemplate.call(i).join("")&&-1===u.getLastValidPosition.call(i)&&t.inputmask._valueSet("")}function r(t){t.length=0;for(var e,i=c.getMaskTemplate.call(this,!0,0,!0,void 0,!0);void 0!==(e=i.shift());)t.push(e);return t}function o(t,e,i,n,r){var o=t?t.inputmask:this,a=o.maskset,l=o.opts,h=o.dependencyLib,f=n.slice(),g="",m=-1,v=void 0,y=l.skipOptionalPartCharacter;l.skipOptionalPartCharacter="",u.resetMaskSet.call(o),a.tests={},m=l.radixPoint?u.determineNewCaretPosition.call(o,{begin:0,end:0},!1,!1===l.__financeInput?"radixFocus":void 0).begin:0,a.p=m,o.caretPos={begin:m};var b=[],w=o.caretPos;if(f.forEach((function(t,e){if(void 0!==t){var n=new h.Event("_checkval");n.keyCode=t.toString().charCodeAt(0),g+=t;var r=u.getLastValidPosition.call(o,void 0,!0);!function(t,e){for(var i=c.getMaskTemplate.call(o,!0,0).slice(t,u.seekNext.call(o,t,!1,!1)).join("").replace(/'/g,""),n=i.indexOf(e);n>0&&" "===i[n-1];)n--;var r=0===n&&!u.isMask.call(o,t)&&(c.getTest.call(o,t).match.nativeDef===e.charAt(0)||!0===c.getTest.call(o,t).match.static&&c.getTest.call(o,t).match.nativeDef==="'"+e.charAt(0)||" "===c.getTest.call(o,t).match.nativeDef&&(c.getTest.call(o,t+1).match.nativeDef===e.charAt(0)||!0===c.getTest.call(o,t+1).match.static&&c.getTest.call(o,t+1).match.nativeDef==="'"+e.charAt(0)));if(!r&&n>0&&!u.isMask.call(o,t,!1,!0)){var s=u.seekNext.call(o,t);o.caretPos.begin<s&&(o.caretPos={begin:s})}return r}(m,g)?(v=p.EventHandlers.keypressEvent.call(o,n,!0,!1,i,o.caretPos.begin))&&(m=o.caretPos.begin+1,g=""):v=p.EventHandlers.keypressEvent.call(o,n,!0,!1,i,r+1),v?(void 0!==v.pos&&a.validPositions[v.pos]&&!0===a.validPositions[v.pos].match.static&&void 0===a.validPositions[v.pos].alternation&&(b.push(v.pos),o.isRTL||(v.forwardPosition=v.pos+1)),s.call(o,void 0,u.getBuffer.call(o),v.forwardPosition,n,!1),o.caretPos={begin:v.forwardPosition,end:v.forwardPosition},w=o.caretPos):void 0===a.validPositions[e]&&f[e]===c.getPlaceholder.call(o,e)&&u.isMask.call(o,e,!0)?o.caretPos.begin++:o.caretPos=w}})),b.length>0){var k,_,x=u.seekNext.call(o,-1,void 0,!1);if(!d.isComplete.call(o,u.getBuffer.call(o))&&b.length<=x||d.isComplete.call(o,u.getBuffer.call(o))&&b.length>0&&b.length!==x&&0===b[0])for(var E=x;void 0!==(k=b.shift());){var A=new h.Event("_checkval");if((_=a.validPositions[k]).generatedInput=!0,A.keyCode=_.input.charCodeAt(0),(v=p.EventHandlers.keypressEvent.call(o,A,!0,!1,i,E))&&void 0!==v.pos&&v.pos!==k&&a.validPositions[v.pos]&&!0===a.validPositions[v.pos].match.static)b.push(v.pos);else if(!v)break;E++}}e&&s.call(o,t,u.getBuffer.call(o),v?v.forwardPosition:o.caretPos.begin,r||new h.Event("checkval"),r&&("input"===r.type&&o.undoValue!==u.getBuffer.call(o).join("")||"paste"===r.type)),l.skipOptionalPartCharacter=y}function s(t,e,i,n,r){var o=t?t.inputmask:this,s=o.opts,a=o.dependencyLib;if(n&&"function"==typeof s.onBeforeWrite){var c=s.onBeforeWrite.call(o,n,e,i,s);if(c){if(c.refreshFromBuffer){var h=c.refreshFromBuffer;d.refreshFromBuffer.call(o,!0===h?h:h.start,h.end,c.buffer||e),e=u.getBuffer.call(o,!0)}void 0!==i&&(i=void 0!==c.caret?c.caret:i)}}if(void 0!==t&&(t.inputmask._valueSet(e.join("")),void 0===i||void 0!==n&&"blur"===n.type||u.caret.call(o,t,i,void 0,void 0,void 0!==n&&"keydown"===n.type&&(n.keyCode===l.default.DELETE||n.keyCode===l.default.BACKSPACE)),!0===r)){var p=a(t),f=t.inputmask._valueGet();t.inputmask.skipInputEvent=!0,p.trigger("input"),setTimeout((function(){f===u.getBufferTemplate.call(o).join("")?p.trigger("cleared"):!0===d.isComplete.call(o,e)&&p.trigger("complete")}),0)}}Object.defineProperty(e,"__esModule",{value:!0}),e.HandleNativePlaceholder=function(t,e){var i=t?t.inputmask:this;if(h.ie){if(t.inputmask._valueGet()!==e&&(t.placeholder!==e||""===t.placeholder)){var n=u.getBuffer.call(i).slice(),o=t.inputmask._valueGet();if(o!==e){var a=u.getLastValidPosition.call(i);-1===a&&o===u.getBufferTemplate.call(i).join("")?n=[]:-1!==a&&r.call(i,n),s(t,n)}}}else t.placeholder!==e&&(t.placeholder=e,""===t.placeholder&&t.removeAttribute("placeholder"))},e.applyInputValue=n,e.checkVal=o,e.clearOptionalTail=r,e.unmaskedvalue=function(t){var e=t?t.inputmask:this,i=e.opts,r=e.maskset;if(t){if(void 0===t.inputmask)return t.value;t.inputmask&&t.inputmask.refreshValue&&n(t,t.inputmask._valueGet(!0))}var o=[],s=r.validPositions;for(var a in s)s[a]&&s[a].match&&(1!=s[a].match.static||Array.isArray(r.metadata)&&!0!==s[a].generatedInput)&&o.push(s[a].input);var l=0===o.length?"":(e.isRTL?o.reverse():o).join("");if("function"==typeof i.onUnMask){var c=(e.isRTL?u.getBuffer.call(e).slice().reverse():u.getBuffer.call(e)).join("");l=i.onUnMask.call(e,c,l,i)}return l},e.writeBuffer=s;var a,l=(a=i(5581))&&a.__esModule?a:{default:a},c=i(4713),u=i(8711),d=i(7215),h=i(9845),p=i(6030)},2394:function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,i){if(y.default){if(!(this instanceof o))return new o(t,e,i);this.dependencyLib=l.default,this.el=void 0,this.events={},this.maskset=void 0,!0!==i&&("[object Object]"===Object.prototype.toString.call(t)?e=t:(e=e||{},t&&(e.alias=t)),this.opts=l.default.extend(!0,{},this.defaults,e),this.noMasksCache=e&&void 0!==e.definitions,this.userOptions=e||{},s(this.opts.alias,e,this.opts)),this.refreshValue=!1,this.undoValue=void 0,this.$el=void 0,this.skipKeyPressEvent=!1,this.skipInputEvent=!1,this.validationEvent=!1,this.ignorable=!1,this.maxLength,this.mouseEnter=!1,this.originalPlaceholder=void 0,this.isComposing=!1}}function s(t,e,i){var n=o.prototype.aliases[t];return n?(n.alias&&s(n.alias,void 0,i),l.default.extend(!0,i,n),l.default.extend(!0,i,e),!0):(null===i.mask&&(i.mask=t),!1)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(7149),i(3194);var a=i(157),l=r(i(4963)),c=r(i(9380)),u=i(2391),d=i(4713),h=i(8711),p=i(7215),f=i(7760),g=i(9716),m=r(i(7392)),v=r(i(3976)),y=r(i(8741)),b=c.default.document,w="_inputmask_opts";o.prototype={dataAttribute:"data-inputmask",defaults:v.default,definitions:m.default,aliases:{},masksCache:{},get isRTL(){return this.opts.isRTL||this.opts.numericInput},mask:function(t){var e=this;return"string"==typeof t&&(t=b.getElementById(t)||b.querySelectorAll(t)),(t=t.nodeName?[t]:Array.isArray(t)?t:Array.from(t)).forEach((function(t){var i=l.default.extend(!0,{},e.opts);if(function(t,e,i,n){function r(e,r){var o=""===n?e:n+"-"+e;null!==(r=void 0!==r?r:t.getAttribute(o))&&("string"==typeof r&&(0===e.indexOf("on")?r=c.default[r]:"false"===r?r=!1:"true"===r&&(r=!0)),i[e]=r)}if(!0===e.importDataAttributes){var o,a,u,d,h=t.getAttribute(n);if(h&&""!==h&&(h=h.replace(/'/g,'"'),a=JSON.parse("{"+h+"}")),a)for(d in u=void 0,a)if("alias"===d.toLowerCase()){u=a[d];break}for(o in r("alias",u),i.alias&&s(i.alias,i,e),e){if(a)for(d in u=void 0,a)if(d.toLowerCase()===o.toLowerCase()){u=a[d];break}r(o,u)}}return l.default.extend(!0,e,i),("rtl"===t.dir||e.rightAlign)&&(t.style.textAlign="right"),("rtl"===t.dir||e.numericInput)&&(t.dir="ltr",t.removeAttribute("dir"),e.isRTL=!0),Object.keys(i).length}(t,i,l.default.extend(!0,{},e.userOptions),e.dataAttribute)){var n=(0,u.generateMaskSet)(i,e.noMasksCache);void 0!==n&&(void 0!==t.inputmask&&(t.inputmask.opts.autoUnmask=!0,t.inputmask.remove()),t.inputmask=new o(void 0,void 0,!0),t.inputmask.opts=i,t.inputmask.noMasksCache=e.noMasksCache,t.inputmask.userOptions=l.default.extend(!0,{},e.userOptions),t.inputmask.el=t,t.inputmask.$el=(0,l.default)(t),t.inputmask.maskset=n,l.default.data(t,w,e.userOptions),a.mask.call(t.inputmask))}})),t&&t[0]&&t[0].inputmask||this},option:function(t,e){return"string"==typeof t?this.opts[t]:"object"===n(t)?(l.default.extend(this.userOptions,t),this.el&&!0!==e&&this.mask(this.el),this):void 0},unmaskedvalue:function(t){if(this.maskset=this.maskset||(0,u.generateMaskSet)(this.opts,this.noMasksCache),void 0===this.el||void 0!==t){var e=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,t,this.opts)||t).split("");f.checkVal.call(this,void 0,!1,!1,e),"function"==typeof this.opts.onBeforeWrite&&this.opts.onBeforeWrite.call(this,void 0,h.getBuffer.call(this),0,this.opts)}return f.unmaskedvalue.call(this,this.el)},remove:function(){if(this.el){l.default.data(this.el,w,null);var t=this.opts.autoUnmask?(0,f.unmaskedvalue)(this.el):this._valueGet(this.opts.autoUnmask);t!==h.getBufferTemplate.call(this).join("")?this._valueSet(t,this.opts.autoUnmask):this._valueSet(""),g.EventRuler.off(this.el),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.el),"value")&&this.__valueGet&&Object.defineProperty(this.el,"value",{get:this.__valueGet,set:this.__valueSet,configurable:!0}):b.__lookupGetter__&&this.el.__lookupGetter__("value")&&this.__valueGet&&(this.el.__defineGetter__("value",this.__valueGet),this.el.__defineSetter__("value",this.__valueSet)),this.el.inputmask=void 0}return this.el},getemptymask:function(){return this.maskset=this.maskset||(0,u.generateMaskSet)(this.opts,this.noMasksCache),h.getBufferTemplate.call(this).join("")},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||(0,u.generateMaskSet)(this.opts,this.noMasksCache),p.isComplete.call(this,h.getBuffer.call(this))},getmetadata:function(){if(this.maskset=this.maskset||(0,u.generateMaskSet)(this.opts,this.noMasksCache),Array.isArray(this.maskset.metadata)){var t=d.getMaskTemplate.call(this,!0,0,!1).join("");return this.maskset.metadata.forEach((function(e){return e.mask!==t||(t=e,!1)})),t}return this.maskset.metadata},isValid:function(t){if(this.maskset=this.maskset||(0,u.generateMaskSet)(this.opts,this.noMasksCache),t){var e=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,t,this.opts)||t).split("");f.checkVal.call(this,void 0,!0,!1,e)}else t=this.isRTL?h.getBuffer.call(this).slice().reverse().join(""):h.getBuffer.call(this).join("");for(var i=h.getBuffer.call(this),n=h.determineLastRequiredPosition.call(this),r=i.length-1;r>n&&!h.isMask.call(this,r);r--);return i.splice(n,r+1-n),p.isComplete.call(this,i)&&t===(this.isRTL?h.getBuffer.call(this).slice().reverse().join(""):h.getBuffer.call(this).join(""))},format:function(t,e){this.maskset=this.maskset||(0,
u.generateMaskSet)(this.opts,this.noMasksCache);var i=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,t,this.opts)||t).split("");f.checkVal.call(this,void 0,!0,!1,i);var n=this.isRTL?h.getBuffer.call(this).slice().reverse().join(""):h.getBuffer.call(this).join("");return e?{value:n,metadata:this.getmetadata()}:n},setValue:function(t){this.el&&(0,l.default)(this.el).trigger("setvalue",[t])},analyseMask:u.analyseMask},o.extendDefaults=function(t){l.default.extend(!0,o.prototype.defaults,t)},o.extendDefinitions=function(t){l.default.extend(!0,o.prototype.definitions,t)},o.extendAliases=function(t){l.default.extend(!0,o.prototype.aliases,t)},o.format=function(t,e,i){return o(e).format(t,i)},o.unmask=function(t,e){return o(e).unmaskedvalue(t)},o.isValid=function(t,e){return o(e).isValid(t)},o.remove=function(t){"string"==typeof t&&(t=b.getElementById(t)||b.querySelectorAll(t)),(t=t.nodeName?[t]:t).forEach((function(t){t.inputmask&&t.inputmask.remove()}))},o.setValue=function(t,e){"string"==typeof t&&(t=b.getElementById(t)||b.querySelectorAll(t)),(t=t.nodeName?[t]:t).forEach((function(t){t.inputmask?t.inputmask.setValue(e):(0,l.default)(t).trigger("setvalue",[e])}))},o.dependencyLib=l.default,c.default.Inputmask=o;var k=o;e.default=k},5296:function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function s(t){var e="function"==typeof Map?new Map:void 0;return s=function(t){function i(){return a(t,arguments,u(this).constructor)}if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),c(i,t)},s(t)}function a(t,e,i){return(a=l()?Reflect.construct:function(t,e,i){var n=[null];n.push.apply(n,e);var r=new(Function.bind.apply(t,n));return i&&c(r,i.prototype),r}).apply(null,arguments)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t){return t&&t.__esModule?t:{default:t}}var h=d(i(9380)),p=d(i(2394)),f=d(i(8741)),g=h.default.document;if(f.default&&g&&g.head&&g.head.attachShadow&&h.default.customElements&&void 0===h.default.customElements.get("input-mask")){var m=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=(t=h.call(this)).getAttributeNames(),n=t.attachShadow({mode:"closed"}),r=g.createElement("input");for(var o in r.type="text",n.appendChild(r),i)Object.prototype.hasOwnProperty.call(i,o)&&r.setAttribute(i[o],t.getAttribute(i[o]));var s=new p.default;return s.dataAttribute="",s.mask(r),r.inputmask.shadowRoot=n,t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&c(t,e)}(e,t);var i,n,s,a,d,h=(i=e,n=l(),function(){var t,e=u(i);if(n){var r=u(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return o(this,t)});return s=e,a&&r(s.prototype,a),d&&r(s,d),Object.defineProperty(s,"prototype",{writable:!1}),s}(s(HTMLElement));h.default.customElements.define("input-mask",m)}},2391:function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.analyseMask=function(t,e,i){function n(t,n,r){r=void 0!==r?r:t.matches.length;var o=t.matches[r-1];if(e)0===n.indexOf("[")||y&&/\\d|\\s|\\w/i.test(n)||"."===n?t.matches.splice(r++,0,{fn:new RegExp(n,i.casing?"i":""),static:!1,optionality:!1,newBlockMarker:void 0===o?"master":o.def!==n,casing:null,def:n,placeholder:void 0,nativeDef:n}):(y&&(n=n[n.length-1]),n.split("").forEach((function(e){o=t.matches[r-1],t.matches.splice(r++,0,{fn:/[a-z]/i.test(i.staticDefinitionSymbol||e)?new RegExp("["+(i.staticDefinitionSymbol||e)+"]",i.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===o?"master":o.def!==e&&!0!==o.static,casing:null,def:i.staticDefinitionSymbol||e,placeholder:void 0!==i.staticDefinitionSymbol?e:void 0,nativeDef:(y?"'":"")+e})}))),y=!1;else{var a=i.definitions&&i.definitions[n]||i.usePrototypeDefinitions&&s.default.prototype.definitions[n];a&&!y?t.matches.splice(r++,0,{fn:a.validator?"string"==typeof a.validator?new RegExp(a.validator,i.casing?"i":""):new function(){this.test=a.validator}:new RegExp("."),static:a.static||!1,optionality:a.optional||!1,newBlockMarker:void 0===o||a.optional?"master":o.def!==(a.definitionSymbol||n),casing:a.casing,def:a.definitionSymbol||n,placeholder:a.placeholder,nativeDef:n,generated:a.generated}):(t.matches.splice(r++,0,{fn:/[a-z]/i.test(i.staticDefinitionSymbol||n)?new RegExp("["+(i.staticDefinitionSymbol||n)+"]",i.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===o?"master":o.def!==n&&!0!==o.static,casing:null,def:i.staticDefinitionSymbol||n,placeholder:void 0!==i.staticDefinitionSymbol?n:void 0,nativeDef:(y?"'":"")+n}),y=!1)}}function r(){if(w.length>0){if(n(p=w[w.length-1],d),p.isAlternator){f=w.pop();for(var t=0;t<f.matches.length;t++)f.matches[t].isGroup&&(f.matches[t].isGroup=!1);w.length>0?(p=w[w.length-1]).matches.push(f):b.matches.push(f)}}else n(b,d)}function a(t){var e=new o.default(!0);return e.openGroup=!1,e.matches=t,e}function l(){if((h=w.pop()).openGroup=!1,void 0!==h)if(w.length>0){if((p=w[w.length-1]).matches.push(h),p.isAlternator){for(var t=(f=w.pop()).matches[0].matches?f.matches[0].matches.length:1,e=0;e<f.matches.length;e++)f.matches[e].isGroup=!1,f.matches[e].alternatorGroup=!1,null===i.keepStatic&&t<(f.matches[e].matches?f.matches[e].matches.length:1)&&(i.keepStatic=!0),t=f.matches[e].matches?f.matches[e].matches.length:1;w.length>0?(p=w[w.length-1]).matches.push(f):b.matches.push(f)}}else b.matches.push(h);else r()}function c(t){var e=t.pop();return e.isQuantifier&&(e=a([t.pop(),e])),e}var u,d,h,p,f,g,m=/(?:[?*+]|\{[0-9+*]+(?:,[0-9+*]*)?(?:\|[0-9+*]*)?\})|[^.?*+^${[]()|\\]+|./g,v=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,y=!1,b=new o.default,w=[],k=[],_=!1;for(e&&(i.optionalmarker[0]=void 0,i.optionalmarker[1]=void 0);u=e?v.exec(t):m.exec(t);){if(d=u[0],e){switch(d.charAt(0)){case"?":d="{0,1}";break;case"+":case"*":d="{"+d+"}";break;case"|":if(0===w.length){var x=a(b.matches);x.openGroup=!0,w.push(x),b.matches=[],_=!0}}"\\d"===d&&(d="[0-9]")}if(y)r();else switch(d.charAt(0)){case"$":case"^":e||r();break;case i.escapeChar:y=!0,e&&r();break;case i.optionalmarker[1]:case i.groupmarker[1]:l();break;case i.optionalmarker[0]:w.push(new o.default(!1,!0));break;case i.groupmarker[0]:w.push(new o.default(!0));break;case i.quantifiermarker[0]:var E=new o.default(!1,!1,!0),A=(d=d.replace(/[{}?]/g,"")).split("|"),S=A[0].split(","),O=isNaN(S[0])?S[0]:parseInt(S[0]),C=1===S.length?O:isNaN(S[1])?S[1]:parseInt(S[1]),T=isNaN(A[1])?A[1]:parseInt(A[1]);"*"!==O&&"+"!==O||(O="*"===C?0:1),E.quantifier={min:O,max:C,jit:T};var D=w.length>0?w[w.length-1].matches:b.matches;if((u=D.pop()).isAlternator){D.push(u),D=u.matches;var L=new o.default(!0),I=D.pop();D.push(L),D=L.matches,u=I}u.isGroup||(u=a([u])),D.push(u),D.push(E);break;case i.alternatormarker:if(w.length>0){var P=(p=w[w.length-1]).matches[p.matches.length-1];g=p.openGroup&&(void 0===P.matches||!1===P.isGroup&&!1===P.isAlternator)?w.pop():c(p.matches)}else g=c(b.matches);if(g.isAlternator)w.push(g);else if(g.alternatorGroup?(f=w.pop(),g.alternatorGroup=!1):f=new o.default(!1,!1,!1,!0),f.matches.push(g),w.push(f),g.openGroup){g.openGroup=!1;var M=new o.default(!0);M.alternatorGroup=!0,w.push(M)}break;default:r()}}for(_&&l();w.length>0;)h=w.pop(),b.matches.push(h);return b.matches.length>0&&(function t(r){r&&r.matches&&r.matches.forEach((function(o,s){var a=r.matches[s+1];(void 0===a||void 0===a.matches||!1===a.isQuantifier)&&o&&o.isGroup&&(o.isGroup=!1,e||(n(o,i.groupmarker[0],0),!0!==o.openGroup&&n(o,i.groupmarker[1]))),t(o)}))}(b),k.push(b)),(i.numericInput||i.isRTL)&&function t(e){for(var n in e.matches=e.matches.reverse(),e.matches)if(Object.prototype.hasOwnProperty.call(e.matches,n)){var r=parseInt(n);if(e.matches[n].isQuantifier&&e.matches[r+1]&&e.matches[r+1].isGroup){var o=e.matches[n];e.matches.splice(n,1),e.matches.splice(r+1,0,o)}void 0!==e.matches[n].matches?e.matches[n]=t(e.matches[n]):e.matches[n]=((s=e.matches[n])===i.optionalmarker[0]?s=i.optionalmarker[1]:s===i.optionalmarker[1]?s=i.optionalmarker[0]:s===i.groupmarker[0]?s=i.groupmarker[1]:s===i.groupmarker[1]&&(s=i.groupmarker[0]),s)}var s;return e}(k[0]),k},e.generateMaskSet=function(t,e){function i(t,i,n){var o,a,l=!1;if(null!==t&&""!==t||((l=null!==n.regex)?t=(t=n.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(l=!0,t=".*")),1===t.length&&!1===n.greedy&&0!==n.repeat&&(n.placeholder=""),n.repeat>0||"*"===n.repeat||"+"===n.repeat){var c="*"===n.repeat?0:"+"===n.repeat?1:n.repeat;t=n.groupmarker[0]+t+n.groupmarker[1]+n.quantifiermarker[0]+c+","+n.repeat+n.quantifiermarker[1]}return a=l?"regex_"+n.regex:n.numericInput?t.split("").reverse().join(""):t,null!==n.keepStatic&&(a="ks_"+n.keepStatic+a),void 0===s.default.prototype.masksCache[a]||!0===e?(o={mask:t,maskToken:s.default.prototype.analyseMask(t,l,n),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},excludes:{},metadata:i,maskLength:void 0,jitOffset:{}},!0!==e&&(s.default.prototype.masksCache[a]=o,o=r.default.extend(!0,{},s.default.prototype.masksCache[a]))):o=r.default.extend(!0,{},s.default.prototype.masksCache[a]),o}var n;if("function"==typeof t.mask&&(t.mask=t.mask(t)),Array.isArray(t.mask)){if(t.mask.length>1){null===t.keepStatic&&(t.keepStatic=!0);var o=t.groupmarker[0];return(t.isRTL?t.mask.reverse():t.mask).forEach((function(e){o.length>1&&(o+=t.alternatormarker),void 0!==e.mask&&"function"!=typeof e.mask?o+=e.mask:o+=e})),i(o+=t.groupmarker[1],t.mask,t)}t.mask=t.mask.pop()}return n=t.mask&&void 0!==t.mask.mask&&"function"!=typeof t.mask.mask?i(t.mask.mask,t.mask,t):i(t.mask,t.mask,t),null===t.keepStatic&&(t.keepStatic=!1),n};var r=n(i(4963)),o=n(i(9695)),s=n(i(2394))},157:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.mask=function(){var t=this,e=this.opts,i=this.el,n=this.dependencyLib;a.EventRuler.off(i);var d=function(e,i){"textarea"!==e.tagName.toLowerCase()&&i.ignorables.push(r.default.ENTER);var l=e.getAttribute("type"),c="input"===e.tagName.toLowerCase()&&i.supportsInputType.includes(l)||e.isContentEditable||"textarea"===e.tagName.toLowerCase();if(!c)if("input"===e.tagName.toLowerCase()){var u=document.createElement("input");u.setAttribute("type",l),c="text"===u.type,u=null}else c="partial";return!1!==c?function(e){function r(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==o.getLastValidPosition.call(t)||!0!==i.nullable?(this.inputmask.shadowRoot||this.ownerDocument).activeElement===this&&i.clearMaskOnLostFocus?(t.isRTL?s.clearOptionalTail.call(t,o.getBuffer.call(t).slice()).reverse():s.clearOptionalTail.call(t,o.getBuffer.call(t).slice())).join(""):c.call(this):"":c.call(this)}function l(t){u.call(this,t),this.inputmask&&(0,s.applyInputValue)(this,t)}var c,u,d;if(!e.inputmask.__valueGet){if(!0!==i.noValuePatching){if(Object.getOwnPropertyDescriptor){var h=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value"):void 0;h&&h.get&&h.set?(c=h.get,u=h.set,Object.defineProperty(e,"value",{get:r,set:l,configurable:!0})):"input"!==e.tagName.toLowerCase()&&(c=function(){return this.textContent},u=function(t){this.textContent=t},Object.defineProperty(e,"value",{get:r,set:l,configurable:!0}))}else document.__lookupGetter__&&e.__lookupGetter__("value")&&(c=e.__lookupGetter__("value"),u=e.__lookupSetter__("value"),e.__defineGetter__("value",r),e.__defineSetter__("value",l));e.inputmask.__valueGet=c,e.inputmask.__valueSet=u}e.inputmask._valueGet=function(e){return t.isRTL&&!0!==e?c.call(this.el).split("").reverse().join(""):c.call(this.el)},e.inputmask._valueSet=function(e,i){u.call(this.el,null==e?"":!0!==i&&t.isRTL?e.split("").reverse().join(""):e)},void 0===c&&(c=function(){return this.value},u=function(t){this.value=t},function(e){if(n.valHooks&&(void 0===n.valHooks[e]||!0!==n.valHooks[e].inputmaskpatch)){var r=n.valHooks[e]&&n.valHooks[e].get?n.valHooks[e].get:function(t){return t.value},a=n.valHooks[e]&&n.valHooks[e].set?n.valHooks[e].set:function(t,e){return t.value=e,t};n.valHooks[e]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var n=r(e);return-1!==o.getLastValidPosition.call(t,void 0,void 0,e.inputmask.maskset.validPositions)||!0!==i.nullable?n:""}return r(e)},set:function(t,e){var i=a(t,e);return t.inputmask&&(0,s.applyInputValue)(t,e),i},inputmaskpatch:!0}}}(e.type),d=e,a.EventRuler.on(d,"mouseenter",(function(){var e=this.inputmask._valueGet(!0);e!==(t.isRTL?o.getBuffer.call(t).reverse():o.getBuffer.call(t)).join("")&&(0,s.applyInputValue)(this,e)})))}}(e):e.inputmask=void 0,c}(i,e);if(!1!==d){t.originalPlaceholder=i.placeholder,t.maxLength=void 0!==i?i.maxLength:void 0,-1===t.maxLength&&(t.maxLength=void 0),"inputMode"in i&&null===i.getAttribute("inputmode")&&(i.inputMode=e.inputmode,i.setAttribute("inputmode",e.inputmode)),!0===d&&(e.showMaskOnFocus=e.showMaskOnFocus&&-1===["cc-number","cc-exp"].indexOf(i.autocomplete),l.iphone&&(e.insertModeVisual=!1),a.EventRuler.on(i,"submit",u.EventHandlers.submitEvent),a.EventRuler.on(i,"reset",u.EventHandlers.resetEvent),a.EventRuler.on(i,"blur",u.EventHandlers.blurEvent),a.EventRuler.on(i,"focus",u.EventHandlers.focusEvent),a.EventRuler.on(i,"invalid",u.EventHandlers.invalidEvent),a.EventRuler.on(i,"click",u.EventHandlers.clickEvent),a.EventRuler.on(i,"mouseleave",u.EventHandlers.mouseleaveEvent),a.EventRuler.on(i,"mouseenter",u.EventHandlers.mouseenterEvent),a.EventRuler.on(i,"paste",u.EventHandlers.pasteEvent),a.EventRuler.on(i,"cut",u.EventHandlers.cutEvent),a.EventRuler.on(i,"complete",e.oncomplete),a.EventRuler.on(i,"incomplete",e.onincomplete),a.EventRuler.on(i,"cleared",e.oncleared),!0!==e.inputEventOnly&&(a.EventRuler.on(i,"keydown",u.EventHandlers.keydownEvent),a.EventRuler.on(i,"keypress",u.EventHandlers.keypressEvent),a.EventRuler.on(i,"keyup",u.EventHandlers.keyupEvent)),(l.mobile||e.inputEventOnly)&&i.removeAttribute("maxLength"),a.EventRuler.on(i,"input",u.EventHandlers.inputFallBackEvent),a.EventRuler.on(i,"compositionend",u.EventHandlers.compositionendEvent)),a.EventRuler.on(i,"setvalue",u.EventHandlers.setValueEvent),o.getBufferTemplate.call(t).join(""),t.undoValue=t._valueGet(!0);var h=(i.inputmask.shadowRoot||i.ownerDocument).activeElement;if(""!==i.inputmask._valueGet(!0)||!1===e.clearMaskOnLostFocus||h===i){(0,s.applyInputValue)(i,i.inputmask._valueGet(!0),e);var p=o.getBuffer.call(t).slice();!1===c.isComplete.call(t,p)&&e.clearIncomplete&&o.resetMaskSet.call(t),e.clearMaskOnLostFocus&&h!==i&&(-1===o.getLastValidPosition.call(t)?p=[]:s.clearOptionalTail.call(t,p)),(!1===e.clearMaskOnLostFocus||e.showMaskOnFocus&&h===i||""!==i.inputmask._valueGet(!0))&&(0,s.writeBuffer)(i,p),h===i&&o.caret.call(t,i,o.seekNext.call(t,o.getLastValidPosition.call(t)))}}};var n,r=(n=i(5581))&&n.__esModule?n:{default:n},o=i(8711),s=i(7760),a=i(9716),l=i(9845),c=i(7215),u=i(6030)},9695:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i,n){this.matches=[],this.openGroup=t||!1,this.alternatorGroup=!1,this.isGroup=t||!1,this.isOptional=e||!1,this.isQuantifier=i||!1,this.isAlternator=n||!1,this.quantifier={min:1,max:1}}},3194:function(){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),n=i.length>>>0;if(0===n)return!1;for(var r=0|e,o=Math.max(r>=0?r:n-Math.abs(r),0);o<n;){if(i[o]===t)return!0;o++}return!1}})},7149:function(){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===t("test".__proto__)?function(t){return t.__proto__}:function(t){return t.constructor.prototype})},8711:function(t,e,i){function n(t){var e=this.maskset;return void 0!==e.buffer&&!0!==t||(e.buffer=l.getMaskTemplate.call(this,!0,r.call(this),!0),void 0===e._buffer&&(e._buffer=e.buffer.slice())),e.buffer}function r(t,e,i){var n=this.maskset,r=-1,o=-1,s=i||n.validPositions;for(var a in void 0===t&&(t=-1),s){var l=parseInt(a);s[l]&&(e||!0!==s[l].generatedInput)&&(l<=t&&(r=l),l>=t&&(o=l))}return-1===r||r==t?o:-1==o||t-r<o-t?r:o}function o(t,e,i){var n=this,r=this.maskset,o=l.getTestTemplate.call(n,t).match;if(""===o.def&&(o=l.getTest.call(n,t).match),!0!==o.static)return o.fn;if(!0===i&&void 0!==r.validPositions[t]&&!0!==r.validPositions[t].generatedInput)return!0;if(!0!==e&&t>-1){if(i){var s=l.getTests.call(n,t);return s.length>1+(""===s[s.length-1].match.def?1:0)}var a=l.determineTestTemplate.call(n,t,l.getTests.call(n,t)),c=l.getPlaceholder.call(n,t,a.match);return a.match.def!==c}return!1}function s(t,e,i){var n=this;void 0===i&&(i=!0);for(var r=t+1;""!==l.getTest.call(n,r).match.def&&(!0===e&&(!0!==l.getTest.call(n,r).match.newBlockMarker||!o.call(n,r,void 0,!0))||!0!==e&&!o.call(n,r,void 0,i));)r++;return r}function a(t){var e=this.opts,i=this.el;return!this.isRTL||"number"!=typeof t||e.greedy&&""===e.placeholder||!i||(t=Math.abs(this._valueGet().length-t)),t}Object.defineProperty(e,"__esModule",{value:!0}),e.caret=function(t,e,i,n,r){var o,s=this,l=this.opts;if(void 0===e)return"selectionStart"in t&&"selectionEnd"in t?(e=t.selectionStart,i=t.selectionEnd):window.getSelection?(o=window.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==t&&o.commonAncestorContainer!==t||(e=o.startOffset,i=o.endOffset):document.selection&&document.selection.createRange&&(i=(e=0-(o=document.selection.createRange()).duplicate().moveStart("character",-t.inputmask._valueGet().length))+o.text.length),{begin:n?e:a.call(s,e),end:n?i:a.call(s,i)};if(Array.isArray(e)&&(i=s.isRTL?e[0]:e[1],e=s.isRTL?e[1]:e[0]),void 0!==e.begin&&(i=s.isRTL?e.begin:e.end,e=s.isRTL?e.end:e.begin),"number"==typeof e){e=n?e:a.call(s,e),i="number"==typeof(i=n?i:a.call(s,i))?i:e;var c=parseInt(((t.ownerDocument.defaultView||window).getComputedStyle?(t.ownerDocument.defaultView||window).getComputedStyle(t,null):t.currentStyle).fontSize)*i;if(t.scrollLeft=c>t.scrollWidth?c:0,t.inputmask.caretPos={begin:e,end:i},l.insertModeVisual&&!1===l.insertMode&&e===i&&(r||i++),t===(t.inputmask.shadowRoot||t.ownerDocument).activeElement)if("setSelectionRange"in t)t.setSelectionRange(e,i);else if(window.getSelection){if(o=document.createRange(),void 0===t.firstChild||null===t.firstChild){var u=document.createTextNode("");t.appendChild(u)}o.setStart(t.firstChild,e<t.inputmask._valueGet().length?e:t.inputmask._valueGet().length),o.setEnd(t.firstChild,i<t.inputmask._valueGet().length?i:t.inputmask._valueGet().length),o.collapse(!0);var d=window.getSelection();d.removeAllRanges(),d.addRange(o)}else t.createTextRange&&((o=t.createTextRange()).collapse(!0),o.moveEnd("character",i),o.moveStart("character",e),o.select())}},e.determineLastRequiredPosition=function(t){var e,i,n=this,o=this.maskset,s=this.dependencyLib,a=l.getMaskTemplate.call(n,!0,r.call(n),!0,!0),u=a.length,d=r.call(n),h={},p=o.validPositions[d],f=void 0!==p?p.locator.slice():void 0;for(e=d+1;e<a.length;e++)f=(i=l.getTestTemplate.call(n,e,f,e-1)).locator.slice(),h[e]=s.extend(!0,{},i);var g=p&&void 0!==p.alternation?p.locator[p.alternation]:void 0;for(e=u-1;e>d&&((i=h[e]).match.optionality||i.match.optionalQuantifier&&i.match.newBlockMarker||g&&(g!==h[e].locator[p.alternation]&&1!=i.match.static||!0===i.match.static&&i.locator[p.alternation]&&c.checkAlternationMatch.call(n,i.locator[p.alternation].toString().split(","),g.toString().split(","))&&""!==l.getTests.call(n,e)[0].def))&&a[e]===l.getPlaceholder.call(n,e,i.match);e--)u--;return t?{l:u,def:h[u]?h[u].match:void 0}:u},e.determineNewCaretPosition=function(t,e,i){var a=this,c=this.maskset,u=this.opts;if(e&&(a.isRTL?t.end=t.begin:t.begin=t.end),t.begin===t.end){switch(i=i||u.positionCaretOnClick){case"none":break;case"select":t={begin:0,end:n.call(a).length};break;case"ignore":t.end=t.begin=s.call(a,r.call(a));break;case"radixFocus":if(function(t){if(""!==u.radixPoint&&0!==u.digits){var e=c.validPositions;if(void 0===e[t]||e[t].input===l.getPlaceholder.call(a,t)){if(t<s.call(a,-1))return!0;var i=n.call(a).indexOf(u.radixPoint);if(-1!==i){for(var r in e)if(e[r]&&i<r&&e[r].input!==l.getPlaceholder.call(a,r))return!1;return!0}}}return!1}(t.begin)){var d=n.call(a).join("").indexOf(u.radixPoint);t.end=t.begin=u.numericInput?s.call(a,d):d;break}default:var h=t.begin,p=r.call(a,h,!0),f=s.call(a,-1!==p||o.call(a,0)?p:-1);if(h<=f)t.end=t.begin=o.call(a,h,!1,!0)?h:s.call(a,h);else{var g=c.validPositions[p],m=l.getTestTemplate.call(a,f,g?g.match.locator:void 0,g),v=l.getPlaceholder.call(a,f,m.match);if(""!==v&&n.call(a)[f]!==v&&!0!==m.match.optionalQuantifier&&!0!==m.match.newBlockMarker||!o.call(a,f,u.keepStatic,!0)&&m.match.def===v){var y=s.call(a,f);(h>=y||h===f)&&(f=y)}t.end=t.begin=f}}return t}},e.getBuffer=n,e.getBufferTemplate=function(){var t=this.maskset;return void 0===t._buffer&&(t._buffer=l.getMaskTemplate.call(this,!1,1),void 0===t.buffer&&(t.buffer=t._buffer.slice())),t._buffer},e.getLastValidPosition=r,e.isMask=o,e.resetMaskSet=function(t){var e=this.maskset;e.buffer=void 0,!0!==t&&(e.validPositions={},e.p=0)},e.seekNext=s,e.seekPrevious=function(t,e){var i=this,n=t-1;if(t<=0)return 0;for(;n>0&&(!0===e&&(!0!==l.getTest.call(i,n).match.newBlockMarker||!o.call(i,n,void 0,!0))||!0!==e&&!o.call(i,n,void 0,!0));)n--;return n},e.translatePosition=a;var l=i(4713),c=i(7215)},4713:function(t,e,i){function n(t,e){var i=(null!=t.alternation?t.mloc[r(t)]:t.locator).join("");if(""!==i)for(;i.length<e;)i+="0";return i}function r(t){var e=t.locator[t.alternation];return"string"==typeof e&&e.length>0&&(e=e.split(",")[0]),void 0!==e?e.toString():""}function o(t,e,i){var n=this.opts,r=this.maskset;if(void 0!==(e=e||l.call(this,t).match).placeholder||!0===i)return"function"==typeof e.placeholder?e.placeholder(n):e.placeholder;if(!0===e.static){if(t>-1&&void 0===r.validPositions[t]){var o,s=u.call(this,t),a=[];if(s.length>1+(""===s[s.length-1].match.def?1:0))for(var c=0;c<s.length;c++)if(""!==s[c].match.def&&!0!==s[c].match.optionality&&!0!==s[c].match.optionalQuantifier&&(!0===s[c].match.static||void 0===o||!1!==s[c].match.fn.test(o.match.def,r,t,!0,n))&&(a.push(s[c]),!0===s[c].match.static&&(o=s[c]),a.length>1&&/[0-9a-bA-Z]/.test(a[0].match.def)))return n.placeholder.charAt(t%n.placeholder.length)}return e.def}return n.placeholder.charAt(t%n.placeholder.length)}function s(t,e,i){return this.maskset.validPositions[t]||a.call(this,t,u.call(this,t,e?e.slice():e,i))}function a(t,e){var i,r,o,s,a=this.opts,c=(i=t,o=0,s=!1,(r=e).forEach((function(t){t.match.optionality&&(0!==o&&o!==t.match.optionality&&(s=!0),(0===o||o>t.match.optionality)&&(o=t.match.optionality))})),o&&(0==i||1==r.length?o=0:s||(o=0)),o);t=t>0?t-1:0;var u,d,h,p=n(l.call(this,t));a.greedy&&e.length>1&&""===e[e.length-1].match.def&&e.pop();for(var f=0;f<e.length;f++){var g=e[f];u=n(g,p.length);var m=Math.abs(u-p);(void 0===d||""!==u&&m<d||h&&!a.greedy&&h.match.optionality&&h.match.optionality-c>0&&"master"===h.match.newBlockMarker&&(!g.match.optionality||g.match.optionality-c<1||!g.match.newBlockMarker)||h&&!a.greedy&&h.match.optionalQuantifier&&!g.match.optionalQuantifier)&&(d=m,h=g)}return h}function l(t,e){var i=this.maskset;return i.validPositions[t]?i.validPositions[t]:(e||u.call(this,t))[0]}function c(t,e,i){function n(t){for(var e,i=[],n=-1,r=0,o=t.length;r<o;r++)if("-"===t.charAt(r))for(e=t.charCodeAt(r+1);++n<e;)i.push(String.fromCharCode(n));else n=t.charCodeAt(r),i.push(t.charAt(r));return i.join("")}return t.match.def===e.match.nativeDef||!(!(i.regex||t.match.fn instanceof RegExp&&e.match.fn instanceof RegExp)||!0===t.match.static||!0===e.match.static)&&-1!==n(e.match.fn.toString().replace(/[[\]/]/g,"")).indexOf(n(t.match.fn.toString().replace(/[[\]/]/g,"")))}function u(t,e,i){function n(e,i,o,s){function a(o,s,l){function u(t,e){var i=0===e.matches.indexOf(t);return i||e.matches.every((function(n,r){return!0===n.isQuantifier?i=u(t,e.matches[r-1]):Object.prototype.hasOwnProperty.call(n,"matches")&&(i=u(t,n)),!i})),i}function d(t,e,i){var n,r;if((g.tests[t]||g.validPositions[t])&&(g.tests[t]||[g.validPositions[t]]).every((function(t){if(t.mloc[e])return n=t,!1;var o=void 0!==i?i:t.alternation,s=void 0!==t.locator[o]?t.locator[o].toString().indexOf(e):-1;return(void 0===r||s<r)&&-1!==s&&(n=t,r=s),!0})),n){var o=n.locator[n.alternation];return(n.mloc[e]||n.mloc[o]||n.locator).slice((void 0!==i?i:n.alternation)+1)}return void 0!==i?d(t,e):void 0}function p(t,e){var i=t.alternation,n=void 0===e||i===e.alternation&&-1===t.locator[i].toString().indexOf(e.locator[i]);if(!n&&i>e.alternation)for(var r=e.alternation;r<i;r++)if(t.locator[r]!==e.locator[r]){i=r,n=!0;break}if(n){t.mloc=t.mloc||{};var o=t.locator[i];if(void 0!==o){if("string"==typeof o&&(o=o.split(",")[0]),void 0===t.mloc[o]&&(t.mloc[o]=t.locator.slice()),void 0!==e){for(var s in e.mloc)"string"==typeof s&&(s=s.split(",")[0]),void 0===t.mloc[s]&&(t.mloc[s]=e.mloc[s]);t.locator[i]=Object.keys(t.mloc).join(",")}return!0}t.alternation=void 0}return!1}function f(t,e){if(t.locator.length!==e.locator.length)return!1;for(var i=t.alternation+1;i<t.locator.length;i++)if(t.locator[i]!==e.locator[i])return!1;return!0}if(b>t+m._maxTestPos)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+g.mask;if(b===t&&void 0===o.matches){if(k.push({match:o,locator:s.reverse(),cd:x,mloc:{}}),!o.optionality||void 0!==l||!(m.definitions&&m.definitions[o.nativeDef]&&m.definitions[o.nativeDef].optional||h.default.prototype.definitions[o.nativeDef]&&h.default.prototype.definitions[o.nativeDef].optional))return!0;_=!0,b=t}else if(void 0!==o.matches){if(o.isGroup&&l!==o){if(o=a(e.matches[e.matches.indexOf(o)+1],s,l))return!0}else if(o.isOptional){var y=o,w=k.length;if(o=n(o,i,s,l)){if(k.forEach((function(t,e){e>=w&&(t.match.optionality=t.match.optionality?t.match.optionality+1:1)})),r=k[k.length-1].match,void 0!==l||!u(r,y))return!0;_=!0,b=t}}else if(o.isAlternator){var E,A=o,S=[],O=k.slice(),C=s.length,T=!1,D=i.length>0?i.shift():-1;if(-1===D||"string"==typeof D){var L,I=b,P=i.slice(),M=[];if("string"==typeof D)M=D.split(",");else for(L=0;L<A.matches.length;L++)M.push(L.toString());if(void 0!==g.excludes[t]){for(var j=M.slice(),R=0,F=g.excludes[t].length;R<F;R++){var B=g.excludes[t][R].toString().split(":");s.length==B[1]&&M.splice(M.indexOf(B[0]),1)}0===M.length&&(delete g.excludes[t],M=j)}(!0===m.keepStatic||isFinite(parseInt(m.keepStatic))&&I>=m.keepStatic)&&(M=M.slice(0,1));for(var N=0;N<M.length;N++){L=parseInt(M[N]),k=[],i="string"==typeof D&&d(b,L,C)||P.slice();var V=A.matches[L];if(V&&a(V,[L].concat(s),l))o=!0;else if(0===N&&(T=!0),V&&V.matches&&V.matches.length>A.matches[0].matches.length)break;E=k.slice(),b=I,k=[];for(var H=0;H<E.length;H++){var z=E[H],q=!1;z.match.jit=z.match.jit||T,z.alternation=z.alternation||C,p(z);for(var W=0;W<S.length;W++){var U=S[W];if("string"!=typeof D||void 0!==z.alternation&&M.includes(z.locator[z.alternation].toString())){if(z.match.nativeDef===U.match.nativeDef){q=!0,p(U,z);break}if(c(z,U,m)){p(z,U)&&(q=!0,S.splice(S.indexOf(U),0,z));break}if(c(U,z,m)){p(U,z);break}if(G=U,!0===(Y=z).match.static&&!0!==G.match.static&&G.match.fn.test(Y.match.def,g,t,!1,m,!1)){f(z,U)||void 0!==v.inputmask.userOptions.keepStatic?p(z,U)&&(q=!0,S.splice(S.indexOf(U),0,z)):m.keepStatic=!0;break}}}q||S.push(z)}}k=O.concat(S),b=t,_=k.length>0,o=S.length>0,i=P.slice()}else o=a(A.matches[D]||e.matches[D],[D].concat(s),l);if(o)return!0}else if(o.isQuantifier&&l!==e.matches[e.matches.indexOf(o)-1])for(var K=o,$=i.length>0?i.shift():0;$<(isNaN(K.quantifier.max)?$+1:K.quantifier.max)&&b<=t;$++){var J=e.matches[e.matches.indexOf(K)-1];if(o=a(J,[$].concat(s),J)){if((r=k[k.length-1].match).optionalQuantifier=$>=K.quantifier.min,r.jit=($+1)*(J.matches.indexOf(r)+1)>K.quantifier.jit,r.optionalQuantifier&&u(r,J)){_=!0,b=t;break}return r.jit&&(g.jitOffset[t]=J.matches.length-J.matches.indexOf(r)),!0}}else if(o=n(o,i,s,l))return!0}else b++;var Y,G}for(var l=i.length>0?i.shift():0;l<e.matches.length;l++)if(!0!==e.matches[l].isQuantifier){var u=a(e.matches[l],[l].concat(o),s);if(u&&b===t)return u;if(b>t)break}}var r,o,s,l,u,d,p=this,f=this.dependencyLib,g=this.maskset,m=this.opts,v=this.el,y=g.maskToken,b=e?i:0,w=e?e.slice():[0],k=[],_=!1,x=e?e.join(""):"";if(t>-1){if(void 0===e){for(var E,A=t-1;void 0===(E=g.validPositions[A]||g.tests[A])&&A>-1;)A--;void 0!==E&&A>-1&&(s=A,l=E,d=[],Array.isArray(l)||(l=[l]),l.length>0&&(void 0===l[0].alternation||!0===m.keepStatic?0===(d=a.call(p,s,l.slice()).locator.slice()).length&&(d=l[0].locator.slice()):l.forEach((function(t){""!==t.def&&(0===d.length?(u=t.alternation,d=t.locator.slice()):t.locator[u]&&-1===d[u].toString().indexOf(t.locator[u])&&(d[u]+=","+t.locator[u]))}))),x=(w=d).join(""),b=A)}if(g.tests[t]&&g.tests[t][0].cd===x)return g.tests[t];for(var S=w.shift();S<y.length&&!(n(y[S],w,[S])&&b===t||b>t);S++);}return(0===k.length||_)&&k.push({match:{fn:null,static:!0,optionality:!1,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:x}),void 0!==e&&g.tests[t]?o=f.extend(!0,[],k):(g.tests[t]=f.extend(!0,[],k),o=g.tests[t]),k.forEach((function(t){t.match.optionality=!1})),o}Object.defineProperty(e,"__esModule",{value:!0}),e.determineTestTemplate=a,e.getDecisionTaker=r,e.getMaskTemplate=function(t,e,i,n,r){var l=this,c=this.opts,d=this.maskset,h=c.greedy;r&&c.greedy&&(c.greedy=!1,l.maskset.tests={}),e=e||0;var p,f,g,m,v=[],y=0;do{if(!0===t&&d.validPositions[y])f=(g=r&&d.validPositions[y].match.optionality&&void 0===d.validPositions[y+1]&&(!0===d.validPositions[y].generatedInput||d.validPositions[y].input==c.skipOptionalPartCharacter&&y>0)?a.call(l,y,u.call(l,y,p,y-1)):d.validPositions[y]).match,p=g.locator.slice(),v.push(!0===i?g.input:!1===i?f.nativeDef:o.call(l,y,f));else{f=(g=s.call(l,y,p,y-1)).match,p=g.locator.slice();var b=!0!==n&&(!1!==c.jitMasking?c.jitMasking:f.jit);(m=(m&&f.static&&f.def!==c.groupSeparator&&null===f.fn||d.validPositions[y-1]&&f.static&&f.def!==c.groupSeparator&&null===f.fn)&&d.tests[y]&&1===d.tests[y].length)||!1===b||void 0===b||"number"==typeof b&&isFinite(b)&&b>y?v.push(!1===i?f.nativeDef:o.call(l,y,f)):m=!1}y++}while(!0!==f.static||""!==f.def||e>y);return""===v[v.length-1]&&v.pop(),!1===i&&void 0!==d.maskLength||(d.maskLength=y-1),c.greedy=h,v},e.getPlaceholder=o,e.getTest=l,e.getTestTemplate=s,e.getTests=u,e.isSubsetOf=c;var d,h=(d=i(2394))&&d.__esModule?d:{default:d}},7215:function(t,e,i){function n(t,e,i,r,o,s){var l,c,u,d,h,f,m,v,y,b,w,k=this,_=this.dependencyLib,x=this.opts,E=k.maskset,A=_.extend(!0,{},E.validPositions),S=_.extend(!0,{},E.tests),O=!1,C=!1,T=void 0!==o?o:g.getLastValidPosition.call(k);if(s&&(b=s.begin,w=s.end,s.begin>s.end&&(b=s.end,w=s.begin)),-1===T&&void 0===o)l=0,
c=(d=p.getTest.call(k,l)).alternation;else for(;T>=0;T--)if((u=E.validPositions[T])&&void 0!==u.alternation){if(d&&d.locator[u.alternation]!==u.locator[u.alternation])break;l=T,c=E.validPositions[l].alternation,d=u}if(void 0!==c){m=parseInt(l),E.excludes[m]=E.excludes[m]||[],!0!==t&&E.excludes[m].push((0,p.getDecisionTaker)(d)+":"+d.alternation);var D=[],L=-1;for(h=m;h<g.getLastValidPosition.call(k,void 0,!0)+1;h++)-1===L&&t<=h&&void 0!==e&&(D.push(e),L=D.length-1),(f=E.validPositions[h])&&!0!==f.generatedInput&&(void 0===s||h<b||h>=w)&&D.push(f.input),delete E.validPositions[h];for(-1===L&&void 0!==e&&(D.push(e),L=D.length-1);void 0!==E.excludes[m]&&E.excludes[m].length<10;){for(E.tests={},g.resetMaskSet.call(k,!0),O=!0,h=0;h<D.length&&(v=O.caret||g.getLastValidPosition.call(k,void 0,!0)+1,y=D[h],O=a.call(k,v,y,!1,r,!0));h++)h===L&&(C=O),1==t&&O&&(C={caretPos:h});if(O)break;if(g.resetMaskSet.call(k),d=p.getTest.call(k,m),E.validPositions=_.extend(!0,{},A),E.tests=_.extend(!0,{},S),!E.excludes[m]){C=n.call(k,t,e,i,r,m-1,s);break}var I=(0,p.getDecisionTaker)(d);if(-1!==E.excludes[m].indexOf(I+":"+d.alternation)){C=n.call(k,t,e,i,r,m-1,s);break}for(E.excludes[m].push(I+":"+d.alternation),h=m;h<g.getLastValidPosition.call(k,void 0,!0)+1;h++)delete E.validPositions[h]}}return C&&!1===x.keepStatic||delete E.excludes[m],C}function r(t,e,i){var n=this.opts,r=this.maskset;switch(n.casing||e.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase();break;case"title":var o=r.validPositions[i-1];t=0===i||o&&o.input===String.fromCharCode(f.default.SPACE)?t.toUpperCase():t.toLowerCase();break;default:if("function"==typeof n.casing){var s=Array.prototype.slice.call(arguments);s.push(r.validPositions),t=n.casing.apply(this,s)}}return t}function o(t){var e=this,i=this.opts,n=this.maskset;if("function"==typeof i.isComplete)return i.isComplete(t,i);if("*"!==i.repeat){var r=!1,o=g.determineLastRequiredPosition.call(e,!0),s=g.seekPrevious.call(e,o.l);if(void 0===o.def||o.def.newBlockMarker||o.def.optionality||o.def.optionalQuantifier){r=!0;for(var a=0;a<=s;a++){var l=p.getTestTemplate.call(e,a).match;if(!0!==l.static&&void 0===n.validPositions[a]&&!0!==l.optionality&&!0!==l.optionalQuantifier||!0===l.static&&t[a]!==p.getPlaceholder.call(e,a,l)){r=!1;break}}}return r}}function s(t){var e=this.opts.insertMode?0:1;return this.isRTL?t.begin-t.end>e:t.end-t.begin>e}function a(t,e,i,l,h,f,m){function v(t){if(void 0!==t){if(void 0!==t.remove&&(Array.isArray(t.remove)||(t.remove=[t.remove]),t.remove.sort((function(t,e){return e.pos-t.pos})).forEach((function(t){d.call(b,{begin:t,end:t+1})})),t.remove=void 0),void 0!==t.insert&&(Array.isArray(t.insert)||(t.insert=[t.insert]),t.insert.sort((function(t,e){return t.pos-e.pos})).forEach((function(t){""!==t.c&&a.call(b,t.pos,t.c,void 0===t.strict||t.strict,void 0!==t.fromIsValid?t.fromIsValid:l)})),t.insert=void 0),t.refreshFromBuffer&&t.buffer){var e=t.refreshFromBuffer;c.call(b,!0===e?e:e.start,e.end,t.buffer),t.refreshFromBuffer=void 0}void 0!==t.rewritePosition&&(x=t.rewritePosition,t=!0)}return t}function y(e,i,n){var o=!1;return p.getTests.call(b,e).every((function(a){var c=a.match;if(g.getBuffer.call(b,!0),!1!==(o=(!c.jit||void 0!==_.validPositions[g.seekPrevious.call(b,e)])&&(null!=c.fn?c.fn.test(i,_,e,n,k,s.call(b,t)):(i===c.def||i===k.skipOptionalPartCharacter)&&""!==c.def&&{c:p.getPlaceholder.call(b,e,c,!0)||c.def,pos:e}))){var u=void 0!==o.c?o.c:i,h=e;return u=u===k.skipOptionalPartCharacter&&!0===c.static?p.getPlaceholder.call(b,e,c,!0)||c.def:u,!0!==(o=v(o))&&void 0!==o.pos&&o.pos!==e&&(h=o.pos),!0!==o&&void 0===o.pos&&void 0===o.c||!1===d.call(b,t,w.extend({},a,{input:r.call(b,u,c,h)}),l,h)&&(o=!1),!1}return!0})),o}var b=this,w=this.dependencyLib,k=this.opts,_=b.maskset;i=!0===i;var x=t;void 0!==t.begin&&(x=b.isRTL?t.end:t.begin);var E=!0,A=w.extend(!0,{},_.validPositions);if(!1===k.keepStatic&&void 0!==_.excludes[x]&&!0!==h&&!0!==l)for(var S=x;S<(b.isRTL?t.begin:t.end);S++)void 0!==_.excludes[S]&&(_.excludes[S]=void 0,delete _.tests[S]);if("function"==typeof k.preValidation&&!0!==l&&!0!==f&&(E=v(E=k.preValidation.call(b,g.getBuffer.call(b),x,e,s.call(b,t),k,_,t,i||h))),!0===E){if(E=y(x,e,i),(!i||!0===l)&&!1===E&&!0!==f){var O=_.validPositions[x];if(!O||!0!==O.match.static||O.match.def!==e&&e!==k.skipOptionalPartCharacter){if(k.insertMode||void 0===_.validPositions[g.seekNext.call(b,x)]||t.end>x){var C=!1;if(_.jitOffset[x]&&void 0===_.validPositions[g.seekNext.call(b,x)]&&!1!==(E=a.call(b,x+_.jitOffset[x],e,!0,!0))&&(!0!==h&&(E.caret=x),C=!0),t.end>x&&(_.validPositions[x]=void 0),!C&&!g.isMask.call(b,x,k.keepStatic&&0===x))for(var T=x+1,D=g.seekNext.call(b,x,!1,0!==x);T<=D;T++)if(!1!==(E=y(T,e,i))){E=u.call(b,x,void 0!==E.pos?E.pos:T)||E,x=T;break}}}else E={caret:g.seekNext.call(b,x)}}!1!==E||!k.keepStatic||!o.call(b,g.getBuffer.call(b))&&0!==x||i||!0===h?s.call(b,t)&&_.tests[x]&&_.tests[x].length>1&&k.keepStatic&&!i&&!0!==h&&(E=n.call(b,!0)):E=n.call(b,x,e,i,l,void 0,t),!0===E&&(E={pos:x})}if("function"==typeof k.postValidation&&!0!==l&&!0!==f){var L=k.postValidation.call(b,g.getBuffer.call(b,!0),void 0!==t.begin?b.isRTL?t.end:t.begin:t,e,E,k,_,i,m);void 0!==L&&(E=!0===L?E:L)}E&&void 0===E.pos&&(E.pos=x),!1===E||!0===f?(g.resetMaskSet.call(b,!0),_.validPositions=w.extend(!0,{},A)):u.call(b,void 0,x,!0);var I=v(E);return void 0!==b.maxLength&&g.getBuffer.call(b).length>b.maxLength&&!l&&(g.resetMaskSet.call(b,!0),_.validPositions=w.extend(!0,{},A),I=!1),I}function l(t,e,i){for(var n=this.maskset,r=!1,o=p.getTests.call(this,t),s=0;s<o.length;s++){if(o[s].match&&(o[s].match.nativeDef===e.match[i.shiftPositions?"def":"nativeDef"]&&(!i.shiftPositions||!e.match.static)||o[s].match.nativeDef===e.match.nativeDef||i.regex&&!o[s].match.static&&o[s].match.fn.test(e.input))){r=!0;break}if(o[s].match&&o[s].match.def===e.match.nativeDef){r=void 0;break}}return!1===r&&void 0!==n.jitOffset[t]&&(r=l.call(this,t+n.jitOffset[t],e,i)),r}function c(t,e,i){var n,r,o=this,s=this.maskset,a=this.opts,l=this.dependencyLib,c=a.skipOptionalPartCharacter,u=o.isRTL?i.slice().reverse():i;if(a.skipOptionalPartCharacter="",!0===t)g.resetMaskSet.call(o),s.tests={},t=0,e=i.length,r=g.determineNewCaretPosition.call(o,{begin:0,end:0},!1).begin;else{for(n=t;n<e;n++)delete s.validPositions[n];r=t}var d=new l.Event("keypress");for(n=t;n<e;n++){d.keyCode=u[n].toString().charCodeAt(0),o.ignorable=!1;var h=m.EventHandlers.keypressEvent.call(o,d,!0,!1,!1,r);!1!==h&&void 0!==h&&(r=h.forwardPosition)}a.skipOptionalPartCharacter=c}function u(t,e,i){var n=this,r=this.maskset,o=this.dependencyLib;if(void 0===t)for(t=e-1;t>0&&!r.validPositions[t];t--);for(var s=t;s<e;s++)if(void 0===r.validPositions[s]&&!g.isMask.call(n,s,!1)&&(0==s?p.getTest.call(n,s):r.validPositions[s-1])){var l=p.getTests.call(n,s).slice();""===l[l.length-1].match.def&&l.pop();var c,u=p.determineTestTemplate.call(n,s,l);if(u&&(!0!==u.match.jit||"master"===u.match.newBlockMarker&&(c=r.validPositions[s+1])&&!0===c.match.optionalQuantifier)&&((u=o.extend({},u,{input:p.getPlaceholder.call(n,s,u.match,!0)||u.match.def})).generatedInput=!0,d.call(n,s,u,!0),!0!==i)){var h=r.validPositions[e].input;return r.validPositions[e]=void 0,a.call(n,e,h,!0,!0)}}}function d(t,e,i,n){function r(t,e,i){var n=e[t];if(void 0!==n&&!0===n.match.static&&!0!==n.match.optionality&&(void 0===e[0]||void 0===e[0].alternation)){var r=i.begin<=t-1?e[t-1]&&!0===e[t-1].match.static&&e[t-1]:e[t-1],o=i.end>t+1?e[t+1]&&!0===e[t+1].match.static&&e[t+1]:e[t+1];return r&&o}return!1}var o=this,s=this.maskset,c=this.opts,u=this.dependencyLib,d=0,h=void 0!==t.begin?t.begin:t,f=void 0!==t.end?t.end:t,m=!0;if(t.begin>t.end&&(h=t.end,f=t.begin),n=void 0!==n?n:h,h!==f||c.insertMode&&void 0!==s.validPositions[n]&&void 0===i||void 0===e||e.match.optionalQuantifier||e.match.optionality){var v,y=u.extend(!0,{},s.validPositions),b=g.getLastValidPosition.call(o,void 0,!0);for(s.p=h,v=b;v>=h;v--)delete s.validPositions[v],void 0===e&&delete s.tests[v+1];var w,k,_=n,x=_;for(e&&(s.validPositions[n]=u.extend(!0,{},e),x++,_++),v=e?f:f-1;v<=b;v++){if(void 0!==(w=y[v])&&!0!==w.generatedInput&&(v>=f||v>=h&&r(v,y,{begin:h,end:f}))){for(;""!==p.getTest.call(o,x).match.def;){if(!1!==(k=l.call(o,x,w,c))||"+"===w.match.def){"+"===w.match.def&&g.getBuffer.call(o,!0);var E=a.call(o,x,w.input,"+"!==w.match.def,!0);if(m=!1!==E,_=(E.pos||x)+1,!m&&k)break}else m=!1;if(m){void 0===e&&w.match.static&&v===t.begin&&d++;break}if(!m&&g.getBuffer.call(o),x>s.maskLength)break;x++}""==p.getTest.call(o,x).match.def&&(m=!1),x=_}if(!m)break}if(!m)return s.validPositions=u.extend(!0,{},y),g.resetMaskSet.call(o,!0),!1}else e&&p.getTest.call(o,n).match.cd===e.match.cd&&(s.validPositions[n]=u.extend(!0,{},e));return g.resetMaskSet.call(o,!0),d}Object.defineProperty(e,"__esModule",{value:!0}),e.alternate=n,e.checkAlternationMatch=function(t,e,i){for(var n,r=this.opts.greedy?e:e.slice(0,1),o=!1,s=void 0!==i?i.split(","):[],a=0;a<s.length;a++)-1!==(n=t.indexOf(s[a]))&&t.splice(n,1);for(var l=0;l<t.length;l++)if(r.includes(t[l])){o=!0;break}return o},e.handleRemove=function(t,e,i,r){var o=this,s=this.maskset,a=this.opts;if((a.numericInput||o.isRTL)&&(e===f.default.BACKSPACE?e=f.default.DELETE:e===f.default.DELETE&&(e=f.default.BACKSPACE),o.isRTL)){var l=i.end;i.end=i.begin,i.begin=l}var c,u=g.getLastValidPosition.call(o,void 0,!0);if(i.end>=g.getBuffer.call(o).length&&u>=i.end&&(i.end=u+1),e===f.default.BACKSPACE?i.end-i.begin<1&&(i.begin=g.seekPrevious.call(o,i.begin)):e===f.default.DELETE&&i.begin===i.end&&(i.end=g.isMask.call(o,i.end,!0,!0)?i.end+1:g.seekNext.call(o,i.end)+1),!1!==(c=d.call(o,i))){if(!0!==r&&!1!==a.keepStatic||null!==a.regex&&-1!==p.getTest.call(o,i.begin).match.def.indexOf("|")){var h=n.call(o,!0);if(h){var m=void 0!==h.caret?h.caret:h.pos?g.seekNext.call(o,h.pos.begin?h.pos.begin:h.pos):g.getLastValidPosition.call(o,-1,!0);(e!==f.default.DELETE||i.begin>m)&&i.begin}}!0!==r&&(s.p=e===f.default.DELETE?i.begin+c:i.begin,s.p=g.determineNewCaretPosition.call(o,{begin:s.p,end:s.p},!1,!1===a.insertMode&&e===f.default.BACKSPACE?"none":void 0).begin)}},e.isComplete=o,e.isSelection=s,e.isValid=a,e.refreshFromBuffer=c,e.revalidateMask=d;var h,p=i(4713),f=(h=i(5581))&&h.__esModule?h:{default:h},g=i(8711),m=i(6030)},5581:function(t){t.exports=JSON.parse('{"BACKSPACE":8,"BACKSPACE_SAFARI":127,"DELETE":46,"DOWN":40,"END":35,"ENTER":13,"ESCAPE":27,"HOME":36,"INSERT":45,"LEFT":37,"PAGE_DOWN":34,"PAGE_UP":33,"RIGHT":39,"SPACE":32,"TAB":9,"UP":38,"X":88,"Z":90,"CONTROL":17,"PAUSE/BREAK":19,"WINDOWS_LEFT":91,"WINDOWS_RIGHT":92,"KEY_229":229}')}},i={},n={};return function(){var e,i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,t(3851),t(219),t(207),t(5296);var r=((e=t(2394))&&e.__esModule?e:{default:e}).default;i.default=r}(),n}()}))}}),Ad=ka({"node_modules/flowbite/dist/flowbite.turbo.js"(t,e){var i,n;i=self,n=function(){return function(){"use strict";function t(n){var r=i[n];if(void 0!==r)return r.exports;var o=i[n]={exports:{}};return e[n].call(o.exports,o,o.exports,t),o.exports}var e={853:function(t,e,i){function n(t){return t?(t.nodeName||"").toLowerCase():null}function r(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function o(t){return t instanceof r(t).Element||t instanceof Element}function s(t){return t instanceof r(t).HTMLElement||t instanceof HTMLElement}function a(t){return"undefined"!=typeof ShadowRoot&&(t instanceof r(t).ShadowRoot||t instanceof ShadowRoot)}function l(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},o=e.elements[t];s(o)&&n(o)&&(Object.assign(o.style,i),Object.keys(r).forEach((function(t){var e=r[t];!1===e?o.removeAttribute(t):o.setAttribute(t,!0===e?"":e)})))}))}function c(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach((function(t){var r=e.elements[t],o=e.attributes[t]||{},a=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:i[t]).reduce((function(t,e){return t[e]="",t}),{});s(r)&&n(r)&&(Object.assign(r.style,a),Object.keys(o).forEach((function(t){r.removeAttribute(t)})))}))}}function u(t){return t.split("-")[0]}function d(){var t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function h(){return!/^((?!chrome|android).)*safari/i.test(d())}function p(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var n=t.getBoundingClientRect(),a=1,l=1;e&&s(t)&&(a=t.offsetWidth>0&&Kt(n.width)/t.offsetWidth||1,l=t.offsetHeight>0&&Kt(n.height)/t.offsetHeight||1);var c=(o(t)?r(t):window).visualViewport,u=!h()&&i,d=(n.left+(u&&c?c.offsetLeft:0))/a,p=(n.top+(u&&c?c.offsetTop:0))/l,f=n.width/a,g=n.height/l;return{width:f,height:g,top:p,right:d+f,bottom:p+g,left:d,x:d,y:p}}function f(t){var e=p(t),i=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function g(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&a(i)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function m(t){return r(t).getComputedStyle(t)}function v(t){return["table","td","th"].indexOf(n(t))>=0}function y(t){return((o(t)?t.ownerDocument:t.document)||window.document).documentElement}function b(t){return"html"===n(t)?t:t.assignedSlot||t.parentNode||(a(t)?t.host:null)||y(t)}function w(t){return s(t)&&"fixed"!==m(t).position?t.offsetParent:null}function k(t){var e=/firefox/i.test(d());if(/Trident/i.test(d())&&s(t)&&"fixed"===m(t).position)return null;var i=b(t);for(a(i)&&(i=i.host);s(i)&&["html","body"].indexOf(n(i))<0;){var r=m(i);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||e&&"filter"===r.willChange||e&&r.filter&&"none"!==r.filter)return i;i=i.parentNode}return null}function _(t){for(var e=r(t),i=w(t);i&&v(i)&&"static"===m(i).position;)i=w(i);return i&&("html"===n(i)||"body"===n(i)&&"static"===m(i).position)?e:i||k(t)||e}function x(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function E(t,e,i){return Wt(t,Ut(e,i))}function A(t,e,i){var n=E(t,e,i);return n>i?i:n}function S(){return{top:0,right:0,bottom:0,left:0}}function O(t){return Object.assign({},S(),t)}function C(t,e){return e.reduce((function(e,i){return e[i]=t,e}),{})}function T(t){var e,i=t.state,n=t.name,r=t.options,o=i.elements.arrow,s=i.modifiersData.popperOffsets,a=u(i.placement),l=x(a),c=[_t,kt].indexOf(a)>=0?"height":"width";if(o&&s){var d=$t(r.padding,i),h=f(o),p="y"===l?bt:_t,g="y"===l?wt:kt,m=i.rects.reference[c]+i.rects.reference[l]-s[l]-i.rects.popper[c],v=s[l]-i.rects.reference[l],y=_(o),b=y?"y"===l?y.clientHeight||0:y.clientWidth||0:0,w=m/2-v/2,k=d[p],A=b-h[c]-d[g],S=b/2-h[c]/2+w,O=E(k,S,A),C=l;i.modifiersData[n]=((e={})[C]=O,e.centerOffset=O-S,e)}}function D(t){var e=t.state,i=t.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=e.elements.popper.querySelector(n)))&&g(e.elements.popper,n)&&(e.elements.arrow=n)}function L(t){return t.split("-")[1]}function I(t){var e=t.x,i=t.y,n=window.devicePixelRatio||1;return{x:Kt(e*n)/n||0,y:Kt(i*n)/n||0}}function P(t){var e,i=t.popper,n=t.popperRect,o=t.placement,s=t.variation,a=t.offsets,l=t.position,c=t.gpuAcceleration,u=t.adaptive,d=t.roundOffsets,h=t.isFixed,p=a.x,f=void 0===p?0:p,g=a.y,v=void 0===g?0:g,b="function"==typeof d?d({x:f,y:v}):{x:f,y:v};f=b.x,v=b.y;var w=a.hasOwnProperty("x"),k=a.hasOwnProperty("y"),x=_t,E=bt,A=window;if(u){var S=_(i),O="clientHeight",C="clientWidth";S===r(i)&&"static"!==m(S=y(i)).position&&"absolute"===l&&(O="scrollHeight",C="scrollWidth"),(o===bt||(o===_t||o===kt)&&s===St)&&(E=wt,v-=(h&&S===A&&A.visualViewport?A.visualViewport.height:S[O])-n.height,v*=c?1:-1),o!==_t&&(o!==bt&&o!==wt||s!==St)||(x=kt,f-=(h&&S===A&&A.visualViewport?A.visualViewport.width:S[C])-n.width,f*=c?1:-1)}var T,D=Object.assign({position:l},u&&Yt),L=!0===d?I({x:f,y:v}):{x:f,y:v};return f=L.x,v=L.y,c?Object.assign({},D,((T={})[E]=k?"0":"",T[x]=w?"0":"",T.transform=(A.devicePixelRatio||1)<=1?"translate("+f+"px, "+v+"px)":"translate3d("+f+"px, "+v+"px, 0)",T)):Object.assign({},D,((e={})[E]=k?v+"px":"",e[x]=w?f+"px":"",e.transform="",e))}function M(t){var e=t.state,i=t.options,n=i.gpuAcceleration,r=void 0===n||n,o=i.adaptive,s=void 0===o||o,a=i.roundOffsets,l=void 0===a||a,c={placement:u(e.placement),variation:L(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,P(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,P(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}function j(t){var e=t.state,i=t.instance,n=t.options,o=n.scroll,s=void 0===o||o,a=n.resize,l=void 0===a||a,c=r(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach((function(t){t.addEventListener("scroll",i.update,Qt)})),l&&c.addEventListener("resize",i.update,Qt),function(){s&&u.forEach((function(t){t.removeEventListener("scroll",i.update,Qt)})),l&&c.removeEventListener("resize",i.update,Qt)}}function R(t){return t.replace(/left|right|bottom|top/g,(function(t){return Zt[t]}))}function F(t){return t.replace(/start|end/g,(function(t){return te[t]}))}function B(t){var e=r(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function N(t){return p(y(t)).left+B(t).scrollLeft}function V(t,e){var i=r(t),n=y(t),o=i.visualViewport,s=n.clientWidth,a=n.clientHeight,l=0,c=0;if(o){s=o.width,a=o.height;var u=h();(u||!u&&"fixed"===e)&&(l=o.offsetLeft,c=o.offsetTop)}return{width:s,height:a,x:l+N(t),y:c}}function H(t){var e,i=y(t),n=B(t),r=null==(e=t.ownerDocument)?void 0:e.body,o=Wt(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=Wt(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-n.scrollLeft+N(t),l=-n.scrollTop;return"rtl"===m(r||i).direction&&(a+=Wt(i.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function z(t){var e=m(t),i=e.overflow,n=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+n)}function q(t){return["html","body","#document"].indexOf(n(t))>=0?t.ownerDocument.body:s(t)&&z(t)?t:q(b(t))}function W(t,e){var i;void 0===e&&(e=[]);var n=q(t),o=n===(null==(i=t.ownerDocument)?void 0:i.body),s=r(n),a=o?[s].concat(s.visualViewport||[],z(n)?n:[]):n,l=e.concat(a);return o?l:l.concat(W(b(a)))}function U(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function K(t,e){var i=p(t,!1,"fixed"===e);return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}function $(t,e,i){return e===Ct?U(V(t,i)):o(e)?K(e,i):U(H(y(t)))}function J(t){var e=W(b(t)),i=["absolute","fixed"].indexOf(m(t).position)>=0&&s(t)?_(t):t;return o(i)?e.filter((function(t){return o(t)&&g(t,i)&&"body"!==n(t)})):[]}function Y(t,e,i,n){var r="clippingParents"===e?J(t):[].concat(e),o=[].concat(r,[i]),s=o[0],a=o.reduce((function(e,i){var r=$(t,i,n);return e.top=Wt(r.top,e.top),e.right=Ut(r.right,e.right),e.bottom=Ut(r.bottom,e.bottom),e.left=Wt(r.left,e.left),e}),$(t,s,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function G(t){var e,i=t.reference,n=t.element,r=t.placement,o=r?u(r):null,s=r?L(r):null,a=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(o){case bt:e={x:a,y:i.y-n.height};break;case wt:e={x:a,y:i.y+i.height};break;case kt:e={x:i.x+i.width,y:l};break;case _t:e={x:i.x-n.width,y:l};break;default:e={x:i.x,y:i.y}}var c=o?x(o):null;if(null!=c){var d="y"===c?"height":"width";switch(s){case At:e[c]=e[c]-(i[d]/2-n[d]/2);break;case St:e[c]=e[c]+(i[d]/2-n[d]/2)}}return e}function Q(t,e){void 0===e&&(e={});var i=e,n=i.placement,r=void 0===n?t.placement:n,s=i.strategy,a=void 0===s?t.strategy:s,l=i.boundary,c=void 0===l?Ot:l,u=i.rootBoundary,d=void 0===u?Ct:u,h=i.elementContext,f=void 0===h?Tt:h,g=i.altBoundary,m=void 0!==g&&g,v=i.padding,b=void 0===v?0:v,w=O("number"!=typeof b?b:C(b,Et)),k=f===Tt?Dt:Tt,_=t.rects.popper,x=t.elements[m?k:f],E=Y(o(x)?x:x.contextElement||y(t.elements.popper),c,d,a),A=p(t.elements.reference),S=G({reference:A,element:_,strategy:"absolute",placement:r}),T=U(Object.assign({},_,S)),D=f===Tt?T:A,L={top:E.top-D.top+w.top,bottom:D.bottom-E.bottom+w.bottom,left:E.left-D.left+w.left,right:D.right-E.right+w.right},I=t.modifiersData.offset;if(f===Tt&&I){var P=I[r];Object.keys(L).forEach((function(t){var e=[kt,wt].indexOf(t)>=0?1:-1,i=[bt,wt].indexOf(t)>=0?"y":"x";L[t]+=P[i]*e}))}return L}function X(t,e){void 0===e&&(e={});var i=e,n=i.placement,r=i.boundary,o=i.rootBoundary,s=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=void 0===l?It:l,d=L(n),h=d?a?Lt:Lt.filter((function(t){return L(t)===d})):Et,p=h.filter((function(t){return c.indexOf(t)>=0}));0===p.length&&(p=h);var f=p.reduce((function(e,i){return e[i]=Q(t,{placement:i,boundary:r,rootBoundary:o,padding:s})[u(i)],e}),{});return Object.keys(f).sort((function(t,e){return f[t]-f[e]}))}function Z(t){if(u(t)===xt)return[];var e=R(t);return[F(t),e,F(e)]}function tt(t){var e=t.state,i=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var r=i.mainAxis,o=void 0===r||r,s=i.altAxis,a=void 0===s||s,l=i.fallbackPlacements,c=i.padding,d=i.boundary,h=i.rootBoundary,p=i.altBoundary,f=i.flipVariations,g=void 0===f||f,m=i.allowedAutoPlacements,v=e.options.placement,y=u(v),b=l||(y!==v&&g?Z(v):[R(v)]),w=[v].concat(b).reduce((function(t,i){return t.concat(u(i)===xt?X(e,{placement:i,boundary:d,rootBoundary:h,padding:c,flipVariations:g,allowedAutoPlacements:m}):i)}),[]),k=e.rects.reference,_=e.rects.popper,x=new Map,E=!0,A=w[0],S=0;S<w.length;S++){var O=w[S],C=u(O),T=L(O)===At,D=[bt,wt].indexOf(C)>=0,I=D?"width":"height",P=Q(e,{placement:O,boundary:d,rootBoundary:h,altBoundary:p,padding:c}),M=D?T?kt:_t:T?wt:bt;k[I]>_[I]&&(M=R(M));var j=R(M),F=[];if(o&&F.push(P[C]<=0),a&&F.push(P[M]<=0,P[j]<=0),F.every((function(t){return t}))){A=O,E=!1;break}x.set(O,F)}if(E)for(var B=function(t){var e=w.find((function(e){var i=x.get(e);if(i)return i.slice(0,t).every((function(t){return t}))}));if(e)return A=e,"break"},N=g?3:1;N>0&&"break"!==B(N);N--);e.placement!==A&&(e.modifiersData[n]._skip=!0,e.placement=A,e.reset=!0)}}function et(t,e,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function it(t){return[bt,kt,wt,_t].some((function(e){return t[e]>=0}))}function nt(t){var e=t.state,i=t.name,n=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,s=Q(e,{elementContext:"reference"}),a=Q(e,{altBoundary:!0}),l=et(s,n),c=et(a,r,o),u=it(l),d=it(c);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}function rt(t,e,i){var n=u(t),r=[_t,bt].indexOf(n)>=0?-1:1,o="function"==typeof i?i(Object.assign({},e,{placement:t})):i,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[_t,kt].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}function ot(t){var e=t.state,i=t.options,n=t.name,r=i.offset,o=void 0===r?[0,0]:r,s=It.reduce((function(t,i){return t[i]=rt(i,e.rects,o),t}),{}),a=s[e.placement],l=a.x,c=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=s}function st(t){var e=t.state,i=t.name;e.modifiersData[i]=G({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}function at(t){return"x"===t?"y":"x"}function lt(t){var e=t.state,i=t.options,n=t.name,r=i.mainAxis,o=void 0===r||r,s=i.altAxis,a=void 0!==s&&s,l=i.boundary,c=i.rootBoundary,d=i.altBoundary,h=i.padding,p=i.tether,g=void 0===p||p,m=i.tetherOffset,v=void 0===m?0:m,y=Q(e,{boundary:l,rootBoundary:c,padding:h,altBoundary:d}),b=u(e.placement),w=L(e.placement),k=!w,O=x(b),C=at(O),T=e.modifiersData.popperOffsets,D=e.rects.reference,I=e.rects.popper,P="function"==typeof v?v(Object.assign({},e.rects,{placement:e.placement})):v,M="number"==typeof P?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),j=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,R={x:0,y:0};if(T){if(o){var F,B="y"===O?bt:_t,N="y"===O?wt:kt,V="y"===O?"height":"width",H=T[O],z=H+y[B],q=H-y[N],W=g?-I[V]/2:0,U=w===At?D[V]:I[V],K=w===At?-I[V]:-D[V],$=e.elements.arrow,J=g&&$?f($):{width:0,height:0},Y=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:S(),G=Y[B],X=Y[N],Z=E(0,D[V],J[V]),tt=k?D[V]/2-W-Z-G-M.mainAxis:U-Z-G-M.mainAxis,et=k?-D[V]/2+W+Z+X+M.mainAxis:K+Z+X+M.mainAxis,it=e.elements.arrow&&_(e.elements.arrow),nt=it?"y"===O?it.clientTop||0:it.clientLeft||0:0,rt=null!=(F=null==j?void 0:j[O])?F:0,ot=H+et-rt,st=E(g?Ut(z,H+tt-rt-nt):z,H,g?Wt(q,ot):q);T[O]=st,R[O]=st-H}if(a){var lt,ct="x"===O?bt:_t,ut="x"===O?wt:kt,dt=T[C],ht="y"===C?"height":"width",pt=dt+y[ct],ft=dt-y[ut],gt=-1!==[bt,_t].indexOf(b),mt=null!=(lt=null==j?void 0:j[C])?lt:0,vt=gt?pt:dt-D[ht]-I[ht]-mt+M.altAxis,yt=gt?dt+D[ht]+I[ht]-mt-M.altAxis:ft,xt=g&&gt?A(vt,dt,yt):E(g?vt:pt,dt,g?yt:ft);T[C]=xt,R[C]=xt-dt}e.modifiersData[n]=R}}function ct(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function ut(t){return t!==r(t)&&s(t)?ct(t):B(t)}function dt(t){var e=t.getBoundingClientRect(),i=Kt(e.width)/t.offsetWidth||1,n=Kt(e.height)/t.offsetHeight||1;return 1!==i||1!==n}function ht(t,e,i){void 0===i&&(i=!1);var r=s(e),o=s(e)&&dt(e),a=y(e),l=p(t,o,i),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!i)&&(("body"!==n(e)||z(a))&&(c=ut(e)),s(e)?((u=p(e,!0)).x+=e.clientLeft,u.y+=e.clientTop):a&&(u.x=N(a))),{x:l.left+c.scrollLeft-u.x,y:l.top+c.scrollTop-u.y,width:l.width,height:l.height}}function pt(t){function e(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var r=i.get(t);r&&e(r)}})),r.push(t)}var i=new Map,n=new Set,r=[];return t.forEach((function(t){i.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||e(t)})),r}function ft(t){var e=pt(t);return zt.reduce((function(t,i){return t.concat(e.filter((function(t){return t.phase===i})))}),[])}function gt(t){var e;return function(){return e||(e=new Promise((function(i){Promise.resolve().then((function(){e=void 0,i(t())}))}))),e}}function mt(t){var e=t.reduce((function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}function vt(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function yt(t){void 0===t&&(t={});var e=t,i=e.defaultModifiers,n=void 0===i?[]:i,r=e.defaultOptions,s=void 0===r?se:r;return function(t,e,i){function r(){l.orderedModifiers.forEach((function(t){var e=t.name,i=t.options,n=void 0===i?{}:i,r=t.effect;if("function"==typeof r){var o=r({state:l,name:e,instance:d,options:n}),s=function(){};c.push(o||s)}}))}function a(){c.forEach((function(t){return t()})),c=[]}void 0===i&&(i=s);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},se,s),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},c=[],u=!1,d={state:l,setOptions:function(i){var c="function"==typeof i?i(l.options):i;a(),l.options=Object.assign({},s,l.options,c),l.scrollParents={reference:o(t)?W(t):t.contextElement?W(t.contextElement):[],popper:W(e)};var u=ft(mt([].concat(n,l.options.modifiers)));return l.orderedModifiers=u.filter((function(t){return t.enabled})),r(),d.update()},forceUpdate:function(){if(!u){var t=l.elements,e=t.reference,i=t.popper;if(vt(e,i)){l.rects={reference:ht(e,_(i),"fixed"===l.options.strategy),popper:f(i)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(t){return l.modifiersData[t.name]=Object.assign({},t.data)}));for(var n=0;n<l.orderedModifiers.length;n++)if(!0!==l.reset){var r=l.orderedModifiers[n],o=r.fn,s=r.options,a=void 0===s?{}:s,c=r.name;"function"==typeof o&&(l=o({state:l,options:a,name:c,instance:d})||l)}else l.reset=!1,n=-1}}},update:gt((function(){return new Promise((function(t){d.forceUpdate(),t(l)}))})),destroy:function(){a(),u=!0}};return vt(t,e)?(d.setOptions(i).then((function(t){!u&&i.onFirstUpdate&&i.onFirstUpdate(t)})),d):d}}i.r(e),i.d(e,{afterMain:function(){return Bt},afterRead:function(){return jt},afterWrite:function(){return Ht},applyStyles:function(){return qt},arrow:function(){return Jt},auto:function(){return xt},basePlacements:function(){return Et},beforeMain:function(){return Rt},beforeRead:function(){return Pt},beforeWrite:function(){return Nt},bottom:function(){return wt},clippingParents:function(){return Ot},computeStyles:function(){return Gt},createPopper:function(){return le},createPopperBase:function(){return ae},createPopperLite:function(){return ce},detectOverflow:function(){return Q},end:function(){return St},eventListeners:function(){return Xt},flip:function(){return ee},hide:function(){return ie},left:function(){return _t},main:function(){return Ft},modifierPhases:function(){return zt},offset:function(){return ne},placements:function(){return It},popper:function(){return Tt},popperGenerator:function(){return yt},popperOffsets:function(){return re},preventOverflow:function(){return oe},read:function(){return Mt},reference:function(){return Dt},right:function(){return kt},start:function(){return At},top:function(){return bt},variationPlacements:function(){return Lt},viewport:function(){return Ct},write:function(){return Vt}});var bt="top",wt="bottom",kt="right",_t="left",xt="auto",Et=[bt,wt,kt,_t],At="start",St="end",Ot="clippingParents",Ct="viewport",Tt="popper",Dt="reference",Lt=Et.reduce((function(t,e){return t.concat([e+"-"+At,e+"-"+St])}),[]),It=[].concat(Et,[xt]).reduce((function(t,e){return t.concat([e,e+"-"+At,e+"-"+St])}),[]),Pt="beforeRead",Mt="read",jt="afterRead",Rt="beforeMain",Ft="main",Bt="afterMain",Nt="beforeWrite",Vt="write",Ht="afterWrite",zt=[Pt,Mt,jt,Rt,Ft,Bt,Nt,Vt,Ht],qt={name:"applyStyles",enabled:!0,phase:"write",fn:l,effect:c,requires:["computeStyles"]},Wt=Math.max,Ut=Math.min,Kt=Math.round,$t=function(t,e){return O("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:C(t,Et))},Jt={name:"arrow",enabled:!0,phase:"main",fn:T,effect:D,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},Yt={top:"auto",right:"auto",bottom:"auto",left:"auto"},Gt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:M,data:{}},Qt={passive:!0},Xt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:j,data:{}},Zt={left:"right",right:"left",bottom:"top",top:"bottom"},te={start:"end",end:"start"},ee={name:"flip",enabled:!0,phase:"main",fn:tt,requiresIfExists:["offset"],data:{_skip:!1}},ie={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:nt},ne={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ot},re={name:"popperOffsets",enabled:!0,phase:"read",fn:st,data:{}},oe={name:"preventOverflow",enabled:!0,phase:"main",fn:lt,requiresIfExists:["offset"]},se={placement:"bottom",modifiers:[],strategy:"absolute"},ae=yt(),le=yt({defaultModifiers:[Xt,re,Gt,qt,ne,ee,oe,Jt,ie]}),ce=yt({defaultModifiers:[Xt,re,Gt,qt]})},554:function(t,e){function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}function n(t){if(Array.isArray(t))return t}function r(t){if(Array.isArray(t))return i(t)}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e,i){return e=d(e),y(t,p()?Reflect.construct(e,i||[],d(t).constructor):e.apply(t,i))}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,
n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E(n.key),n)}}function c(t,e,i){return e&&l(t.prototype,e),i&&l(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var n=k(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:i):r.value}},u.apply(null,arguments)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(p=function(){return!!t})()}function f(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function g(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return o(t)}function b(t,e){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function w(t,e){return n(t)||g(t,e)||S(t,e)||m()}function k(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}function _(t){return r(t)||f(t)||S(t)||v()}function x(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function E(t){var e=x(t,"string");return"symbol"==typeof e?e:e+""}function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){if(t){if("string"==typeof t)return i(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function C(t){return t[t.length-1]}function T(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return i.forEach((function(e){t.includes(e)||t.push(e)})),t}function D(t,e){return t?t.split(e):[]}function L(t,e,i){return(void 0===e||t>=e)&&(void 0===i||t<=i)}function I(t,e,i){return t<e?e:t>i?i:t}function P(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=Object.keys(i).reduce((function(t,e){var r=i[e];return"function"==typeof r&&(r=r(n)),"".concat(t," ").concat(e,'="').concat(r,'"')}),t);r+="<".concat(o,"></").concat(t,">");var s=n+1;return s<e?P(t,e,i,s,r):r}function M(t){return t.replace(/>\s+/g,">").replace(/\s+</,"<")}function j(t){return new Date(t).setHours(0,0,0,0)}function R(){return(new Date).setHours(0,0,0,0)}function F(){switch(arguments.length){case 0:return R();case 1:return j(arguments.length<=0?void 0:arguments[0])}var t=new Date(0);return t.setFullYear.apply(t,arguments),t.setHours(0,0,0,0)}function B(t,e){var i=new Date(t);return i.setDate(i.getDate()+e)}function N(t,e){return B(t,7*e)}function V(t,e){var i=new Date(t),n=i.getMonth()+e,r=n%12;r<0&&(r+=12);var o=i.setMonth(n);return i.getMonth()!==r?i.setDate(0):o}function H(t,e){var i=new Date(t),n=i.getMonth(),r=i.setFullYear(i.getFullYear()+e);return 1===n&&2===i.getMonth()?i.setDate(0):r}function z(t,e){return(t-e+7)%7}function q(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=new Date(t).getDay();return B(t,z(e,i)-z(n,i))}function W(t){var e=q(t,4,1),i=q(new Date(e).setMonth(0,4),4,1);return Math.round((e-i)/6048e5)+1}function U(t,e){var i=new Date(t).getFullYear();return Math.floor(i/e)*e}function K(t){return t>-1?t%12:K(t+12)}function $(t,e){return t.toString().padStart(e,"0")}function J(t){if("string"!=typeof t)throw new Error("Invalid date format.");if(t in Kt)return Kt[t];var e=t.split(Wt),i=t.match(new RegExp(Wt,"g"));if(0===e.length||!i)throw new Error("Invalid date format.");var n=i.map((function(t){return Jt[t]})),r=Object.keys($t).reduce((function(t,e){return i.find((function(t){return"D"!==t[0]&&t[0].toLowerCase()===e}))&&t.push(e),t}),[]);return Kt[t]={parser:function(t,e){var n=t.split(Ut).reduce((function(t,e,n){if(e.length>0&&i[n]){var r=i[n][0];"M"===r?t.m=e:"D"!==r&&(t[r]=e)}return t}),{});return r.reduce((function(t,i){var r=$t[i](t,n[i],e);return isNaN(r)?t:r}),R())},formatter:function(t,i){return n.reduce((function(n,r,o){return n+"".concat(e[o]).concat(r(t,i))}),"")+C(e)}}}function Y(t,e,i){if(t instanceof Date||"number"==typeof t){var n=j(t);return isNaN(n)?void 0:n}if(t){if("today"===t)return R();if(e&&e.toValue){var r=e.toValue(t,e,i);return isNaN(r)?void 0:j(r)}return J(e).parser(t,i)}}function G(t,e,i){if(isNaN(t)||!t&&0!==t)return"";var n="number"==typeof t?new Date(t):t;return e.toDisplay?e.toDisplay(n,e,i):J(e).formatter(n,i)}function Q(t,e){var i=Yt.get(t);i||(i=[],Yt.set(t,i)),e.forEach((function(t){Qt.call.apply(Qt,_(t)),i.push(t)}))}function X(t){var e=Yt.get(t);e&&(e.forEach((function(t){Xt.call.apply(Xt,_(t))})),Yt.delete(t))}function Z(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=t[n];return e(r)?r:r!==i&&r.parentElement?Z(t,e,i,n+1):void 0}function tt(t,e){var i="function"==typeof e?e:function(t){return t.matches(e)};return Z(t.composedPath(),i,t.currentTarget)}function et(t){return ie.createContextualFragment(t)}function it(t){"none"!==t.style.display&&(t.style.display&&(t.dataset.styleDisplay=t.style.display),t.style.display="none")}function nt(t){"none"===t.style.display&&(t.dataset.styleDisplay?(t.style.display=t.dataset.styleDisplay,delete t.dataset.styleDisplay):t.style.display="")}function rt(t){t.firstChild&&(t.removeChild(t.firstChild),rt(t))}function ot(t,e){rt(t),e instanceof DocumentFragment?t.appendChild(e):"string"==typeof e?t.appendChild(et(e)):"function"==typeof e.forEach&&e.forEach((function(e){t.appendChild(e)}))}function st(t,e){return t.length<6&&e>=0&&e<7?T(t,e):t}function at(t){return(t+6)%7}function lt(t,e,i,n){var r=Y(t,e,i);return void 0!==r?r:n}function ct(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=parseInt(t,10);return n>=0&&n<=i?n:e}function ut(t,e){var i,n=Object.assign({},t),r={},o=e.constructor.locales,s=e.config||{},a=s.format,l=s.language,c=s.locale,u=s.maxDate,d=s.maxView,h=s.minDate,p=s.pickLevel,f=s.startView,g=s.weekStart;if(n.language&&(n.language!==l&&(o[n.language]?i=n.language:void 0===o[i=n.language.split("-")[0]]&&(i=!1)),delete n.language,i)){l=r.language=i;var m=c||o[ne];c=Object.assign({format:re,weekStart:oe},o[ne]),l!==ne&&Object.assign(c,o[l]),r.locale=c,a===m.format&&(a=r.format=c.format),g===m.weekStart&&(g=r.weekStart=c.weekStart,r.weekEnd=at(c.weekStart))}if(n.format){var v="function"==typeof n.format.toDisplay,y="function"==typeof n.format.toValue,b=Wt.test(n.format);(v&&y||b)&&(a=r.format=n.format),delete n.format}var w=h,k=u;if(void 0!==n.minDate&&(w=null===n.minDate?F(0,0,1):lt(n.minDate,a,c,w),delete n.minDate),void 0!==n.maxDate&&(k=null===n.maxDate?void 0:lt(n.maxDate,a,c,k),delete n.maxDate),k<w?(h=r.minDate=k,u=r.maxDate=w):(h!==w&&(h=r.minDate=w),u!==k&&(u=r.maxDate=k)),n.datesDisabled&&(r.datesDisabled=n.datesDisabled.reduce((function(t,e){var i=Y(e,a,c);return void 0!==i?T(t,i):t}),[]),delete n.datesDisabled),void 0!==n.defaultViewDate){var _=Y(n.defaultViewDate,a,c);void 0!==_&&(r.defaultViewDate=_),delete n.defaultViewDate}if(void 0!==n.weekStart){var x=Number(n.weekStart)%7;isNaN(x)||(g=r.weekStart=x,r.weekEnd=at(x)),delete n.weekStart}if(n.daysOfWeekDisabled&&(r.daysOfWeekDisabled=n.daysOfWeekDisabled.reduce(st,[]),delete n.daysOfWeekDisabled),n.daysOfWeekHighlighted&&(r.daysOfWeekHighlighted=n.daysOfWeekHighlighted.reduce(st,[]),delete n.daysOfWeekHighlighted),void 0!==n.maxNumberOfDates){var E=parseInt(n.maxNumberOfDates,10);E>=0&&(r.maxNumberOfDates=E,r.multidate=1!==E),delete n.maxNumberOfDates}n.dateDelimiter&&(r.dateDelimiter=String(n.dateDelimiter),delete n.dateDelimiter);var A=p;void 0!==n.pickLevel&&(A=ct(n.pickLevel,2),delete n.pickLevel),A!==p&&(p=r.pickLevel=A);var S=d;void 0!==n.maxView&&(S=ct(n.maxView,d),delete n.maxView),(S=p>S?p:S)!==d&&(d=r.maxView=S);var C=f;if(void 0!==n.startView&&(C=ct(n.startView,C),delete n.startView),C<p?C=p:C>d&&(C=d),C!==f&&(r.startView=C),n.prevArrow){var D=et(n.prevArrow);D.childNodes.length>0&&(r.prevArrow=D.childNodes),delete n.prevArrow}if(n.nextArrow){var L=et(n.nextArrow);L.childNodes.length>0&&(r.nextArrow=L.childNodes),delete n.nextArrow}if(void 0!==n.disableTouchKeyboard&&(r.disableTouchKeyboard="ontouchstart"in document&&!!n.disableTouchKeyboard,delete n.disableTouchKeyboard),n.orientation){var I=n.orientation.toLowerCase().split(/\s+/g);r.orientation={x:I.find((function(t){return"left"===t||"right"===t}))||"auto",y:I.find((function(t){return"top"===t||"bottom"===t}))||"auto"},delete n.orientation}if(void 0!==n.todayBtnMode){switch(n.todayBtnMode){case 0:case 1:r.todayBtnMode=n.todayBtnMode}delete n.todayBtnMode}return Object.keys(n).forEach((function(t){void 0!==n[t]&&O(ee,t)&&(r[t]=n[t])})),r}function dt(t,e){if(t&&t[0]&&t[1]){var i=w(t,2),n=w(i[0],2),r=n[0],o=n[1],s=w(i[1],2),a=s[0],l=s[1];if(!(r>e||a<e))return[r===e?o:-1,a===e?l:12]}}function ht(t){return _(t).reduce((function(t,e,i){return t+(i?e:e.toUpperCase())}),"")}function pt(t,e){var i={date:t.getDate(),viewDate:new Date(t.picker.viewDate),viewId:t.picker.currentView.id,datepicker:t};t.element.dispatchEvent(new CustomEvent(e,{detail:i}))}function ft(t,e){var i,n=t.config,r=n.minDate,o=n.maxDate,s=t.picker,a=s.currentView,l=s.viewDate;switch(a.id){case 0:i=V(l,e);break;case 1:i=H(l,e);break;default:i=H(l,e*a.navStep)}i=I(i,r,o),t.picker.changeFocus(i).render()}function gt(t){var e=t.picker.currentView.id;e!==t.config.maxView&&t.picker.changeView(e+1).render()}function mt(t){t.config.updateOnBlur?t.update({autohide:!0}):(t.refresh("input"),t.hide())}function vt(t,e){var i=t.picker,n=new Date(i.viewDate),r=i.currentView.id,o=1===r?V(n,e-n.getMonth()):H(n,e-n.getFullYear());i.changeFocus(o).changeView(r-1).render()}function yt(t){var e=t.picker,i=R();if(1===t.config.todayBtnMode){if(t.config.autohide)return void t.setDate(i);t.setDate(i,{render:!1}),e.update()}e.viewDate!==i&&e.changeFocus(i),e.changeView(0).render()}function bt(t){t.setDate({clear:!0})}function wt(t){gt(t)}function kt(t){ft(t,-1)}function _t(t){ft(t,1)}function xt(t,e){var i=tt(e,".datepicker-cell");if(i&&!i.classList.contains("disabled")){var n=t.picker.currentView,r=n.id;n.isMinView?t.setDate(Number(i.dataset.date)):vt(t,Number(1===r?i.dataset.month:i.dataset.year))}}function Et(t){t.inline||t.config.disableTouchKeyboard||t.inputField.focus()}function At(t,e){if(void 0!==e.title&&(e.title?(t.controls.title.textContent=e.title,nt(t.controls.title)):(t.controls.title.textContent="",it(t.controls.title))),e.prevArrow){var i=t.controls.prevBtn;rt(i),e.prevArrow.forEach((function(t){i.appendChild(t.cloneNode(!0))}))}if(e.nextArrow){var n=t.controls.nextBtn;rt(n),e.nextArrow.forEach((function(t){n.appendChild(t.cloneNode(!0))}))}if(e.locale&&(t.controls.todayBtn.textContent=e.locale.today,t.controls.clearBtn.textContent=e.locale.clear),void 0!==e.todayBtn&&(e.todayBtn?nt(t.controls.todayBtn):it(t.controls.todayBtn)),O(e,"minDate")||O(e,"maxDate")){var r=t.datepicker.config,o=r.minDate,s=r.maxDate;t.controls.todayBtn.disabled=!L(R(),o,s)}void 0!==e.clearBtn&&(e.clearBtn?nt(t.controls.clearBtn):it(t.controls.clearBtn))}function St(t){var e=t.dates,i=t.config;return I(e.length>0?C(e):i.defaultViewDate,i.minDate,i.maxDate)}function Ot(t,e){var i=new Date(t.viewDate),n=new Date(e),r=t.currentView,o=r.id,s=r.year,a=r.first,l=r.last,c=n.getFullYear();switch(t.viewDate=e,c!==i.getFullYear()&&pt(t.datepicker,"changeYear"),n.getMonth()!==i.getMonth()&&pt(t.datepicker,"changeMonth"),o){case 0:return e<a||e>l;case 1:return c!==s;default:return c<a||c>l}}function Ct(t){return window.getComputedStyle(t).direction}function Tt(t,e,i,n,r,o){if(L(t,r,o))return n(t)?Tt(e(t,i),e,i,n,r,o):t}function Dt(t,e,i,n){var r,o,s=t.picker,a=s.currentView,l=a.step||1,c=s.viewDate;switch(a.id){case 0:c=n?B(c,7*i):e.ctrlKey||e.metaKey?H(c,i):B(c,i),r=B,o=function(t){return a.disabled.includes(t)};break;case 1:c=V(c,n?4*i:i),r=V,o=function(t){var e=new Date(t),i=a.year,n=a.disabled;return e.getFullYear()===i&&n.includes(e.getMonth())};break;default:c=H(c,i*(n?4:1)*l),r=H,o=function(t){return a.disabled.includes(U(t,l))}}void 0!==(c=Tt(c,r,i<0?-l:l,o,a.minDate,a.maxDate))&&s.changeFocus(c).render()}function Lt(t,e){if("Tab"!==e.key){var i=t.picker,n=i.currentView,r=n.id,o=n.isMinView;if(i.active)if(t.editMode)switch(e.key){case"Escape":i.hide();break;case"Enter":t.exitEditMode({update:!0,autohide:t.config.autohide});break;default:return}else switch(e.key){case"Escape":i.hide();break;case"ArrowLeft":if(e.ctrlKey||e.metaKey)ft(t,-1);else{if(e.shiftKey)return void t.enterEditMode();Dt(t,e,-1,!1)}break;case"ArrowRight":if(e.ctrlKey||e.metaKey)ft(t,1);else{if(e.shiftKey)return void t.enterEditMode();Dt(t,e,1,!1)}break;case"ArrowUp":if(e.ctrlKey||e.metaKey)gt(t);else{if(e.shiftKey)return void t.enterEditMode();Dt(t,e,-1,!0)}break;case"ArrowDown":if(e.shiftKey&&!e.ctrlKey&&!e.metaKey)return void t.enterEditMode();Dt(t,e,1,!0);break;case"Enter":o?t.setDate(i.viewDate):i.changeView(r-1).render();break;case"Backspace":case"Delete":return void t.enterEditMode();default:return void(1!==e.key.length||e.ctrlKey||e.metaKey||t.enterEditMode())}else switch(e.key){case"ArrowDown":case"Escape":i.show();break;case"Enter":t.update();break;default:return}e.preventDefault(),e.stopPropagation()}else mt(t)}function It(t){t.config.showOnFocus&&!t._showing&&t.show()}function Pt(t,e){var i=e.target;(t.picker.active||t.config.showOnClick)&&(i._active=i===document.activeElement,i._clicking=setTimeout((function(){delete i._active,delete i._clicking}),2e3))}function Mt(t,e){var i=e.target;i._clicking&&(clearTimeout(i._clicking),delete i._clicking,i._active&&t.enterEditMode(),delete i._active,t.config.showOnClick&&t.show())}function jt(t,e){e.clipboardData.types.includes("text/plain")&&t.enterEditMode()}function Rt(t,e){var i=t.element;if(i===document.activeElement){var n=t.picker.element;tt(e,(function(t){return t===i||t===n}))||mt(t)}}function Ft(t,e){return t.map((function(t){return G(t,e.format,e.locale)})).join(e.dateDelimiter)}function Bt(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.config,r=t.dates,o=t.rangepicker;if(0===e.length)return i?[]:void 0;var s=o&&t===o.datepickers[1],a=e.reduce((function(t,e){var i=Y(e,n.format,n.locale);if(void 0===i)return t;if(n.pickLevel>0){var r=new Date(i);i=1===n.pickLevel?s?r.setMonth(r.getMonth()+1,0):r.setDate(1):s?r.setFullYear(r.getFullYear()+1,0,0):r.setMonth(0,1)}return!L(i,n.minDate,n.maxDate)||t.includes(i)||n.datesDisabled.includes(i)||n.daysOfWeekDisabled.includes(new Date(i).getDay())||t.push(i),t}),[]);return 0!==a.length?(n.multidate&&!i&&(a=a.reduce((function(t,e){return r.includes(e)||t.push(e),t}),r.filter((function(t){return!a.includes(t)})))),n.maxNumberOfDates&&a.length>n.maxNumberOfDates?a.slice(-1*n.maxNumberOfDates):a):void 0}function Nt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=t.config,r=t.picker,o=t.inputField;if(2&e){var s=r.active?n.pickLevel:n.startView;r.update().changeView(s).render(i)}1&e&&o&&(o.value=Ft(t.dates,n))}function Vt(t,e,i){var n=i.clear,r=i.render,o=i.autohide;void 0===r&&(r=!0),r?void 0===o&&(o=t.config.autohide):o=!1;var s=Bt(t,e,n);s&&(s.toString()!==t.dates.toString()?(t.dates=s,Nt(t,r?3:1),pt(t,"changeDate")):Nt(t,1),o&&t.hide())}function Ht(t){var e=Object.assign({},t);return delete e.inputs,delete e.allowOneSidedRange,delete e.maxNumberOfDates,e}function zt(t,e,i,n){Q(t,[[i,"changeDate",e]]),new fe(i,n,t)}function qt(t,e){if(!t._updating){t._updating=!0;var i=e.target;if(void 0!==i.datepicker){var n=t.datepickers,r={render:!1},o=t.inputs.indexOf(i),s=0===o?1:0,a=n[o].dates[0],l=n[s].dates[0];void 0!==a&&void 0!==l?0===o&&a>l?(n[0].setDate(l,r),n[1].setDate(a,r)):1===o&&a<l&&(n[0].setDate(a,r),n[1].setDate(l,r)):t.allowOneSidedRange||void 0===a&&void 0===l||(r.clear=!0,n[s].setDate(n[o].dates,r)),n[0].picker.update().render(),n[1].picker.update().render(),delete t._updating}}}Object.defineProperty(e,"__esModule",{value:!0});var Wt=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,Ut=/[\s!-/:-@[-`{-~\u5e74\u6708\u65e5]+/,Kt={},$t={y:function(t,e){return new Date(t).setFullYear(parseInt(e,10))},m:function(t,e,i){var n=new Date(t),r=parseInt(e,10)-1;if(isNaN(r)){if(!e)return NaN;var o=e.toLowerCase(),s=function(t){return t.toLowerCase().startsWith(o)};if((r=i.monthsShort.findIndex(s))<0&&(r=i.months.findIndex(s)),r<0)return NaN}return n.setMonth(r),n.getMonth()!==K(r)?n.setDate(0):n.getTime()},d:function(t,e){return new Date(t).setDate(parseInt(e,10))}},Jt={d:function(t){return t.getDate()},dd:function(t){return $(t.getDate(),2)},D:function(t,e){return e.daysShort[t.getDay()]},DD:function(t,e){return e.days[t.getDay()]},m:function(t){return t.getMonth()+1},mm:function(t){return $(t.getMonth()+1,2)},M:function(t,e){return e.monthsShort[t.getMonth()]},MM:function(t,e){return e.months[t.getMonth()]},y:function(t){return t.getFullYear()},yy:function(t){return $(t.getFullYear(),2).slice(-2)},yyyy:function(t){return $(t.getFullYear(),4)}},Yt=new WeakMap,Gt=EventTarget.prototype,Qt=Gt.addEventListener,Xt=Gt.removeEventListener;if(!Event.prototype.composedPath){var Zt=function t(e){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n.push(e),e.parentNode?i=e.parentNode:e.host?i=e.host:e.defaultView&&(i=e.defaultView),i?t(i,n):n};Event.prototype.composedPath=function(){return Zt(this.target)}}var te={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},ee={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:!1,clearBtn:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/></svg>',orientation:"auto",pickLevel:0,prevArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5H1m0 0 4 4M1 5l4-4"/></svg>',showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayBtn:!1,todayBtnMode:0,todayHighlight:!1,updateOnBlur:!0,weekStart:0},ie=document.createRange(),ne=ee.language,re=ee.format,oe=ee.weekStart,se=M('<div class="datepicker hidden">\n  <div class="datepicker-picker inline-block rounded-lg bg-white dark:bg-gray-700 shadow-lg p-4">\n    <div class="datepicker-header">\n      <div class="datepicker-title bg-white dark:bg-gray-700 dark:text-white px-2 py-3 text-center font-semibold"></div>\n      <div class="datepicker-controls flex justify-between mb-2">\n        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 prev-btn"></button>\n        <button type="button" class="text-sm rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 font-semibold py-2.5 px-5 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-200 view-switch"></button>\n        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 next-btn"></button>\n      </div>\n    </div>\n    <div class="datepicker-main p-1"></div>\n    <div class="datepicker-footer">\n      <div class="datepicker-controls flex space-x-2 rtl:space-x-reverse mt-2">\n        <button type="button" class="%buttonClass% today-btn text-white bg-blue-700 !bg-primary-700 dark:bg-blue-600 dark:!bg-primary-600 hover:bg-blue-800 hover:!bg-primary-800 dark:hover:bg-blue-700 dark:hover:!bg-primary-700 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>\n        <button type="button" class="%buttonClass% clear-btn text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>\n      </div>\n    </div>\n  </div>\n</div>'),ae=M('<div class="days">\n  <div class="days-of-week grid grid-cols-7 mb-1">'.concat(P("span",7,{class:"dow block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),'</div>\n  <div class="datepicker-grid w-64 grid grid-cols-7">').concat(P("span",42,{class:"block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"}),"</div>\n</div>")),le=M('<div class="calendar-weeks">\n  <div class="days-of-week flex"><span class="dow h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"></span></div>\n  <div class="weeks">'.concat(P("span",6,{class:"week block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),"</div>\n</div>")),ce=function(){function t(e,i){a(this,t),Object.assign(this,i,{picker:e,element:et('<div class="datepicker-view flex"></div>').firstChild,selected:[]}),this.init(this.picker.datepicker.config)}return c(t,[{key:"init",value:function(t){void 0!==t.pickLevel&&(this.isMinView=this.id===t.pickLevel),this.setOptions(t),this.updateFocus(),this.updateSelection()}},{key:"performBeforeHook",value:function(t,e,i){var n=this.beforeShow(new Date(i));switch(A(n)){case"boolean":n={enabled:n};break;case"string":n={classes:n}}if(n){if(!1===n.enabled&&(t.classList.add("disabled"),T(this.disabled,e)),n.classes){var r,o=n.classes.split(/\s+/);(r=t.classList).add.apply(r,_(o)),o.includes("disabled")&&T(this.disabled,e)}n.content&&ot(t,n.content)}}}])}(),ue=function(t){function e(t){return a(this,e),s(this,e,[t,{id:0,name:"days",cellClass:"day"}])}return h(e,t),c(e,[{key:"init",value:function(t){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var i=et(ae).firstChild;this.dow=i.firstChild,this.grid=i.lastChild,this.element.appendChild(i)}u(d(e.prototype),"init",this).call(this,t)}},{key:"setOptions",value:function(t){var e,i=this;if(O(t,"minDate")&&(this.minDate=t.minDate),O(t,"maxDate")&&(this.maxDate=t.maxDate),t.datesDisabled&&(this.datesDisabled=t.datesDisabled),t.daysOfWeekDisabled&&(this.daysOfWeekDisabled=t.daysOfWeekDisabled,e=!0),t.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=t.daysOfWeekHighlighted),void 0!==t.todayHighlight&&(this.todayHighlight=t.todayHighlight),void 0!==t.weekStart&&(this.weekStart=t.weekStart,this.weekEnd=t.weekEnd,e=!0),t.locale){var n=this.locale=t.locale;this.dayNames=n.daysMin,this.switchLabelFormat=n.titleFormat,e=!0}if(void 0!==t.beforeShowDay&&(this.beforeShow="function"==typeof t.beforeShowDay?t.beforeShowDay:void 0),void 0!==t.calendarWeeks)if(t.calendarWeeks&&!this.calendarWeeks){var r=et(le).firstChild;this.calendarWeeks={element:r,dow:r.firstChild,weeks:r.lastChild},this.element.insertBefore(r,this.element.firstChild)}else this.calendarWeeks&&!t.calendarWeeks&&(this.element.removeChild(this.calendarWeeks.element),this.calendarWeeks=null);void 0!==t.showDaysOfWeek&&(t.showDaysOfWeek?(nt(this.dow),this.calendarWeeks&&nt(this.calendarWeeks.dow)):(it(this.dow),this.calendarWeeks&&it(this.calendarWeeks.dow))),e&&Array.from(this.dow.children).forEach((function(t,e){var n=(i.weekStart+e)%7;t.textContent=i.dayNames[n],t.className=i.daysOfWeekDisabled.includes(n)?"dow disabled text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400 cursor-not-allowed":"dow text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"}))}},{key:"updateFocus",value:function(){var t=new Date(this.picker.viewDate),e=t.getFullYear(),i=t.getMonth(),n=F(e,i,1),r=q(n,this.weekStart,this.weekStart);this.first=n,this.last=F(e,i+1,0),this.start=r,this.focused=this.picker.viewDate}},{key:"updateSelection",value:function(){var t=this.picker.datepicker,e=t.dates,i=t.rangepicker;this.selected=e,i&&(this.range=i.dates)}},{key:"render",value:function(){var t=this;this.today=this.todayHighlight?R():void 0,this.disabled=_(this.datesDisabled);var e=G(this.focused,this.switchLabelFormat,this.locale);if(this.picker.setViewSwitchLabel(e),this.picker.setPrevBtnDisabled(this.first<=this.minDate),this.picker.setNextBtnDisabled(this.last>=this.maxDate),this.calendarWeeks){var i=q(this.first,1,1);Array.from(this.calendarWeeks.weeks.children).forEach((function(t,e){t.textContent=W(N(i,e))}))}Array.from(this.grid.children).forEach((function(e,i){var n=e.classList,r=B(t.start,i),o=new Date(r),s=o.getDay();if(e.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(t.cellClass),e.dataset.date=r,e.textContent=o.getDate(),r<t.first?n.add("prev","text-gray-500","dark:text-white"):r>t.last&&n.add("next","text-gray-500","dark:text-white"),t.today===r&&n.add("today","bg-gray-100","dark:bg-gray-600"),(r<t.minDate||r>t.maxDate||t.disabled.includes(r))&&(n.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),n.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer")),t.daysOfWeekDisabled.includes(s)&&(n.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),n.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer"),T(t.disabled,r)),t.daysOfWeekHighlighted.includes(s)&&n.add("highlighted"),t.range){var a=w(t.range,2),l=a[0],c=a[1];r>l&&r<c&&(n.add("range","bg-gray-200","dark:bg-gray-600"),n.remove("rounded-lg","rounded-l-lg","rounded-r-lg")),r===l&&(n.add("range-start","bg-gray-100","dark:bg-gray-600","rounded-l-lg"),n.remove("rounded-lg","rounded-r-lg")),r===c&&(n.add("range-end","bg-gray-100","dark:bg-gray-600","rounded-r-lg"),n.remove("rounded-lg","rounded-l-lg"))}t.selected.includes(r)&&(n.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),n.remove("text-gray-900","text-gray-500","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","dark:bg-gray-600","bg-gray-100","bg-gray-200")),r===t.focused&&n.add("focused"),t.beforeShow&&t.performBeforeHook(e,r,r)}))}},{key:"refresh",value:function(){var t=this,e=w(this.range||[],2),i=e[0],n=e[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(t){t.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white","focused"),t.classList.add("text-gray-900","rounded-lg","dark:text-white")})),Array.from(this.grid.children).forEach((function(e){var r=Number(e.dataset.date),o=e.classList;o.remove("bg-gray-200","dark:bg-gray-600","rounded-l-lg","rounded-r-lg"),r>i&&r<n&&(o.add("range","bg-gray-200","dark:bg-gray-600"),o.remove("rounded-lg")),r===i&&(o.add("range-start","bg-gray-200","dark:bg-gray-600","rounded-l-lg"),o.remove("rounded-lg")),r===n&&(o.add("range-end","bg-gray-200","dark:bg-gray-600","rounded-r-lg"),o.remove("rounded-lg")),t.selected.includes(r)&&(o.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),o.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","bg-gray-100","bg-gray-200","dark:bg-gray-600")),r===t.focused&&o.add("focused")}))}},{key:"refreshFocus",value:function(){var t=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach((function(t){t.classList.remove("focused")})),this.grid.children[t].classList.add("focused")}}])}(ce),de=function(t){function e(t){return a(this,e),s(this,e,[t,{id:1,name:"months",cellClass:"month"}])}return h(e,t),c(e,[{key:"init",value:function(t){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(et(P("span",12,{"data-month":function(t){return t}})))),u(d(e.prototype),"init",this).call(this,t)}},{key:"setOptions",value:function(t){if(t.locale&&(this.monthNames=t.locale.monthsShort),O(t,"minDate"))if(void 0===t.minDate)this.minYear=this.minMonth=this.minDate=void 0;else{var e=new Date(t.minDate);this.minYear=e.getFullYear(),this.minMonth=e.getMonth(),this.minDate=e.setDate(1)}if(O(t,"maxDate"))if(void 0===t.maxDate)this.maxYear=this.maxMonth=this.maxDate=void 0;else{var i=new Date(t.maxDate);this.maxYear=i.getFullYear(),this.maxMonth=i.getMonth(),this.maxDate=F(this.maxYear,this.maxMonth+1,0)}void 0!==t.beforeShowMonth&&(this.beforeShow="function"==typeof t.beforeShowMonth?t.beforeShowMonth:void 0)}},{key:"updateFocus",value:function(){var t=new Date(this.picker.viewDate);this.year=t.getFullYear(),this.focused=t.getMonth()}},{key:"updateSelection",value:function(){var t=this.picker.datepicker,e=t.dates,i=t.rangepicker;this.selected=e.reduce((function(t,e){var i=new Date(e),n=i.getFullYear(),r=i.getMonth();return void 0===t[n]?t[n]=[r]:T(t[n],r),t}),{}),i&&i.dates&&(this.range=i.dates.map((function(t){var e=new Date(t);return isNaN(e)?void 0:[e.getFullYear(),e.getMonth()]})))}},{key:"render",value:function(){var t=this;this.disabled=[],this.picker.setViewSwitchLabel(this.year),this.picker.setPrevBtnDisabled(this.year<=this.minYear),this.picker.setNextBtnDisabled(this.year>=this.maxYear);var e=this.selected[this.year]||[],i=this.year<this.minYear||this.year>this.maxYear,n=this.year===this.minYear,r=this.year===this.maxYear,o=dt(this.range,this.year);Array.from(this.grid.children).forEach((function(s,a){var l=s.classList,c=F(t.year,a,1);if(s.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(t.cellClass),t.isMinView&&(s.dataset.date=c),s.textContent=t.monthNames[a],
(i||n&&a<t.minMonth||r&&a>t.maxMonth)&&l.add("disabled"),o){var u=w(o,2),d=u[0],h=u[1];a>d&&a<h&&l.add("range"),a===d&&l.add("range-start"),a===h&&l.add("range-end")}e.includes(a)&&(l.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),l.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),a===t.focused&&l.add("focused"),t.beforeShow&&t.performBeforeHook(s,a,c)}))}},{key:"refresh",value:function(){var t=this,e=this.selected[this.year]||[],i=w(dt(this.range,this.year)||[],2),n=i[0],r=i[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(t){t.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","dark:bg-blue-600","dark:!bg-primary-700","dark:text-white","text-white","focused"),t.classList.add("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")})),Array.from(this.grid.children).forEach((function(i,o){var s=i.classList;o>n&&o<r&&s.add("range"),o===n&&s.add("range-start"),o===r&&s.add("range-end"),e.includes(o)&&(s.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),s.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),o===t.focused&&s.add("focused")}))}},{key:"refreshFocus",value:function(){this.grid.querySelectorAll(".focused").forEach((function(t){t.classList.remove("focused")})),this.grid.children[this.focused].classList.add("focused")}}])}(ce),he=function(t){function e(t,i){return a(this,e),s(this,e,[t,i])}return h(e,t),c(e,[{key:"init",value:function(t){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.navStep=10*this.step,this.beforeShowOption="beforeShow".concat(ht(this.cellClass)),this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(et(P("span",12)))),u(d(e.prototype),"init",this).call(this,t)}},{key:"setOptions",value:function(t){if(O(t,"minDate")&&(void 0===t.minDate?this.minYear=this.minDate=void 0:(this.minYear=U(t.minDate,this.step),this.minDate=F(this.minYear,0,1))),O(t,"maxDate")&&(void 0===t.maxDate?this.maxYear=this.maxDate=void 0:(this.maxYear=U(t.maxDate,this.step),this.maxDate=F(this.maxYear,11,31))),void 0!==t[this.beforeShowOption]){var e=t[this.beforeShowOption];this.beforeShow="function"==typeof e?e:void 0}}},{key:"updateFocus",value:function(){var t=new Date(this.picker.viewDate),e=U(t,this.navStep),i=e+9*this.step;this.first=e,this.last=i,this.start=e-this.step,this.focused=U(t,this.step)}},{key:"updateSelection",value:function(){var t=this,e=this.picker.datepicker,i=e.dates,n=e.rangepicker;this.selected=i.reduce((function(e,i){return T(e,U(i,t.step))}),[]),n&&n.dates&&(this.range=n.dates.map((function(e){if(void 0!==e)return U(e,t.step)})))}},{key:"render",value:function(){var t=this;this.disabled=[],this.picker.setViewSwitchLabel("".concat(this.first,"-").concat(this.last)),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach((function(e,i){var n=e.classList,r=t.start+i*t.step,o=F(r,0,1);if(e.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(t.cellClass),t.isMinView&&(e.dataset.date=o),e.textContent=e.dataset.year=r,0===i?n.add("prev"):11===i&&n.add("next"),(r<t.minYear||r>t.maxYear)&&n.add("disabled"),t.range){var s=w(t.range,2),a=s[0],l=s[1];r>a&&r<l&&n.add("range"),r===a&&n.add("range-start"),r===l&&n.add("range-end")}t.selected.includes(r)&&(n.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),n.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),r===t.focused&&n.add("focused"),t.beforeShow&&t.performBeforeHook(e,r,o)}))}},{key:"refresh",value:function(){var t=this,e=w(this.range||[],2),i=e[0],n=e[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(t){t.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark!bg-primary-600","dark:text-white","focused")})),Array.from(this.grid.children).forEach((function(e){var r=Number(e.textContent),o=e.classList;r>i&&r<n&&o.add("range"),r===i&&o.add("range-start"),r===n&&o.add("range-end"),t.selected.includes(r)&&(o.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),o.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),r===t.focused&&o.add("focused")}))}},{key:"refreshFocus",value:function(){var t=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach((function(t){t.classList.remove("focused")})),this.grid.children[t].classList.add("focused")}}])}(ce),pe=function(){function t(e){a(this,t),this.datepicker=e;var i=se.replace(/%buttonClass%/g,e.config.buttonClass),n=this.element=et(i).firstChild,r=w(n.firstChild.children,3),o=r[0],s=r[1],l=r[2],c=o.firstElementChild,u=w(o.lastElementChild.children,3),d=u[0],h=u[1],p=u[2],f=w(l.firstChild.children,2),g={title:c,prevBtn:d,viewSwitch:h,nextBtn:p,todayBtn:f[0],clearBtn:f[1]};this.main=s,this.controls=g;var m=e.inline?"inline":"dropdown";n.classList.add("datepicker-".concat(m)),"dropdown"===m&&n.classList.add("dropdown","absolute","top-0","left-0","z-50","pt-2"),At(this,e.config),this.viewDate=St(e),Q(e,[[n,"click",Et.bind(null,e),{capture:!0}],[s,"click",xt.bind(null,e)],[g.viewSwitch,"click",wt.bind(null,e)],[g.prevBtn,"click",kt.bind(null,e)],[g.nextBtn,"click",_t.bind(null,e)],[g.todayBtn,"click",yt.bind(null,e)],[g.clearBtn,"click",bt.bind(null,e)]]),this.views=[new ue(this),new de(this),new he(this,{id:2,name:"years",cellClass:"year",step:1}),new he(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[e.config.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),e.config.container.appendChild(this.element)}return c(t,[{key:"setOptions",value:function(t){At(this,t),this.views.forEach((function(e){e.init(t,!1)})),this.currentView.render()}},{key:"detach",value:function(){this.datepicker.config.container.removeChild(this.element)}},{key:"show",value:function(){if(!this.active){this.element.classList.add("active","block"),this.element.classList.remove("hidden"),this.active=!0;var t=this.datepicker;if(!t.inline){var e=Ct(t.inputField);e!==Ct(t.config.container)?this.element.dir=e:this.element.dir&&this.element.removeAttribute("dir"),this.place(),t.config.disableTouchKeyboard&&t.inputField.blur()}pt(t,"show")}}},{key:"hide",value:function(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active","block"),this.element.classList.add("active","block","hidden"),this.active=!1,pt(this.datepicker,"hide"))}},{key:"place",value:function(){var t,e,i,n=this.element,r=n.classList,o=n.style,s=this.datepicker,a=s.config,l=s.inputField,c=a.container,u=this.element.getBoundingClientRect(),d=u.width,h=u.height,p=c.getBoundingClientRect(),f=p.left,g=p.top,m=p.width,v=l.getBoundingClientRect(),y=v.left,b=v.top,w=v.width,k=v.height,_=a.orientation,x=_.x,E=_.y;c===document.body?(t=window.scrollY,e=y+window.scrollX,i=b+t):(e=y-f,i=b-g+(t=c.scrollTop)),"auto"===x&&(e<0?(x="left",e=10):x=e+d>m||"rtl"===Ct(l)?"right":"left"),"right"===x&&(e-=d-w),"auto"===E&&(E=i-h<t?"bottom":"top"),"top"===E?i-=h:i+=k,r.remove("datepicker-orient-top","datepicker-orient-bottom","datepicker-orient-right","datepicker-orient-left"),r.add("datepicker-orient-".concat(E),"datepicker-orient-".concat(x)),o.top=i?"".concat(i,"px"):i,o.left=e?"".concat(e,"px"):e}},{key:"setViewSwitchLabel",value:function(t){this.controls.viewSwitch.textContent=t}},{key:"setPrevBtnDisabled",value:function(t){this.controls.prevBtn.disabled=t}},{key:"setNextBtnDisabled",value:function(t){this.controls.nextBtn.disabled=t}},{key:"changeView",value:function(t){var e=this.currentView,i=this.views[t];return i.id!==e.id&&(this.currentView=i,this._renderMethod="render",pt(this.datepicker,"changeView"),this.main.replaceChild(i.element,e.element)),this}},{key:"changeFocus",value:function(t){return this._renderMethod=Ot(this,t)?"render":"refreshFocus",this.views.forEach((function(t){t.updateFocus()})),this}},{key:"update",value:function(){var t=St(this.datepicker);return this._renderMethod=Ot(this,t)?"render":"refresh",this.views.forEach((function(t){t.updateFocus(),t.updateSelection()})),this}},{key:"render",value:function(){var t=(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this._renderMethod||"render";delete this._renderMethod,this.currentView[t]()}}])}(),fe=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;a(this,t),e.datepicker=this,this.element=e;var r=this.config=Object.assign({buttonClass:i.buttonClass&&String(i.buttonClass)||"button",container:document.body,defaultViewDate:R(),maxDate:void 0,minDate:void 0},ut(ee,this));this._options=i,Object.assign(r,ut(i,this));var o,s,l=this.inline="INPUT"!==e.tagName;if(l)r.container=e,s=D(e.dataset.date,r.dateDelimiter),delete e.dataset.date;else{var c=i.container?document.querySelector(i.container):null;c&&(r.container=c),(o=this.inputField=e).classList.add("datepicker-input"),s=D(o.value,r.dateDelimiter)}if(n){var u=n.inputs.indexOf(o),d=n.datepickers;if(u<0||u>1||!Array.isArray(d))throw Error("Invalid rangepicker object.");d[u]=this,Object.defineProperty(this,"rangepicker",{get:function(){return n}})}this.dates=[];var h=Bt(this,s);h&&h.length>0&&(this.dates=h),o&&(o.value=Ft(this.dates,r));var p=this.picker=new pe(this);if(l)this.show();else{var f=Rt.bind(null,this);Q(this,[[o,"keydown",Lt.bind(null,this)],[o,"focus",It.bind(null,this)],[o,"mousedown",Pt.bind(null,this)],[o,"click",Mt.bind(null,this)],[o,"paste",jt.bind(null,this)],[document,"mousedown",f],[document,"touchstart",f],[window,"resize",p.place.bind(p)]])}}return c(t,[{key:"active",get:function(){return!(!this.picker||!this.picker.active)}},{key:"pickerElement",get:function(){return this.picker?this.picker.element:void 0}},{key:"setOptions",value:function(t){var e=this.picker,i=ut(t,this);Object.assign(this._options,t),Object.assign(this.config,i),e.setOptions(i),Nt(this,3)}},{key:"show",value:function(){if(this.inputField){if(this.inputField.disabled)return;this.inputField!==document.activeElement&&(this._showing=!0,this.inputField.focus(),delete this._showing)}this.picker.show()}},{key:"hide",value:function(){this.inline||(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}},{key:"destroy",value:function(){return this.hide(),X(this),this.picker.detach(),this.inline||this.inputField.classList.remove("datepicker-input"),delete this.element.datepicker,this}},{key:"getDate",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=e?function(i){return G(i,e,t.config.locale)}:function(t){return new Date(t)};return this.config.multidate?this.dates.map(i):this.dates.length>0?i(this.dates[0]):void 0}},{key:"setDate",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=[].concat(e),r={},o=C(e);"object"!==A(o)||Array.isArray(o)||o instanceof Date||!o||Object.assign(r,n.pop()),Vt(this,Array.isArray(n[0])?n[0]:n,r)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!this.inline){var e={clear:!0,autohide:!(!t||!t.autohide)};Vt(this,D(this.inputField.value,this.config.dateDelimiter),e)}}},{key:"refresh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&"string"!=typeof t&&(e=t,t=void 0),Nt(this,"picker"===t?2:"input"===t?1:3,!e)}},{key:"enterEditMode",value:function(){this.inline||!this.picker.active||this.editMode||(this.editMode=!0,this.inputField.classList.add("in-edit","border-blue-700","!border-primary-700"))}},{key:"exitEditMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!this.inline&&this.editMode){var e=Object.assign({update:!1},t);delete this.editMode,this.inputField.classList.remove("in-edit","border-blue-700","!border-primary-700"),e.update&&this.update(e)}}}],[{key:"formatDate",value:function(t,e,i){return G(t,e,i&&te[i]||te.en)}},{key:"parseDate",value:function(t,e,i){return Y(t,e,i&&te[i]||te.en)}},{key:"locales",get:function(){return te}}])}(),ge=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,t);var n=Array.isArray(i.inputs)?i.inputs:Array.from(e.querySelectorAll("input"));if(!(n.length<2)){e.rangepicker=this,this.element=e,this.inputs=n.slice(0,2),this.allowOneSidedRange=!!i.allowOneSidedRange;var r=qt.bind(null,this),o=Ht(i),s=[];Object.defineProperty(this,"datepickers",{get:function(){return s}}),zt(this,r,this.inputs[0],o),zt(this,r,this.inputs[1],o),Object.freeze(s),s[0].dates.length>0?qt(this,{target:this.inputs[0]}):s[1].dates.length>0&&qt(this,{target:this.inputs[1]})}}return c(t,[{key:"dates",get:function(){return 2===this.datepickers.length?[this.datepickers[0].dates[0],this.datepickers[1].dates[0]]:void 0}},{key:"setOptions",value:function(t){this.allowOneSidedRange=!!t.allowOneSidedRange;var e=Ht(t);this.datepickers[0].setOptions(e),this.datepickers[1].setOptions(e)}},{key:"destroy",value:function(){this.datepickers[0].destroy(),this.datepickers[1].destroy(),X(this),delete this.element.rangepicker}},{key:"getDates",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=e?function(i){return G(i,e,t.datepickers[0].config.locale)}:function(t){return new Date(t)};return this.dates.map((function(t){return void 0===t?t:i(t)}))}},{key:"setDates",value:function(t,e){var i=w(this.datepickers,2),n=i[0],r=i[1],o=this.dates;this._updating=!0,n.setDate(t),r.setDate(e),delete this._updating,r.dates[0]!==o[1]?qt(this,{target:this.inputs[1]}):n.dates[0]!==o[0]&&qt(this,{target:this.inputs[0]})}}])}();e.DateRangePicker=ge,e.Datepicker=fe},902:function(t,e,i){function n(){document.querySelectorAll("[data-accordion]").forEach((function(t){var e=t.getAttribute("data-accordion"),i=t.getAttribute("data-active-classes"),n=t.getAttribute("data-inactive-classes"),r=[];t.querySelectorAll("[data-accordion-target]").forEach((function(e){if(e.closest("[data-accordion]")===t){var i={id:e.getAttribute("data-accordion-target"),triggerEl:e,targetEl:document.querySelector(e.getAttribute("data-accordion-target")),iconEl:e.querySelector("[data-accordion-icon]"),active:"true"===e.getAttribute("aria-expanded")};r.push(i)}})),new l(t,r,{alwaysOpen:"open"===e,activeClasses:i||s.activeClasses,inactiveClasses:n||s.inactiveClasses})}))}var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.initAccordions=void 0;var o=i(423),s={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},a={id:null,override:!0},l=function(){function t(t,e,i,n){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===i&&(i=s),void 0===n&&(n=a),this._instanceId=n.id?n.id:t.id,this._accordionEl=t,this._items=e,this._options=r(r({},s),i),this._initialized=!1,this.init(),o.default.addInstance("Accordion",this,this._instanceId,n.override)}return t.prototype.init=function(){var t=this;this._items.length&&!this._initialized&&(this._items.forEach((function(e){e.active&&t.open(e.id);var i=function(){t.toggle(e.id)};e.triggerEl.addEventListener("click",i),e.clickHandler=i})),this._initialized=!0)},t.prototype.destroy=function(){this._items.length&&this._initialized&&(this._items.forEach((function(t){t.triggerEl.removeEventListener("click",t.clickHandler),delete t.clickHandler})),this._initialized=!1)},t.prototype.removeInstance=function(){o.default.removeInstance("Accordion",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getItem=function(t){return this._items.filter((function(e){return e.id===t}))[0]},t.prototype.open=function(t){var e,i,n=this,r=this.getItem(t);this._options.alwaysOpen||this._items.map((function(t){var e,i;t!==r&&((e=t.triggerEl.classList).remove.apply(e,n._options.activeClasses.split(" ")),(i=t.triggerEl.classList).add.apply(i,n._options.inactiveClasses.split(" ")),t.targetEl.classList.add("hidden"),t.triggerEl.setAttribute("aria-expanded","false"),t.active=!1,t.iconEl&&t.iconEl.classList.add("rotate-180"))})),(e=r.triggerEl.classList).add.apply(e,this._options.activeClasses.split(" ")),(i=r.triggerEl.classList).remove.apply(i,this._options.inactiveClasses.split(" ")),r.triggerEl.setAttribute("aria-expanded","true"),r.targetEl.classList.remove("hidden"),r.active=!0,r.iconEl&&r.iconEl.classList.remove("rotate-180"),this._options.onOpen(this,r)},t.prototype.toggle=function(t){var e=this.getItem(t);e.active?this.close(t):this.open(t),this._options.onToggle(this,e)},t.prototype.close=function(t){var e,i,n=this.getItem(t);(e=n.triggerEl.classList).remove.apply(e,this._options.activeClasses.split(" ")),(i=n.triggerEl.classList).add.apply(i,this._options.inactiveClasses.split(" ")),n.targetEl.classList.add("hidden"),n.triggerEl.setAttribute("aria-expanded","false"),n.active=!1,n.iconEl&&n.iconEl.classList.add("rotate-180"),this._options.onClose(this,n)},t.prototype.updateOnOpen=function(t){this._options.onOpen=t},t.prototype.updateOnClose=function(t){this._options.onClose=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();e.initAccordions=n,"undefined"!=typeof window&&(window.Accordion=l,window.initAccordions=n),e.default=l},33:function(t,e,i){function n(){document.querySelectorAll("[data-carousel]").forEach((function(t){var e=t.getAttribute("data-carousel-interval"),i="slide"===t.getAttribute("data-carousel"),n=[],r=0;t.querySelectorAll("[data-carousel-item]").length&&Array.from(t.querySelectorAll("[data-carousel-item]")).map((function(t,e){n.push({position:e,el:t}),"active"===t.getAttribute("data-carousel-item")&&(r=e)}));var o=[];t.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(t.querySelectorAll("[data-carousel-slide-to]")).map((function(t){o.push({position:parseInt(t.getAttribute("data-carousel-slide-to")),el:t})}));var a=new l(t,n,{defaultPosition:r,indicators:{items:o},interval:e||s.interval});i&&a.cycle();var c=t.querySelector("[data-carousel-next]"),u=t.querySelector("[data-carousel-prev]");c&&c.addEventListener("click",(function(){a.next()})),u&&u.addEventListener("click",(function(){a.prev()}))}))}var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.initCarousels=void 0;var o=i(423),s={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},a={id:null,override:!0},l=function(){function t(t,e,i,n){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===i&&(i=s),void 0===n&&(n=a),this._instanceId=n.id?n.id:t.id,this._carouselEl=t,this._items=e,this._options=r(r(r({},s),i),{indicators:r(r({},s.indicators),i.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._initialized=!1,this.init(),o.default.addInstance("Carousel",this,this._instanceId,n.override)}return t.prototype.init=function(){var t=this;this._items.length&&!this._initialized&&(this._items.map((function(t){t.el.classList.add("absolute","inset-0","transition-transform","transform")})),this.getActiveItem()?this.slideTo(this.getActiveItem().position):this.slideTo(0),this._indicators.map((function(e,i){e.el.addEventListener("click",(function(){t.slideTo(i)}))})),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},t.prototype.removeInstance=function(){o.default.removeInstance("Carousel",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getItem=function(t){return this._items[t]},t.prototype.slideTo=function(t){var e=this._items[t],i={left:0===e.position?this._items[this._items.length-1]:this._items[e.position-1],middle:e,right:e.position===this._items.length-1?this._items[0]:this._items[e.position+1]};this._rotate(i),this._setActiveItem(e),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},t.prototype.next=function(){var t=this.getActiveItem(),e=null;e=t.position===this._items.length-1?this._items[0]:this._items[t.position+1],this.slideTo(e.position),this._options.onNext(this)},t.prototype.prev=function(){var t=this.getActiveItem(),e=null;e=0===t.position?this._items[this._items.length-1]:this._items[t.position-1],this.slideTo(e.position),this._options.onPrev(this)},t.prototype._rotate=function(t){if(this._items.map((function(t){t.el.classList.add("hidden")})),1===this._items.length)return t.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),void t.middle.el.classList.add("translate-x-0","z-20");t.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),t.left.el.classList.add("-translate-x-full","z-10"),t.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),t.middle.el.classList.add("translate-x-0","z-30"),t.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-30"),t.right.el.classList.add("translate-x-full","z-20")},t.prototype.cycle=function(){var t=this;"undefined"!=typeof window&&(this._intervalInstance=window.setInterval((function(){t.next()}),this._intervalDuration))},t.prototype.pause=function(){clearInterval(this._intervalInstance)},t.prototype.getActiveItem=function(){return this._activeItem},t.prototype._setActiveItem=function(t){var e,i,n=this;this._activeItem=t;var r=t.position;this._indicators.length&&(this._indicators.map((function(t){var e,i;t.el.setAttribute("aria-current","false"),(e=t.el.classList).remove.apply(e,n._options.indicators.activeClasses.split(" ")),(i=t.el.classList).add.apply(i,n._options.indicators.inactiveClasses.split(" "))})),(e=this._indicators[r].el.classList).add.apply(e,this._options.indicators.activeClasses.split(" ")),(i=this._indicators[r].el.classList).remove.apply(i,this._options.indicators.inactiveClasses.split(" ")),this._indicators[r].el.setAttribute("aria-current","true"))},t.prototype.updateOnNext=function(t){this._options.onNext=t},t.prototype.updateOnPrev=function(t){this._options.onPrev=t},t.prototype.updateOnChange=function(t){this._options.onChange=t},t}();e.initCarousels=n,"undefined"!=typeof window&&(window.Carousel=l,window.initCarousels=n),e.default=l},673:function(t,e,i){function n(){document.querySelectorAll("[data-copy-to-clipboard-target]").forEach((function(t){var e=t.getAttribute("data-copy-to-clipboard-target"),i=document.getElementById(e),n=t.getAttribute("data-copy-to-clipboard-content-type"),r=t.getAttribute("data-copy-to-clipboard-html-entities");i?o.default.instanceExists("CopyClipboard",i.getAttribute("id"))||new l(t,i,{htmlEntities:!(!r||"true"!==r)||s.htmlEntities,contentType:n||s.contentType}):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-copy-to-clipboard-target attribute.'))}))}var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.initCopyClipboards=void 0;var o=i(423),s={htmlEntities:!1,contentType:"input",onCopy:function(){}},a={id:null,override:!0},l=function(){function t(t,e,i,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=s),void 0===n&&(n=a),this._instanceId=n.id?n.id:e.id,this._triggerEl=t,this._targetEl=e,this._options=r(r({},s),i),this._initialized=!1,this.init(),o.default.addInstance("CopyClipboard",this,this._instanceId,n.override)}return t.prototype.init=function(){var t=this;this._targetEl&&this._triggerEl&&!this._initialized&&(this._triggerElClickHandler=function(){t.copy()},this._triggerEl&&this._triggerEl.addEventListener("click",this._triggerElClickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._targetEl&&this._initialized&&(this._triggerEl&&this._triggerEl.removeEventListener("click",this._triggerElClickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){o.default.removeInstance("CopyClipboard",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getTargetValue=function(){return"input"===this._options.contentType?this._targetEl.value:"innerHTML"===this._options.contentType?this._targetEl.innerHTML:"textContent"===this._options.contentType?this._targetEl.textContent.replace(/\s+/g," ").trim():void 0},t.prototype.copy=function(){var t=this.getTargetValue();this._options.htmlEntities&&(t=this.decodeHTML(t));var e=document.createElement("textarea");return e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),this._options.onCopy(this),t},t.prototype.decodeHTML=function(t){var e=document.createElement("textarea");return e.innerHTML=t,e.textContent},t.prototype.updateOnCopyCallback=function(t){this._options.onCopy=t},t}();e.initCopyClipboards=n,"undefined"!=typeof window&&(window.CopyClipboard=l,window.initClipboards=n),e.default=l},922:function(t,e,i){function n(){document.querySelectorAll("[data-collapse-toggle]").forEach((function(t){var e=t.getAttribute("data-collapse-toggle"),i=document.getElementById(e);i?o.default.instanceExists("Collapse",i.getAttribute("id"))?new l(i,t,{},{id:i.getAttribute("id")+"_"+o.default._generateRandomId()}):new l(i,t):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-collapse-toggle attribute.'))}))}var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.initCollapses=void 0;var o=i(423),s={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},a={id:null,override:!0},l=function(){function t(t,e,i,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=s),void 0===n&&(n=a),this._instanceId=n.id?n.id:t.id,this._targetEl=t,this._triggerEl=e,this._options=r(r({},s),i),this._visible=!1,this._initialized=!1,this.init(),o.default.addInstance("Collapse",this,this._instanceId,n.override)}return t.prototype.init=function(){var t=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible="true"===this._triggerEl.getAttribute("aria-expanded"):this._visible=!this._targetEl.classList.contains("hidden"),this._clickHandler=function(){t.toggle()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){o.default.removeInstance("Collapse",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},t.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},t.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},t.prototype.updateOnCollapse=function(t){this._options.onCollapse=t},t.prototype.updateOnExpand=function(t){this._options.onExpand=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();e.initCollapses=n,"undefined"!=typeof window&&(window.Collapse=l,window.initCollapses=n),e.default=l},132:function(t,e,i){function n(){document.querySelectorAll("[datepicker], [inline-datepicker], [date-rangepicker]").forEach((function(t){if(t){var e=t.hasAttribute("datepicker-buttons"),i=t.hasAttribute("datepicker-autoselect-today"),n=t.hasAttribute("datepicker-autohide"),r=t.getAttribute("datepicker-format"),o=t.getAttribute("datepicker-max-date"),s=t.getAttribute("datepicker-min-date"),l=t.getAttribute("datepicker-orientation"),u=t.getAttribute("datepicker-title"),d=t.getAttribute("datepicker-language"),h=t.hasAttribute("date-rangepicker");new c(t,{buttons:e||a.buttons,autoSelectToday:i||a.autoSelectToday,autohide:n||a.autohide,format:r||a.format,maxDate:o||a.maxDate,minDate:s||a.minDate,orientation:l||a.orientation,title:u||a.title,language:d||a.language,rangePicker:h||a.rangePicker})}else console.error("The datepicker element does not exist. Please check the datepicker attribute.")}))}var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.initDatepickers=void 0;var o=i(423),s=i(554),a={defaultDatepickerId:null,autohide:!1,format:"mm/dd/yyyy",maxDate:null,minDate:null,orientation:"bottom",buttons:!1,autoSelectToday:0,title:null,language:"en",rangePicker:!1,onShow:function(){},onHide:function(){}},l={id:null,override:!0},c=function(){function t(t,e,i){void 0===t&&(t=null),void 0===e&&(e=a),void 0===i&&(i=l),this._instanceId=i.id?i.id:t.id,this._datepickerEl=t,this._datepickerInstance=null,this._options=r(r({},a),e),this._initialized=!1,this.init(),o.default.addInstance("Datepicker",this,this._instanceId,i.override)}return t.prototype.init=function(){this._datepickerEl&&!this._initialized&&(this._options.rangePicker?this._datepickerInstance=new s.DateRangePicker(this._datepickerEl,this._getDatepickerOptions(this._options)):this._datepickerInstance=new s.Datepicker(this._datepickerEl,this._getDatepickerOptions(this._options)),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1,this._datepickerInstance.destroy())},t.prototype.removeInstance=function(){this.destroy(),o.default.removeInstance("Datepicker",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getDatepickerInstance=function(){return this._datepickerInstance},t.prototype.getDate=function(){return this._options.rangePicker&&this._datepickerInstance instanceof s.DateRangePicker?this._datepickerInstance.getDates():!this._options.rangePicker&&this._datepickerInstance instanceof s.Datepicker?this._datepickerInstance.getDate():void 0},t.prototype.setDate=function(t){return this._options.rangePicker&&this._datepickerInstance instanceof s.DateRangePicker?this._datepickerInstance.setDates(t):!this._options.rangePicker&&this._datepickerInstance instanceof s.Datepicker?this._datepickerInstance.setDate(t):void 0},t.prototype.show=function(){this._datepickerInstance.show(),this._options.onShow(this)},t.prototype.hide=function(){this._datepickerInstance.hide(),this._options.onHide(this)},t.prototype._getDatepickerOptions=function(t){var e={};return t.buttons&&(e.todayBtn=!0,e.clearBtn=!0,t.autoSelectToday&&(e.todayBtnMode=1)),t.autohide&&(e.autohide=!0),t.format&&(e.format=t.format),
t.maxDate&&(e.maxDate=t.maxDate),t.minDate&&(e.minDate=t.minDate),t.orientation&&(e.orientation=t.orientation),t.title&&(e.title=t.title),t.language&&(e.language=t.language),e},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t}();e.initDatepickers=n,"undefined"!=typeof window&&(window.Datepicker=c,window.initDatepickers=n),e.default=c},556:function(t,e,i){function n(){document.querySelectorAll("[data-dial-init]").forEach((function(t){var e=t.querySelector("[data-dial-toggle]");if(e){var i=e.getAttribute("data-dial-toggle"),n=document.getElementById(i);if(n){var r=e.getAttribute("data-dial-trigger");new l(t,e,n,{triggerType:r||s.triggerType})}else console.error("Dial with id ".concat(i," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(t.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))}))}var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.initDials=void 0;var o=i(423),s={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},a={id:null,override:!0},l=function(){function t(t,e,i,n,l){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=s),void 0===l&&(l=a),this._instanceId=l.id?l.id:i.id,this._parentEl=t,this._triggerEl=e,this._targetEl=i,this._options=r(r({},s),n),this._visible=!1,this._initialized=!1,this.init(),o.default.addInstance("Dial",this,this._instanceId,l.override)}return t.prototype.init=function(){var t=this;if(this._triggerEl&&this._targetEl&&!this._initialized){var e=this._getTriggerEventTypes(this._options.triggerType);this._showEventHandler=function(){t.show()},e.showEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._showEventHandler),t._targetEl.addEventListener(e,t._showEventHandler)})),this._hideEventHandler=function(){t._parentEl.matches(":hover")||t.hide()},e.hideEvents.forEach((function(e){t._parentEl.addEventListener(e,t._hideEventHandler)})),this._initialized=!0}},t.prototype.destroy=function(){var t=this;if(this._initialized){var e=this._getTriggerEventTypes(this._options.triggerType);e.showEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._showEventHandler),t._targetEl.removeEventListener(e,t._showEventHandler)})),e.hideEvents.forEach((function(e){t._parentEl.removeEventListener(e,t._hideEventHandler)})),this._initialized=!1}},t.prototype.removeInstance=function(){o.default.removeInstance("Dial",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},t.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},t.prototype.toggle=function(){this._visible?this.hide():this.show()},t.prototype.isHidden=function(){return!this._visible},t.prototype.isVisible=function(){return this._visible},t.prototype._getTriggerEventTypes=function(t){switch(t){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();e.initDials=n,"undefined"!=typeof window&&(window.Dial=l,window.initDials=n),e.default=l},791:function(t,e,i){function n(){document.querySelectorAll("[data-dismiss-target]").forEach((function(t){var e=t.getAttribute("data-dismiss-target"),i=document.querySelector(e);i?new l(i,t):console.error('The dismiss element with id "'.concat(e,'" does not exist. Please check the data-dismiss-target attribute.'))}))}var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.initDismisses=void 0;var o=i(423),s={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},a={id:null,override:!0},l=function(){function t(t,e,i,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=s),void 0===n&&(n=a),this._instanceId=n.id?n.id:t.id,this._targetEl=t,this._triggerEl=e,this._options=r(r({},s),i),this._initialized=!1,this.init(),o.default.addInstance("Dismiss",this,this._instanceId,n.override)}return t.prototype.init=function(){var t=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._clickHandler=function(){t.hide()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){o.default.removeInstance("Dismiss",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){var t=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout((function(){t._targetEl.classList.add("hidden")}),this._options.duration),this._options.onHide(this,this._targetEl)},t.prototype.updateOnHide=function(t){this._options.onHide=t},t}();e.initDismisses=n,"undefined"!=typeof window&&(window.Dismiss=l,window.initDismisses=n),e.default=l},340:function(t,e,i){function n(){document.querySelectorAll("[data-drawer-target]").forEach((function(t){var e=t.getAttribute("data-drawer-target"),i=document.getElementById(e);if(i){var n=t.getAttribute("data-drawer-placement"),r=t.getAttribute("data-drawer-body-scrolling"),o=t.getAttribute("data-drawer-backdrop"),a=t.getAttribute("data-drawer-edge"),c=t.getAttribute("data-drawer-edge-offset");new l(i,{placement:n||s.placement,bodyScrolling:r?"true"===r:s.bodyScrolling,backdrop:o?"true"===o:s.backdrop,edge:a?"true"===a:s.edge,edgeOffset:c||s.edgeOffset})}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})),document.querySelectorAll("[data-drawer-toggle]").forEach((function(t){var e=t.getAttribute("data-drawer-toggle");if(document.getElementById(e)){var i=o.default.getInstance("Drawer",e);if(i){var n=function(){i.toggle()};t.addEventListener("click",n),i.addEventListenerInstance(t,"click",n)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach((function(t){var e=t.getAttribute("data-drawer-dismiss")?t.getAttribute("data-drawer-dismiss"):t.getAttribute("data-drawer-hide");if(document.getElementById(e)){var i=o.default.getInstance("Drawer",e);if(i){var n=function(){i.hide()};t.addEventListener("click",n),i.addEventListenerInstance(t,"click",n)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))})),document.querySelectorAll("[data-drawer-show]").forEach((function(t){var e=t.getAttribute("data-drawer-show");if(document.getElementById(e)){var i=o.default.getInstance("Drawer",e);if(i){var n=function(){i.show()};t.addEventListener("click",n),i.addEventListenerInstance(t,"click",n)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}))}var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.initDrawers=void 0;var o=i(423),s={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},a={id:null,override:!0},l=function(){function t(t,e,i){void 0===t&&(t=null),void 0===e&&(e=s),void 0===i&&(i=a),this._eventListenerInstances=[],this._instanceId=i.id?i.id:t.id,this._targetEl=t,this._options=r(r({},s),e),this._visible=!1,this._initialized=!1,this.init(),o.default.addInstance("Drawer",this,this._instanceId,i.override)}return t.prototype.init=function(){var t=this;this._targetEl&&!this._initialized&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform"),this._getPlacementClasses(this._options.placement).base.map((function(e){t._targetEl.classList.add(e)})),this._handleEscapeKey=function(e){"Escape"===e.key&&t.isVisible()&&t.hide()},document.addEventListener("keydown",this._handleEscapeKey),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),document.removeEventListener("keydown",this._handleEscapeKey),this._initialized=!1)},t.prototype.removeInstance=function(){o.default.removeInstance("Drawer",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){var t=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map((function(e){t._targetEl.classList.remove(e)})),this._getPlacementClasses(this._options.placement+"-edge").inactive.map((function(e){t._targetEl.classList.add(e)}))):(this._getPlacementClasses(this._options.placement).active.map((function(e){t._targetEl.classList.remove(e)})),this._getPlacementClasses(this._options.placement).inactive.map((function(e){t._targetEl.classList.add(e)}))),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},t.prototype.show=function(){var t=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map((function(e){t._targetEl.classList.add(e)})),this._getPlacementClasses(this._options.placement+"-edge").inactive.map((function(e){t._targetEl.classList.remove(e)}))):(this._getPlacementClasses(this._options.placement).active.map((function(e){t._targetEl.classList.add(e)})),this._getPlacementClasses(this._options.placement).inactive.map((function(e){t._targetEl.classList.remove(e)}))),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},t.prototype._createBackdrop=function(){var t,e=this;if(!this._visible){var i=document.createElement("div");i.setAttribute("drawer-backdrop",""),(t=i.classList).add.apply(t,this._options.backdropClasses.split(" ")),document.querySelector("body").append(i),i.addEventListener("click",(function(){e.hide()}))}},t.prototype._destroyBackdropEl=function(){this._visible&&null!==document.querySelector("[drawer-backdrop]")&&document.querySelector("[drawer-backdrop]").remove()},t.prototype._getPlacementClasses=function(t){switch(t){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]}}},t.prototype.isHidden=function(){return!this._visible},t.prototype.isVisible=function(){return this._visible},t.prototype.addEventListenerInstance=function(t,e,i){this._eventListenerInstances.push({element:t,type:e,handler:i})},t.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map((function(t){t.element.removeEventListener(t.type,t.handler)})),this._eventListenerInstances=[]},t.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();e.initDrawers=n,"undefined"!=typeof window&&(window.Drawer=l,window.initDrawers=n),e.default=l},316:function(t,e,i){function n(){document.querySelectorAll("[data-dropdown-toggle]").forEach((function(t){var e=t.getAttribute("data-dropdown-toggle"),i=document.getElementById(e);if(i){var n=t.getAttribute("data-dropdown-placement"),r=t.getAttribute("data-dropdown-offset-skidding"),o=t.getAttribute("data-dropdown-offset-distance"),s=t.getAttribute("data-dropdown-trigger"),a=t.getAttribute("data-dropdown-delay"),c=t.getAttribute("data-dropdown-ignore-click-outside-class");new u(i,t,{placement:n||l.placement,triggerType:s||l.triggerType,offsetSkidding:r?parseInt(r):l.offsetSkidding,offsetDistance:o?parseInt(o):l.offsetDistance,delay:a?parseInt(a):l.delay,ignoreClickOutsideClass:c||l.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(e,'" does not exist. Please check the data-dropdown-toggle attribute.'))}))}var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)},o=this&&this.__spreadArray||function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.initDropdowns=void 0;var s=i(853),a=i(423),l={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},c={id:null,override:!0},u=function(){function t(t,e,i,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=l),void 0===n&&(n=c),this._instanceId=n.id?n.id:t.id,this._targetEl=t,this._triggerEl=e,this._options=r(r({},l),i),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),a.default.addInstance("Dropdown",this,this._instanceId,n.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._popperInstance=this._createPopperInstance(),this._setupEventListeners(),this._initialized=!0)},t.prototype.destroy=function(){var t=this,e=this._getTriggerEvents();"click"===this._options.triggerType&&e.showEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._clickHandler)})),"hover"===this._options.triggerType&&(e.showEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._hoverShowTriggerElHandler),t._targetEl.removeEventListener(e,t._hoverShowTargetElHandler)})),e.hideEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._hoverHideHandler),t._targetEl.removeEventListener(e,t._hoverHideHandler)}))),this._popperInstance.destroy(),this._initialized=!1},t.prototype.removeInstance=function(){a.default.removeInstance("Dropdown",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var t=this,e=this._getTriggerEvents();this._clickHandler=function(){t.toggle()},"click"===this._options.triggerType&&e.showEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._clickHandler)})),this._hoverShowTriggerElHandler=function(e){"click"===e.type?t.toggle():setTimeout((function(){t.show()}),t._options.delay)},this._hoverShowTargetElHandler=function(){t.show()},this._hoverHideHandler=function(){setTimeout((function(){t._targetEl.matches(":hover")||t.hide()}),t._options.delay)},"hover"===this._options.triggerType&&(e.showEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._hoverShowTriggerElHandler),t._targetEl.addEventListener(e,t._hoverShowTargetElHandler)})),e.hideEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._hoverHideHandler),t._targetEl.addEventListener(e,t._hoverHideHandler)})))},t.prototype._createPopperInstance=function(){return(0,s.createPopper)(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},t.prototype._setupClickOutsideListener=function(){var t=this;this._clickOutsideEventListener=function(e){t._handleClickOutside(e,t._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(t,e){var i=t.target,n=this._options.ignoreClickOutsideClass,r=!1;n&&document.querySelectorAll(".".concat(n)).forEach((function(t){t.contains(i)&&(r=!0)})),i===e||e.contains(i)||this._triggerEl.contains(i)||r||!this.isVisible()||this.hide()},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":default:return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]}}},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},t.prototype.isVisible=function(){return this._visible},t.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._targetEl.removeAttribute("aria-hidden"),this._popperInstance.setOptions((function(t){return r(r({},t),{modifiers:o(o([],t.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})})),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._targetEl.setAttribute("aria-hidden","true"),this._popperInstance.setOptions((function(t){return r(r({},t),{modifiers:o(o([],t.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})})),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();e.initDropdowns=n,"undefined"!=typeof window&&(window.Dropdown=u,window.initDropdowns=n),e.default=u},311:function(t,e,i){function n(){(0,r.initAccordions)(),(0,a.initCollapses)(),(0,o.initCarousels)(),(0,c.initDismisses)(),(0,d.initDropdowns)(),(0,p.initModals)(),(0,u.initDrawers)(),(0,g.initTabs)(),(0,m.initTooltips)(),(0,f.initPopovers)(),(0,l.initDials)(),(0,h.initInputCounters)(),(0,s.initCopyClipboards)(),(0,v.initDatepickers)()}Object.defineProperty(e,"__esModule",{value:!0}),e.initFlowbite=void 0;var r=i(902),o=i(33),s=i(673),a=i(922),l=i(556),c=i(791),u=i(340),d=i(316),h=i(656),p=i(16),f=i(903),g=i(247),m=i(671),v=i(132);e.initFlowbite=n,"undefined"!=typeof window&&(window.initFlowbite=n)},656:function(t,e,i){function n(){document.querySelectorAll("[data-input-counter]").forEach((function(t){var e=t.id,i=document.querySelector('[data-input-counter-increment="'+e+'"]'),n=document.querySelector('[data-input-counter-decrement="'+e+'"]'),r=t.getAttribute("data-input-counter-min"),s=t.getAttribute("data-input-counter-max");t?o.default.instanceExists("InputCounter",t.getAttribute("id"))||new l(t,i||null,n||null,{minValue:r?parseInt(r):null,maxValue:s?parseInt(s):null}):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-input-counter attribute.'))}))}var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.initInputCounters=void 0;var o=i(423),s={minValue:null,maxValue:null,onIncrement:function(){},onDecrement:function(){}},a={id:null,override:!0},l=function(){function t(t,e,i,n,l){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=s),void 0===l&&(l=a),this._instanceId=l.id?l.id:t.id,this._targetEl=t,this._incrementEl=e,this._decrementEl=i,this._options=r(r({},s),n),this._initialized=!1,this.init(),o.default.addInstance("InputCounter",this,this._instanceId,l.override)}return t.prototype.init=function(){var t=this;this._targetEl&&!this._initialized&&(this._inputHandler=function(e){var i=e.target;/^\d*$/.test(i.value)||(i.value=i.value.replace(/[^\d]/g,"")),null!==t._options.maxValue&&parseInt(i.value)>t._options.maxValue&&(i.value=t._options.maxValue.toString()),null!==t._options.minValue&&parseInt(i.value)<t._options.minValue&&(i.value=t._options.minValue.toString())},this._incrementClickHandler=function(){t.increment()},this._decrementClickHandler=function(){t.decrement()},this._targetEl.addEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.addEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.addEventListener("click",this._decrementClickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._targetEl&&this._initialized&&(this._targetEl.removeEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.removeEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.removeEventListener("click",this._decrementClickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){o.default.removeInstance("InputCounter",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getCurrentValue=function(){return parseInt(this._targetEl.value)||0},t.prototype.increment=function(){null!==this._options.maxValue&&this.getCurrentValue()>=this._options.maxValue||(this._targetEl.value=(this.getCurrentValue()+1).toString(),this._options.onIncrement(this))},t.prototype.decrement=function(){null!==this._options.minValue&&this.getCurrentValue()<=this._options.minValue||(this._targetEl.value=(this.getCurrentValue()-1).toString(),this._options.onDecrement(this))},t.prototype.updateOnIncrement=function(t){this._options.onIncrement=t},t.prototype.updateOnDecrement=function(t){this._options.onDecrement=t},t}();e.initInputCounters=n,"undefined"!=typeof window&&(window.InputCounter=l,window.initInputCounters=n),e.default=l},16:function(t,e,i){function n(){document.querySelectorAll("[data-modal-target]").forEach((function(t){var e=t.getAttribute("data-modal-target"),i=document.getElementById(e);if(i){var n=i.getAttribute("data-modal-placement"),r=i.getAttribute("data-modal-backdrop");new l(i,{placement:n||s.placement,backdrop:r||s.backdrop})}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))})),document.querySelectorAll("[data-modal-toggle]").forEach((function(t){var e=t.getAttribute("data-modal-toggle");if(document.getElementById(e)){var i=o.default.getInstance("Modal",e);if(i){var n=function(){i.toggle()};t.addEventListener("click",n),i.addEventListenerInstance(t,"click",n)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))})),document.querySelectorAll("[data-modal-show]").forEach((function(t){var e=t.getAttribute("data-modal-show");if(document.getElementById(e)){var i=o.default.getInstance("Modal",e);if(i){var n=function(){i.show()};t.addEventListener("click",n),i.addEventListenerInstance(t,"click",n)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))})),document.querySelectorAll("[data-modal-hide]").forEach((function(t){var e=t.getAttribute("data-modal-hide");if(document.getElementById(e)){var i=o.default.getInstance("Modal",e);if(i){var n=function(){i.hide()};t.addEventListener("click",n),i.addEventListenerInstance(t,"click",n)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))}))}var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.initModals=void 0;var o=i(423),s={placement:"center",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},a={id:null,override:!0},l=function(){function t(t,e,i){void 0===t&&(t=null),void 0===e&&(e=s),void 0===i&&(i=a),this._eventListenerInstances=[],this._instanceId=i.id?i.id:t.id,this._targetEl=t,this._options=r(r({},s),e),this._isHidden=!0,this._backdropEl=null,this._initialized=!1,this.init(),o.default.addInstance("Modal",this,this._instanceId,i.override)}return t.prototype.init=function(){var t=this;this._targetEl&&!this._initialized&&(this._getPlacementClasses().map((function(e){t._targetEl.classList.add(e)})),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),this._initialized=!1)},t.prototype.removeInstance=function(){o.default.removeInstance("Modal",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._createBackdrop=function(){var t;if(this._isHidden){var e=document.createElement("div");(t=e.classList).add.apply(t,this._options.backdropClasses.split(" ")),document.querySelector("body").append(e),this._backdropEl=e}},t.prototype._destroyBackdropEl=function(){!this._isHidden&&this._backdropEl&&(this._backdropEl.remove(),this._backdropEl=null)},t.prototype._setupModalCloseEventListeners=function(){var t=this;"dynamic"===this._options.backdrop&&(this._clickOutsideEventListener=function(e){t._handleOutsideClick(e.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(e){"Escape"===e.key&&t.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeModalCloseEventListeners=function(){"dynamic"===this._options.backdrop&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._handleOutsideClick=function(t){(t===this._targetEl||t===this._backdropEl&&this.isVisible())&&this.hide()},t.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":default:return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"]}},t.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},t.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,this._options.closable&&this._setupModalCloseEventListeners(),document.body.classList.add("overflow-hidden"),this._options.onShow(this))},t.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},t.prototype.isVisible=function(){return!this._isHidden},t.prototype.isHidden=function(){return this._isHidden},t.prototype.addEventListenerInstance=function(t,e,i){this._eventListenerInstances.push({element:t,type:e,handler:i})},t.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map((function(t){t.element.removeEventListener(t.type,t.handler)})),this._eventListenerInstances=[]},t.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();e.initModals=n,"undefined"!=typeof window&&(window.Modal=l,window.initModals=n),e.default=l},903:function(t,e,i){function n(){document.querySelectorAll("[data-popover-target]").forEach((function(t){var e=t.getAttribute("data-popover-target"),i=document.getElementById(e);if(i){var n=t.getAttribute("data-popover-trigger"),r=t.getAttribute("data-popover-placement"),o=t.getAttribute("data-popover-offset");new u(i,t,{placement:r||l.placement,offset:o?parseInt(o):l.offset,triggerType:n||l.triggerType})}else console.error('The popover element with id "'.concat(e,'" does not exist. Please check the data-popover-target attribute.'))}))}var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)},o=this&&this.__spreadArray||function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.initPopovers=void 0;var s=i(853),a=i(423),l={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},c={id:null,override:!0},u=function(){function t(t,e,i,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=l),void 0===n&&(n=c),this._instanceId=n.id?n.id:t.id,this._targetEl=t,this._triggerEl=e,this._options=r(r({},l),i),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),a.default.addInstance("Popover",this,n.id?n.id:this._targetEl.id,n.override)}return t.prototype.init=function(){
this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},t.prototype.destroy=function(){var t=this;if(this._initialized){var e=this._getTriggerEvents();e.showEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._showHandler),t._targetEl.removeEventListener(e,t._showHandler)})),e.hideEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._hideHandler),t._targetEl.removeEventListener(e,t._hideHandler)})),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},t.prototype.removeInstance=function(){a.default.removeInstance("Popover",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var t=this,e=this._getTriggerEvents();this._showHandler=function(){t.show()},this._hideHandler=function(){setTimeout((function(){t._targetEl.matches(":hover")||t.hide()}),100)},e.showEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._showHandler),t._targetEl.addEventListener(e,t._showHandler)})),e.hideEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._hideHandler),t._targetEl.addEventListener(e,t._hideHandler)}))},t.prototype._createPopperInstance=function(){return(0,s.createPopper)(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},t.prototype._setupKeydownListener=function(){var t=this;this._keydownEventListener=function(e){"Escape"===e.key&&t.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._setupClickOutsideListener=function(){var t=this;this._clickOutsideEventListener=function(e){t._handleClickOutside(e,t._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(t,e){var i=t.target;i===e||e.contains(i)||this._triggerEl.contains(i)||!this.isVisible()||this.hide()},t.prototype.isVisible=function(){return this._visible},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},t.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions((function(t){return r(r({},t),{modifiers:o(o([],t.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})})),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions((function(t){return r(r({},t),{modifiers:o(o([],t.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})})),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();e.initPopovers=n,"undefined"!=typeof window&&(window.Popover=u,window.initPopovers=n),e.default=u},247:function(t,e,i){function n(){document.querySelectorAll("[data-tabs-toggle]").forEach((function(t){var e=[],i=t.getAttribute("data-tabs-active-classes"),n=t.getAttribute("data-tabs-inactive-classes"),r=null;t.querySelectorAll('[role="tab"]').forEach((function(t){var i="true"===t.getAttribute("aria-selected"),n={id:t.getAttribute("data-tabs-target"),triggerEl:t,targetEl:document.querySelector(t.getAttribute("data-tabs-target"))};e.push(n),i&&(r=n.id)})),new l(t,e,{defaultTabId:r,activeClasses:i||s.activeClasses,inactiveClasses:n||s.inactiveClasses})}))}var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.initTabs=void 0;var o=i(423),s={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},a={id:null,override:!0},l=function(){function t(t,e,i,n){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===i&&(i=s),void 0===n&&(n=a),this._instanceId=n.id?n.id:t.id,this._tabsEl=t,this._items=e,this._activeTab=i?this.getTab(i.defaultTabId):null,this._options=r(r({},s),i),this._initialized=!1,this.init(),o.default.addInstance("Tabs",this,this._instanceId,n.override)}return t.prototype.init=function(){var t=this;this._items.length&&!this._initialized&&(this._activeTab||this.setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map((function(e){e.triggerEl.addEventListener("click",(function(i){i.preventDefault(),t.show(e.id)}))})))},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},t.prototype.removeInstance=function(){this.destroy(),o.default.removeInstance("Tabs",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getActiveTab=function(){return this._activeTab},t.prototype.setActiveTab=function(t){this._activeTab=t},t.prototype.getTab=function(t){return this._items.filter((function(e){return e.id===t}))[0]},t.prototype.show=function(t,e){var i,n,r=this;void 0===e&&(e=!1);var o=this.getTab(t);(o!==this._activeTab||e)&&(this._items.map((function(t){var e,i;t!==o&&((e=t.triggerEl.classList).remove.apply(e,r._options.activeClasses.split(" ")),(i=t.triggerEl.classList).add.apply(i,r._options.inactiveClasses.split(" ")),t.targetEl.classList.add("hidden"),t.triggerEl.setAttribute("aria-selected","false"))})),(i=o.triggerEl.classList).add.apply(i,this._options.activeClasses.split(" ")),(n=o.triggerEl.classList).remove.apply(n,this._options.inactiveClasses.split(" ")),o.triggerEl.setAttribute("aria-selected","true"),o.targetEl.classList.remove("hidden"),this.setActiveTab(o),this._options.onShow(this,o))},t.prototype.updateOnShow=function(t){this._options.onShow=t},t}();e.initTabs=n,"undefined"!=typeof window&&(window.Tabs=l,window.initTabs=n),e.default=l},671:function(t,e,i){function n(){document.querySelectorAll("[data-tooltip-target]").forEach((function(t){var e=t.getAttribute("data-tooltip-target"),i=document.getElementById(e);if(i){var n=t.getAttribute("data-tooltip-trigger"),r=t.getAttribute("data-tooltip-placement");new u(i,t,{placement:r||l.placement,triggerType:n||l.triggerType})}else console.error('The tooltip element with id "'.concat(e,'" does not exist. Please check the data-tooltip-target attribute.'))}))}var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)},o=this&&this.__spreadArray||function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.initTooltips=void 0;var s=i(853),a=i(423),l={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},c={id:null,override:!0},u=function(){function t(t,e,i,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=l),void 0===n&&(n=c),this._instanceId=n.id?n.id:t.id,this._targetEl=t,this._triggerEl=e,this._options=r(r({},l),i),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),a.default.addInstance("Tooltip",this,this._instanceId,n.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},t.prototype.destroy=function(){var t=this;if(this._initialized){var e=this._getTriggerEvents();e.showEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._showHandler)})),e.hideEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._hideHandler)})),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},t.prototype.removeInstance=function(){a.default.removeInstance("Tooltip",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var t=this,e=this._getTriggerEvents();this._showHandler=function(){t.show()},this._hideHandler=function(){t.hide()},e.showEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._showHandler)})),e.hideEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._hideHandler)}))},t.prototype._createPopperInstance=function(){return(0,s.createPopper)(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},t.prototype._setupKeydownListener=function(){var t=this;this._keydownEventListener=function(e){"Escape"===e.key&&t.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._setupClickOutsideListener=function(){var t=this;this._clickOutsideEventListener=function(e){t._handleClickOutside(e,t._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(t,e){var i=t.target;i===e||e.contains(i)||this._triggerEl.contains(i)||!this.isVisible()||this.hide()},t.prototype.isVisible=function(){return this._visible},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},t.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions((function(t){return r(r({},t),{modifiers:o(o([],t.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})})),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions((function(t){return r(r({},t),{modifiers:o(o([],t.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})})),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();e.initTooltips=n,"undefined"!=typeof window&&(window.Tooltip=u,window.initTooltips=n),e.default=u},947:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){void 0===e&&(e=[]),this._eventType=t,this._eventFunctions=e}return t.prototype.init=function(){var t=this;this._eventFunctions.forEach((function(e){"undefined"!=typeof window&&window.addEventListener(t._eventType,e)}))},t}();e.default=i},423:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=new(function(){function t(){this._instances={Accordion:{},Carousel:{},Collapse:{},Dial:{},Dismiss:{},Drawer:{},Dropdown:{},Modal:{},Popover:{},Tabs:{},Tooltip:{},InputCounter:{},CopyClipboard:{},Datepicker:{}}}return t.prototype.addInstance=function(t,e,i,n){if(void 0===n&&(n=!1),!this._instances[t])return console.warn("Flowbite: Component ".concat(t," does not exist.")),!1;!this._instances[t][i]||n?(n&&this._instances[t][i]&&this._instances[t][i].destroyAndRemoveInstance(),this._instances[t][i||this._generateRandomId()]=e):console.warn("Flowbite: Instance with ID ".concat(i," already exists."))},t.prototype.getAllInstances=function(){return this._instances},t.prototype.getInstances=function(t){return this._instances[t]?this._instances[t]:(console.warn("Flowbite: Component ".concat(t," does not exist.")),!1)},t.prototype.getInstance=function(t,e){if(this._componentAndInstanceCheck(t,e)){if(this._instances[t][e])return this._instances[t][e];console.warn("Flowbite: Instance with ID ".concat(e," does not exist."))}},t.prototype.destroyAndRemoveInstance=function(t,e){this._componentAndInstanceCheck(t,e)&&(this.destroyInstanceObject(t,e),this.removeInstance(t,e))},t.prototype.removeInstance=function(t,e){this._componentAndInstanceCheck(t,e)&&delete this._instances[t][e]},t.prototype.destroyInstanceObject=function(t,e){this._componentAndInstanceCheck(t,e)&&this._instances[t][e].destroy()},t.prototype.instanceExists=function(t,e){return!!this._instances[t]&&!!this._instances[t][e]},t.prototype._generateRandomId=function(){return Math.random().toString(36).substr(2,9)},t.prototype._componentAndInstanceCheck=function(t,e){return this._instances[t]?!!this._instances[t][e]||(console.warn("Flowbite: Instance with ID ".concat(e," does not exist.")),!1):(console.warn("Flowbite: Component ".concat(t," does not exist.")),!1)},t}());e.default=i,"undefined"!=typeof window&&(window.FlowbiteInstances=i)}},i={};t.d=function(e,i){for(var n in i)t.o(i,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:i[n]})},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return function(){var e=n;Object.defineProperty(e,"__esModule",{value:!0});var i=t(902),r=t(33),o=t(922),s=t(556),a=t(791),l=t(340),c=t(316),u=t(16),d=t(903),h=t(247),p=t(671),f=t(656),g=t(673),m=t(132),v=t(311),y=t(947),b=new Event("turbo:after-stream-render");addEventListener("turbo:before-stream-render",(function(t){var e=t.detail.render;t.detail.render=function(t){e(t),window.dispatchEvent(b)}})),new y.default("turbo:load",[v.initFlowbite]).init(),new y.default("turbo:frame-load",[v.initFlowbite]).init(),new y.default("turbo:after-stream-render",[v.initFlowbite]).init(),e.default={Accordion:i.default,Carousel:r.default,Collapse:o.default,Dial:s.default,Drawer:l.default,Dismiss:a.default,Dropdown:c.default,Modal:u.default,Popover:d.default,Tabs:h.default,Tooltip:p.default,InputCounter:f.default,CopyClipboard:g.default,Datepicker:m.default,Events:y.default}}(),n}()},"object"==typeof t&&"object"==typeof e?e.exports=n():"function"==typeof define&&define.amd?define("Flowbite",[],n):"object"==typeof t?t.Flowbite=n():i.Flowbite=n()}}),Sd=class{constructor(t,e,i){this.eventTarget=t,this.eventName=e,this.eventOptions=i,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(t){this.unorderedBindings.add(t)}bindingDisconnected(t){this.unorderedBindings.delete(t)}handleEvent(t){const e=bt(t);for(const t of this.bindings){if(e.immediatePropagationStopped)break;t.handleEvent(e)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort(((t,e)=>{const i=t.index,n=e.index;return i<n?-1:i>n?1:0}))}},Od=class{constructor(t){this.application=t,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach((t=>t.connect())))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach((t=>t.disconnect())))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce(((t,e)=>t.concat(Array.from(e.values()))),[])}bindingConnected(t){this.fetchEventListenerForBinding(t).bindingConnected(t)}bindingDisconnected(t,e=!1){this.fetchEventListenerForBinding(t).bindingDisconnected(t),e&&this.clearEventListenersForBinding(t)}handleError(t,e,i={}){this.application.handleError(t,`Error ${e}`,i)}clearEventListenersForBinding(t){const e=this.fetchEventListenerForBinding(t);e.hasBindings()||(e.disconnect(),this.removeMappedEventListenerFor(t))}removeMappedEventListenerFor(t){const{eventTarget:e,eventName:i,eventOptions:n}=t,r=this.fetchEventListenerMapForEventTarget(e),o=this.cacheKey(i,n);r.delete(o),0==r.size&&this.eventListenerMaps.delete(e)}fetchEventListenerForBinding(t){const{eventTarget:e,eventName:i,eventOptions:n}=t;return this.fetchEventListener(e,i,n)}fetchEventListener(t,e,i){const n=this.fetchEventListenerMapForEventTarget(t),r=this.cacheKey(e,i);let o=n.get(r);return o||(o=this.createEventListener(t,e,i),n.set(r,o)),o}createEventListener(t,e,i){const n=new Sd(t,e,i);return this.started&&n.connect(),n}fetchEventListenerMapForEventTarget(t){let e=this.eventListenerMaps.get(t);return e||(e=new Map,this.eventListenerMaps.set(t,e)),e}cacheKey(t,e){const i=[t];return Object.keys(e).sort().forEach((t=>{i.push(`${e[t]?"":"!"}${t}`)})),i.join(":")}},Cd={stop:({event:t,value:e})=>(e&&t.stopPropagation(),!0),prevent:({event:t,value:e})=>(e&&t.preventDefault(),!0),self:({event:t,value:e,element:i})=>!e||i===t.target},Td=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/,Dd=["meta","ctrl","alt","shift"],Ld=class{constructor(t,e,i,n){this.element=t,this.index=e,this.eventTarget=i.eventTarget||t,this.eventName=i.eventName||Lt(t)||It("missing event name"),this.eventOptions=i.eventOptions||{},this.identifier=i.identifier||It("missing identifier"),this.methodName=i.methodName||It("missing method name"),this.keyFilter=i.keyFilter||"",this.schema=n}static forToken(t,e){return new this(t.element,t.index,wt(t.content),e)}toString(){const t=this.keyFilter?`.${this.keyFilter}`:"",e=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${t}${e}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(t){if(!this.keyFilter)return!1;const e=this.keyFilter.split("+");if(this.keyFilterDissatisfied(t,e))return!0;const i=e.filter((t=>!Dd.includes(t)))[0];return!!i&&(Dt(this.keyMappings,i)||It(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[i].toLowerCase()!==t.key.toLowerCase())}shouldIgnoreMouseEvent(t){if(!this.keyFilter)return!1;const e=[this.keyFilter];return!!this.keyFilterDissatisfied(t,e)}get params(){const t={},e=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(const{name:i,value:n}of Array.from(this.element.attributes)){const r=i.match(e),o=r&&r[1];o&&(t[Et(o)]=Pt(n))}return t}get eventTargetName(){return xt(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(t,e){const[i,n,r,o]=Dd.map((t=>e.includes(t)));return t.metaKey!==i||t.ctrlKey!==n||t.altKey!==r||t.shiftKey!==o}},Id={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:t=>"submit"==t.getAttribute("type")?"click":"input",select:()=>"change",textarea:()=>"input"},Pd=class{constructor(t,e){this.context=t,this.action=e}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(t){const e=this.prepareActionEvent(t);this.willBeInvokedByEvent(t)&&this.applyEventModifiers(e)&&this.invokeWithEvent(e)}get eventName(){return this.action.eventName}get method(){const t=this.controller[this.methodName];if("function"==typeof t)return t;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(t){const{element:e}=this.action,{actionDescriptorFilters:i}=this.context.application,{controller:n}=this.context;let r=!0;for(const[o,s]of Object.entries(this.eventOptions))if(o in i){const a=i[o];r=r&&a({name:o,value:s,event:t,element:e,controller:n})}return r}prepareActionEvent(t){return Object.assign(t,{params:this.action.params})}invokeWithEvent(t){const{target:e,currentTarget:i}=t;try{this.method.call(this.controller,t),this.context.logDebugActivity(this.methodName,{event:t,target:e,currentTarget:i,action:this.methodName})}catch(e){const{identifier:i,controller:n,element:r,index:o}=this,s={identifier:i,controller:n,element:r,index:o,event:t};this.context.handleError(e,`invoking action "${this.action}"`,s)}}willBeInvokedByEvent(t){const e=t.target;return!(t instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(t))&&(!(t instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(t))&&(this.element===e||(e instanceof Element&&this.element.contains(e)?this.scope.containsElement(e):this.scope.containsElement(this.action.element))))}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}},Md=class{constructor(t,e){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=t,this.started=!1,this.delegate=e,this.elements=new Set,this.mutationObserver=new MutationObserver((t=>this.processMutations(t)))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(t){this.started&&(this.mutationObserver.disconnect(),this.started=!1),t(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){const t=new Set(this.matchElementsInTree());for(const e of Array.from(this.elements))t.has(e)||this.removeElement(e);for(const e of Array.from(t))this.addElement(e)}}processMutations(t){if(this.started)for(const e of t)this.processMutation(e)}processMutation(t){"attributes"==t.type?this.processAttributeChange(t.target,t.attributeName):"childList"==t.type&&(this.processRemovedNodes(t.removedNodes),this.processAddedNodes(t.addedNodes))}processAttributeChange(t,e){this.elements.has(t)?this.delegate.elementAttributeChanged&&this.matchElement(t)?this.delegate.elementAttributeChanged(t,e):this.removeElement(t):this.matchElement(t)&&this.addElement(t)}processRemovedNodes(t){for(const e of Array.from(t)){const t=this.elementFromNode(e);t&&this.processTree(t,this.removeElement)}}processAddedNodes(t){for(const e of Array.from(t)){const t=this.elementFromNode(e);t&&this.elementIsActive(t)&&this.processTree(t,this.addElement)}}matchElement(t){return this.delegate.matchElement(t)}matchElementsInTree(t=this.element){return this.delegate.matchElementsInTree(t)}processTree(t,e){for(const i of this.matchElementsInTree(t))e.call(this,i)}elementFromNode(t){if(t.nodeType==Node.ELEMENT_NODE)return t}elementIsActive(t){return t.isConnected==this.element.isConnected&&this.element.contains(t)}addElement(t){this.elements.has(t)||this.elementIsActive(t)&&(this.elements.add(t),this.delegate.elementMatched&&this.delegate.elementMatched(t))}removeElement(t){this.elements.has(t)&&(this.elements.delete(t),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(t))}},jd=class{constructor(t,e,i){this.attributeName=e,this.delegate=i,this.elementObserver=new Md(t,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(t){this.elementObserver.pause(t)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(t){return t.hasAttribute(this.attributeName)}matchElementsInTree(t){const e=this.matchElement(t)?[t]:[],i=Array.from(t.querySelectorAll(this.selector));return e.concat(i)}elementMatched(t){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(t,this.attributeName)}elementUnmatched(t){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(t,this.attributeName)}elementAttributeChanged(t,e){this.delegate.elementAttributeValueChanged&&this.attributeName==e&&this.delegate.elementAttributeValueChanged(t,e)}},Rd=class{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce(((t,e)=>t.concat(Array.from(e))),[])}get size(){return Array.from(this.valuesByKey.values()).reduce(((t,e)=>t+e.size),0)}add(t,e){Mt(this.valuesByKey,t,e)}delete(t,e){jt(this.valuesByKey,t,e)}has(t,e){const i=this.valuesByKey.get(t);return null!=i&&i.has(e)}hasKey(t){return this.valuesByKey.has(t)}hasValue(t){return Array.from(this.valuesByKey.values()).some((e=>e.has(t)))}getValuesForKey(t){const e=this.valuesByKey.get(t);return e?Array.from(e):[]}getKeysForValue(t){return Array.from(this.valuesByKey).filter((([e,i])=>i.has(t))).map((([t,e])=>t))}},Fd=class{constructor(t,e,i,n){this._selector=e,this.details=n,this.elementObserver=new Md(t,this),this.delegate=i,this.matchesByElement=new Rd}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(t){this._selector=t,this.refresh()}start(){this.elementObserver.start()}pause(t){this.elementObserver.pause(t)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(t){const{selector:e}=this;if(e){const i=t.matches(e);return this.delegate.selectorMatchElement?i&&this.delegate.selectorMatchElement(t,this.details):i}return!1}matchElementsInTree(t){const{selector:e}=this;if(e){const i=this.matchElement(t)?[t]:[],n=Array.from(t.querySelectorAll(e)).filter((t=>this.matchElement(t)));return i.concat(n)}return[]}elementMatched(t){const{selector:e}=this;e&&this.selectorMatched(t,e)}elementUnmatched(t){const e=this.matchesByElement.getKeysForValue(t);for(const i of e)this.selectorUnmatched(t,i)}elementAttributeChanged(t,e){const{selector:i}=this;if(i){const e=this.matchElement(t),n=this.matchesByElement.has(i,t);e&&!n?this.selectorMatched(t,i):!e&&n&&this.selectorUnmatched(t,i)}}selectorMatched(t,e){this.delegate.selectorMatched(t,e,this.details),this.matchesByElement.add(e,t)}selectorUnmatched(t,e){this.delegate.selectorUnmatched(t,e,this.details),this.matchesByElement.delete(e,t)}},Bd=class{constructor(t,e){this.element=t,this.delegate=e,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver((t=>this.processMutations(t)))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(const t of this.knownAttributeNames)this.refreshAttribute(t,null)}processMutations(t){if(this.started)for(const e of t)this.processMutation(e)}processMutation(t){const e=t.attributeName;e&&this.refreshAttribute(e,t.oldValue)}refreshAttribute(t,e){const i=this.delegate.getStringMapKeyForAttribute(t);if(null!=i){this.stringMap.has(t)||this.stringMapKeyAdded(i,t);const n=this.element.getAttribute(t);if(this.stringMap.get(t)!=n&&this.stringMapValueChanged(n,i,e),null==n){const e=this.stringMap.get(t);this.stringMap.delete(t),e&&this.stringMapKeyRemoved(i,t,e)}else this.stringMap.set(t,n)}}stringMapKeyAdded(t,e){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(t,e)}stringMapValueChanged(t,e,i){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(t,e,i)}stringMapKeyRemoved(t,e,i){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(t,e,i)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map((t=>t.name))}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}},Nd=class{constructor(t,e,i){this.attributeObserver=new jd(t,e,this),this.delegate=i,this.tokensByElement=new Rd}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(t){this.attributeObserver.pause(t)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(t){this.tokensMatched(this.readTokensForElement(t))}elementAttributeValueChanged(t){const[e,i]=this.refreshTokensForElement(t);this.tokensUnmatched(e),this.tokensMatched(i)}elementUnmatchedAttribute(t){this.tokensUnmatched(this.tokensByElement.getValuesForKey(t))}tokensMatched(t){t.forEach((t=>this.tokenMatched(t)))}tokensUnmatched(t){t.forEach((t=>this.tokenUnmatched(t)))}tokenMatched(t){this.delegate.tokenMatched(t),this.tokensByElement.add(t.element,t)}tokenUnmatched(t){this.delegate.tokenUnmatched(t),this.tokensByElement.delete(t.element,t)}refreshTokensForElement(t){const e=this.tokensByElement.getValuesForKey(t),i=this.readTokensForElement(t),n=Nt(e,i).findIndex((([t,e])=>!Vt(t,e)));return-1==n?[[],[]]:[e.slice(n),i.slice(n)]}readTokensForElement(t){const e=this.attributeName;return Bt(t.getAttribute(e)||"",t,e)}},Vd=class{constructor(t,e,i){this.tokenListObserver=new Nd(t,e,this),this.delegate=i,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(t){const{element:e}=t,{value:i}=this.fetchParseResultForToken(t);i&&(this.fetchValuesByTokenForElement(e).set(t,i),this.delegate.elementMatchedValue(e,i))}tokenUnmatched(t){const{element:e}=t,{value:i}=this.fetchParseResultForToken(t);i&&(this.fetchValuesByTokenForElement(e).delete(t),this.delegate.elementUnmatchedValue(e,i))}fetchParseResultForToken(t){let e=this.parseResultsByToken.get(t);return e||(e=this.parseToken(t),this.parseResultsByToken.set(t,e)),e}fetchValuesByTokenForElement(t){let e=this.valuesByTokenByElement.get(t);return e||(e=new Map,this.valuesByTokenByElement.set(t,e)),e}parseToken(t){try{return{value:this.delegate.parseValueForToken(t)}}catch(t){return{error:t}}}},Hd=class{constructor(t,e){this.context=t,this.delegate=e,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new Vd(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(t){const e=new Pd(this.context,t);this.bindingsByAction.set(t,e),this.delegate.bindingConnected(e)}disconnectAction(t){const e=this.bindingsByAction.get(t);e&&(this.bindingsByAction.delete(t),this.delegate.bindingDisconnected(e))}disconnectAllActions(){this.bindings.forEach((t=>this.delegate.bindingDisconnected(t,!0))),this.bindingsByAction.clear()}parseValueForToken(t){const e=Ld.forToken(t,this.schema);if(e.identifier==this.identifier)return e}elementMatchedValue(t,e){this.connectAction(e)}elementUnmatchedValue(t,e){this.disconnectAction(e)}},zd=class{constructor(t,e){this.context=t,
this.receiver=e,this.stringMapObserver=new Bd(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(t){if(t in this.valueDescriptorMap)return this.valueDescriptorMap[t].name}stringMapKeyAdded(t,e){const i=this.valueDescriptorMap[e];this.hasValue(t)||this.invokeChangedCallback(t,i.writer(this.receiver[t]),i.writer(i.defaultValue))}stringMapValueChanged(t,e,i){const n=this.valueDescriptorNameMap[e];null!==t&&(null===i&&(i=n.writer(n.defaultValue)),this.invokeChangedCallback(e,t,i))}stringMapKeyRemoved(t,e,i){const n=this.valueDescriptorNameMap[t];this.hasValue(t)?this.invokeChangedCallback(t,n.writer(this.receiver[t]),i):this.invokeChangedCallback(t,n.writer(n.defaultValue),i)}invokeChangedCallbacksForDefaultValues(){for(const{key:t,name:e,defaultValue:i,writer:n}of this.valueDescriptors)null==i||this.controller.data.has(t)||this.invokeChangedCallback(e,n(i),void 0)}invokeChangedCallback(t,e,i){const n=`${t}Changed`,r=this.receiver[n];if("function"==typeof r){const n=this.valueDescriptorNameMap[t];try{const t=n.reader(e);let o=i;i&&(o=n.reader(i)),r.call(this.receiver,t,o)}catch(t){throw t instanceof TypeError&&(t.message=`Stimulus Value "${this.context.identifier}.${n.name}" - ${t.message}`),t}}}get valueDescriptors(){const{valueDescriptorMap:t}=this;return Object.keys(t).map((e=>t[e]))}get valueDescriptorNameMap(){const t={};return Object.keys(this.valueDescriptorMap).forEach((e=>{const i=this.valueDescriptorMap[e];t[i.name]=i})),t}hasValue(t){const e=`has${St(this.valueDescriptorNameMap[t].name)}`;return this.receiver[e]}},qd=class{constructor(t,e){this.context=t,this.delegate=e,this.targetsByName=new Rd}start(){this.tokenListObserver||(this.tokenListObserver=new Nd(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:t,content:e}){this.scope.containsElement(t)&&this.connectTarget(t,e)}tokenUnmatched({element:t,content:e}){this.disconnectTarget(t,e)}connectTarget(t,e){var i;this.targetsByName.has(e,t)||(this.targetsByName.add(e,t),null===(i=this.tokenListObserver)||void 0===i||i.pause((()=>this.delegate.targetConnected(t,e))))}disconnectTarget(t,e){var i;this.targetsByName.has(e,t)&&(this.targetsByName.delete(e,t),null===(i=this.tokenListObserver)||void 0===i||i.pause((()=>this.delegate.targetDisconnected(t,e))))}disconnectAllTargets(){for(const t of this.targetsByName.keys)for(const e of this.targetsByName.getValuesForKey(t))this.disconnectTarget(e,t)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}},Wd=class{constructor(t,e){this.started=!1,this.context=t,this.delegate=e,this.outletsByName=new Rd,this.outletElementsByName=new Rd,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach((t=>{this.setupSelectorObserverForOutlet(t),this.setupAttributeObserverForOutlet(t)})),this.started=!0,this.dependentContexts.forEach((t=>t.refresh())))}refresh(){this.selectorObserverMap.forEach((t=>t.refresh())),this.attributeObserverMap.forEach((t=>t.refresh()))}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach((t=>t.stop())),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach((t=>t.stop())),this.attributeObserverMap.clear())}selectorMatched(t,e,{outletName:i}){const n=this.getOutlet(t,i);n&&this.connectOutlet(n,t,i)}selectorUnmatched(t,e,{outletName:i}){const n=this.getOutletFromMap(t,i);n&&this.disconnectOutlet(n,t,i)}selectorMatchElement(t,{outletName:e}){const i=this.selector(e),n=this.hasOutlet(t,e),r=t.matches(`[${this.schema.controllerAttribute}~=${e}]`);return!!i&&(n&&r&&t.matches(i))}elementMatchedAttribute(t,e){const i=this.getOutletNameFromOutletAttributeName(e);i&&this.updateSelectorObserverForOutlet(i)}elementAttributeValueChanged(t,e){const i=this.getOutletNameFromOutletAttributeName(e);i&&this.updateSelectorObserverForOutlet(i)}elementUnmatchedAttribute(t,e){const i=this.getOutletNameFromOutletAttributeName(e);i&&this.updateSelectorObserverForOutlet(i)}connectOutlet(t,e,i){var n;this.outletElementsByName.has(i,e)||(this.outletsByName.add(i,t),this.outletElementsByName.add(i,e),null===(n=this.selectorObserverMap.get(i))||void 0===n||n.pause((()=>this.delegate.outletConnected(t,e,i))))}disconnectOutlet(t,e,i){var n;this.outletElementsByName.has(i,e)&&(this.outletsByName.delete(i,t),this.outletElementsByName.delete(i,e),null===(n=this.selectorObserverMap.get(i))||void 0===n||n.pause((()=>this.delegate.outletDisconnected(t,e,i))))}disconnectAllOutlets(){for(const t of this.outletElementsByName.keys)for(const e of this.outletElementsByName.getValuesForKey(t))for(const i of this.outletsByName.getValuesForKey(t))this.disconnectOutlet(i,e,t)}updateSelectorObserverForOutlet(t){const e=this.selectorObserverMap.get(t);e&&(e.selector=this.selector(t))}setupSelectorObserverForOutlet(t){const e=this.selector(t),i=new Fd(document.body,e,this,{outletName:t});this.selectorObserverMap.set(t,i),i.start()}setupAttributeObserverForOutlet(t){const e=this.attributeNameForOutletName(t),i=new jd(this.scope.element,e,this);this.attributeObserverMap.set(t,i),i.start()}selector(t){return this.scope.outlets.getSelectorForOutletName(t)}attributeNameForOutletName(t){return this.scope.schema.outletAttributeForScope(this.identifier,t)}getOutletNameFromOutletAttributeName(t){return this.outletDefinitions.find((e=>this.attributeNameForOutletName(e)===t))}get outletDependencies(){const t=new Rd;return this.router.modules.forEach((e=>{Ht(e.definition.controllerConstructor,"outlets").forEach((i=>t.add(i,e.identifier)))})),t}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){const t=this.dependentControllerIdentifiers;return this.router.contexts.filter((e=>t.includes(e.identifier)))}hasOutlet(t,e){return!!this.getOutlet(t,e)||!!this.getOutletFromMap(t,e)}getOutlet(t,e){return this.application.getControllerForElementAndIdentifier(t,e)}getOutletFromMap(t,e){return this.outletsByName.getValuesForKey(e).find((e=>e.element===t))}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}},Ud=class{constructor(t,e){this.logDebugActivity=(t,e={})=>{const{identifier:i,controller:n,element:r}=this;e=Object.assign({identifier:i,controller:n,element:r},e),this.application.logDebugActivity(this.identifier,t,e)},this.module=t,this.scope=e,this.controller=new t.controllerConstructor(this),this.bindingObserver=new Hd(this,this.dispatcher),this.valueObserver=new zd(this,this.controller),this.targetObserver=new qd(this,this),this.outletObserver=new Wd(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(t){this.handleError(t,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(t){this.handleError(t,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(t){this.handleError(t,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(t,e,i={}){const{identifier:n,controller:r,element:o}=this;i=Object.assign({identifier:n,controller:r,element:o},i),this.application.handleError(t,`Error ${e}`,i)}targetConnected(t,e){this.invokeControllerMethod(`${e}TargetConnected`,t)}targetDisconnected(t,e){this.invokeControllerMethod(`${e}TargetDisconnected`,t)}outletConnected(t,e,i){this.invokeControllerMethod(`${At(i)}OutletConnected`,t,e)}outletDisconnected(t,e,i){this.invokeControllerMethod(`${At(i)}OutletDisconnected`,t,e)}invokeControllerMethod(t,...e){const i=this.controller;"function"==typeof i[t]&&i[t](...e)}},Kd="function"==typeof Object.getOwnPropertySymbols?t=>[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)]:Object.getOwnPropertyNames,$d=(()=>{function t(t){function e(){return Reflect.construct(t,arguments,new.target)}return e.prototype=Object.create(t.prototype,{constructor:{value:e}}),Reflect.setPrototypeOf(e,t),e}function e(){const e=t((function(){this.a.call(this)}));return e.prototype.a=function(){},new e}try{return e(),t}catch(t){return t=>class extends t{}}})(),Jd=class{constructor(t,e){this.application=t,this.definition=Qt(e),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(t){const e=this.fetchContextForScope(t);this.connectedContexts.add(e),e.connect()}disconnectContextForScope(t){const e=this.contextsByScope.get(t);e&&(this.connectedContexts.delete(e),e.disconnect())}fetchContextForScope(t){let e=this.contextsByScope.get(t);return e||(e=new Ud(this,t),this.contextsByScope.set(t,e)),e}},Yd=class{constructor(t){this.scope=t}has(t){return this.data.has(this.getDataKey(t))}get(t){return this.getAll(t)[0]}getAll(t){return Ct(this.data.get(this.getDataKey(t))||"")}getAttributeName(t){return this.data.getAttributeNameForKey(this.getDataKey(t))}getDataKey(t){return`${t}-class`}get data(){return this.scope.data}},Gd=class{constructor(t){this.scope=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(t){const e=this.getAttributeNameForKey(t);return this.element.getAttribute(e)}set(t,e){const i=this.getAttributeNameForKey(t);return this.element.setAttribute(i,e),this.get(t)}has(t){const e=this.getAttributeNameForKey(t);return this.element.hasAttribute(e)}delete(t){if(this.has(t)){const e=this.getAttributeNameForKey(t);return this.element.removeAttribute(e),!0}return!1}getAttributeNameForKey(t){return`data-${this.identifier}-${Ot(t)}`}},Qd=class{constructor(t){this.warnedKeysByObject=new WeakMap,this.logger=t}warn(t,e,i){let n=this.warnedKeysByObject.get(t);n||(n=new Set,this.warnedKeysByObject.set(t,n)),n.has(e)||(n.add(e),this.logger.warn(i,t))}},Xd=class{constructor(t){this.scope=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(t){return null!=this.find(t)}find(...t){return t.reduce(((t,e)=>t||this.findTarget(e)||this.findLegacyTarget(e)),void 0)}findAll(...t){return t.reduce(((t,e)=>[...t,...this.findAllTargets(e),...this.findAllLegacyTargets(e)]),[])}findTarget(t){const e=this.getSelectorForTargetName(t);return this.scope.findElement(e)}findAllTargets(t){const e=this.getSelectorForTargetName(t);return this.scope.findAllElements(e)}getSelectorForTargetName(t){return Xt(this.schema.targetAttributeForScope(this.identifier),t)}findLegacyTarget(t){const e=this.getLegacySelectorForTargetName(t);return this.deprecate(this.scope.findElement(e),t)}findAllLegacyTargets(t){const e=this.getLegacySelectorForTargetName(t);return this.scope.findAllElements(e).map((e=>this.deprecate(e,t)))}getLegacySelectorForTargetName(t){const e=`${this.identifier}.${t}`;return Xt(this.schema.targetAttribute,e)}deprecate(t,e){if(t){const{identifier:i}=this,n=this.schema.targetAttribute,r=this.schema.targetAttributeForScope(i);this.guide.warn(t,`target:${e}`,`Please replace ${n}="${i}.${e}" with ${r}="${e}". The ${n} attribute is deprecated and will be removed in a future version of Stimulus.`)}return t}get guide(){return this.scope.guide}},Zd=class{constructor(t,e){this.scope=t,this.controllerElement=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(t){return null!=this.find(t)}find(...t){return t.reduce(((t,e)=>t||this.findOutlet(e)),void 0)}findAll(...t){return t.reduce(((t,e)=>[...t,...this.findAllOutlets(e)]),[])}getSelectorForOutletName(t){const e=this.schema.outletAttributeForScope(this.identifier,t);return this.controllerElement.getAttribute(e)}findOutlet(t){const e=this.getSelectorForOutletName(t);if(e)return this.findElement(e,t)}findAllOutlets(t){const e=this.getSelectorForOutletName(t);return e?this.findAllElements(e,t):[]}findElement(t,e){return this.scope.queryElements(t).filter((i=>this.matchesElement(i,t,e)))[0]}findAllElements(t,e){return this.scope.queryElements(t).filter((i=>this.matchesElement(i,t,e)))}matchesElement(t,e,i){const n=t.getAttribute(this.scope.schema.controllerAttribute)||"";return t.matches(e)&&n.split(" ").includes(i)}},th=class{constructor(t,e,i,n){this.targets=new Xd(this),this.classes=new Yd(this),this.data=new Gd(this),this.containsElement=t=>t.closest(this.controllerSelector)===this.element,this.schema=t,this.element=e,this.identifier=i,this.guide=new Qd(n),this.outlets=new Zd(this.documentScope,e)}findElement(t){return this.element.matches(t)?this.element:this.queryElements(t).find(this.containsElement)}findAllElements(t){return[...this.element.matches(t)?[this.element]:[],...this.queryElements(t).filter(this.containsElement)]}queryElements(t){return Array.from(this.element.querySelectorAll(t))}get controllerSelector(){return Xt(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new th(this.schema,document.documentElement,this.identifier,this.guide.logger)}},eh=class{constructor(t,e,i){this.element=t,this.schema=e,this.delegate=i,this.valueListObserver=new Vd(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(t){const{element:e,content:i}=t;return this.parseValueForElementAndIdentifier(e,i)}parseValueForElementAndIdentifier(t,e){const i=this.fetchScopesByIdentifierForElement(t);let n=i.get(e);return n||(n=this.delegate.createScopeForElementAndIdentifier(t,e),i.set(e,n)),n}elementMatchedValue(t,e){const i=(this.scopeReferenceCounts.get(e)||0)+1;this.scopeReferenceCounts.set(e,i),1==i&&this.delegate.scopeConnected(e)}elementUnmatchedValue(t,e){const i=this.scopeReferenceCounts.get(e);i&&(this.scopeReferenceCounts.set(e,i-1),1==i&&this.delegate.scopeDisconnected(e))}fetchScopesByIdentifierForElement(t){let e=this.scopesByIdentifierByElement.get(t);return e||(e=new Map,this.scopesByIdentifierByElement.set(t,e)),e}},ih=class{constructor(t){this.application=t,this.scopeObserver=new eh(this.element,this.schema,this),this.scopesByIdentifier=new Rd,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce(((t,e)=>t.concat(e.contexts)),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(t){this.unloadIdentifier(t.identifier);const e=new Jd(this.application,t);this.connectModule(e);const i=t.controllerConstructor.afterLoad;i&&i.call(t.controllerConstructor,t.identifier,this.application)}unloadIdentifier(t){const e=this.modulesByIdentifier.get(t);e&&this.disconnectModule(e)}getContextForElementAndIdentifier(t,e){const i=this.modulesByIdentifier.get(e);if(i)return i.contexts.find((e=>e.element==t))}proposeToConnectScopeForElementAndIdentifier(t,e){const i=this.scopeObserver.parseValueForElementAndIdentifier(t,e);i?this.scopeObserver.elementMatchedValue(i.element,i):console.error(`Couldn't find or create scope for identifier: "${e}" and element:`,t)}handleError(t,e,i){this.application.handleError(t,e,i)}createScopeForElementAndIdentifier(t,e){return new th(this.schema,t,e,this.logger)}scopeConnected(t){this.scopesByIdentifier.add(t.identifier,t);const e=this.modulesByIdentifier.get(t.identifier);e&&e.connectContextForScope(t)}scopeDisconnected(t){this.scopesByIdentifier.delete(t.identifier,t);const e=this.modulesByIdentifier.get(t.identifier);e&&e.disconnectContextForScope(t)}connectModule(t){this.modulesByIdentifier.set(t.identifier,t);this.scopesByIdentifier.getValuesForKey(t.identifier).forEach((e=>t.connectContextForScope(e)))}disconnectModule(t){this.modulesByIdentifier.delete(t.identifier);this.scopesByIdentifier.getValuesForKey(t.identifier).forEach((e=>t.disconnectContextForScope(e)))}},nh={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:t=>`data-${t}-target`,outletAttributeForScope:(t,e)=>`data-${t}-${e}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},Zt("abcdefghijklmnopqrstuvwxyz".split("").map((t=>[t,t])))),Zt("0123456789".split("").map((t=>[t,t]))))},rh=class{constructor(t=document.documentElement,e=nh){this.logger=console,this.debug=!1,this.logDebugActivity=(t,e,i={})=>{this.debug&&this.logFormattedMessage(t,e,i)},this.element=t,this.schema=e,this.dispatcher=new Od(this),this.router=new ih(this),this.actionDescriptorFilters=Object.assign({},Cd)}static start(t,e){const i=new this(t,e);return i.start(),i}async start(){await te(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(t,e){this.load({identifier:t,controllerConstructor:e})}registerActionOption(t,e){this.actionDescriptorFilters[t]=e}load(t,...e){(Array.isArray(t)?t:[t,...e]).forEach((t=>{t.controllerConstructor.shouldLoad&&this.router.loadDefinition(t)}))}unload(t,...e){(Array.isArray(t)?t:[t,...e]).forEach((t=>this.router.unloadIdentifier(t)))}get controllers(){return this.router.contexts.map((t=>t.controller))}getControllerForElementAndIdentifier(t,e){const i=this.router.getContextForElementAndIdentifier(t,e);return i?i.controller:null}handleError(t,e,i){var n;this.logger.error("%s\n\n%o\n\n%o",e,t,i),null===(n=window.onerror)||void 0===n||n.call(window,e,"",0,0,t)}logFormattedMessage(t,e,i={}){i=Object.assign({application:this},i),this.logger.groupCollapsed(`${t} #${e}`),this.logger.log("details:",Object.assign({},i)),this.logger.groupEnd()}},oh={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},sh={array(t){const e=JSON.parse(t);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${t}" of type "${pe(e)}"`);return e},boolean:t=>!("0"==t||"false"==String(t).toLowerCase()),number:t=>Number(t.replace(/_/g,"")),object(t){const e=JSON.parse(t);if(null===e||"object"!=typeof e||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${t}" of type "${pe(e)}"`);return e},string:t=>t},ah={default:be,array:ye,object:ye},lh=class{constructor(t){this.context=t}static get shouldLoad(){return!0}static afterLoad(t,e){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(t,{target:e=this.element,detail:i={},prefix:n=this.identifier,bubbles:r=!0,cancelable:o=!0}={}){const s=new CustomEvent(n?`${n}:${t}`:t,{detail:i,bubbles:r,cancelable:o});return e.dispatchEvent(s),s}};lh.blessings=[ee,ae,ce,ne],lh.targets=[],lh.outlets=[],lh.values={};var ch=class extends lh{initialize(){const t=this.targetTarget,e=this.triggerTarget,i={transition:"transition-opacity",duration:200,timing:"ease-out",onHide:()=>{}};this.alert=new Dismiss(t,e,i)}};Aa(ch,"targets",["target","trigger"]);var uh=class extends lh{initialize(){this.targetTarget.classList.remove("hidden")}show(){this.targetTarget.classList.remove("opacity-0"),this.targetTarget.classList.remove("-bottom-10"),this.targetTarget.classList.add("bottom-10"),this.targetTarget.classList.add("opacity-100"),setTimeout((()=>{this._hide()}),this.durationValue)}_hide(){this.targetTarget.classList.remove("opacity-100"),this.targetTarget.classList.remove("bottom-10"),this.targetTarget.classList.add("-bottom-10"),this.targetTarget.classList.add("opacity-0")}};Aa(uh,"values",{duration:{type:Number,default:2e3}}),Aa(uh,"targets",["target","trigger"]);var dh=function(){function t(t,e){void 0===e&&(e=[]),this._eventType=t,this._eventFunctions=e}return t.prototype.init=function(){var t=this;this._eventFunctions.forEach((function(e){"undefined"!=typeof window&&window.addEventListener(t._eventType,e)}))},t}(),hh=new(function(){function t(){this._instances={Accordion:{},Carousel:{},Collapse:{},Dial:{},Dismiss:{},Drawer:{},Dropdown:{},Modal:{},Popover:{},Tabs:{},Tooltip:{},InputCounter:{},CopyClipboard:{},Datepicker:{}}}return t.prototype.addInstance=function(t,e,i,n){if(void 0===n&&(n=!1),!this._instances[t])return console.warn("Flowbite: Component ".concat(t," does not exist.")),!1;!this._instances[t][i]||n?(n&&this._instances[t][i]&&this._instances[t][i].destroyAndRemoveInstance(),this._instances[t][i||this._generateRandomId()]=e):console.warn("Flowbite: Instance with ID ".concat(i," already exists."))},t.prototype.getAllInstances=function(){return this._instances},t.prototype.getInstances=function(t){return this._instances[t]?this._instances[t]:(console.warn("Flowbite: Component ".concat(t," does not exist.")),!1)},t.prototype.getInstance=function(t,e){if(this._componentAndInstanceCheck(t,e)){if(this._instances[t][e])return this._instances[t][e];console.warn("Flowbite: Instance with ID ".concat(e," does not exist."))}},t.prototype.destroyAndRemoveInstance=function(t,e){this._componentAndInstanceCheck(t,e)&&(this.destroyInstanceObject(t,e),this.removeInstance(t,e))},t.prototype.removeInstance=function(t,e){this._componentAndInstanceCheck(t,e)&&delete this._instances[t][e]},t.prototype.destroyInstanceObject=function(t,e){this._componentAndInstanceCheck(t,e)&&this._instances[t][e].destroy()},t.prototype.instanceExists=function(t,e){return!!this._instances[t]&&!!this._instances[t][e]},t.prototype._generateRandomId=function(){return Math.random().toString(36).substr(2,9)},t.prototype._componentAndInstanceCheck=function(t,e){return this._instances[t]?!!this._instances[t][e]||(console.warn("Flowbite: Instance with ID ".concat(e," does not exist.")),!1):(console.warn("Flowbite: Component ".concat(t," does not exist.")),!1)},t}()),ph=hh;"undefined"!=typeof window&&(window.FlowbiteInstances=hh);var fh=function(){return fh=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},fh.apply(this,arguments)},gh={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},mh={id:null,override:!0},vh=function(){function t(t,e,i,n){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===i&&(i=gh),void 0===n&&(n=mh),this._instanceId=n.id?n.id:t.id,this._accordionEl=t,this._items=e,this._options=fh(fh({},gh),i),this._initialized=!1,this.init(),ph.addInstance("Accordion",this,this._instanceId,n.override)}return t.prototype.init=function(){var t=this;this._items.length&&!this._initialized&&(this._items.forEach((function(e){e.active&&t.open(e.id);var i=function(){t.toggle(e.id)};e.triggerEl.addEventListener("click",i),e.clickHandler=i})),this._initialized=!0)},t.prototype.destroy=function(){this._items.length&&this._initialized&&(this._items.forEach((function(t){t.triggerEl.removeEventListener("click",t.clickHandler),delete t.clickHandler})),this._initialized=!1)},t.prototype.removeInstance=function(){ph.removeInstance("Accordion",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getItem=function(t){return this._items.filter((function(e){return e.id===t}))[0]},t.prototype.open=function(t){var e,i,n=this,r=this.getItem(t);this._options.alwaysOpen||this._items.map((function(t){var e,i;t!==r&&((e=t.triggerEl.classList).remove.apply(e,n._options.activeClasses.split(" ")),(i=t.triggerEl.classList).add.apply(i,n._options.inactiveClasses.split(" ")),t.targetEl.classList.add("hidden"),t.triggerEl.setAttribute("aria-expanded","false"),t.active=!1,t.iconEl&&t.iconEl.classList.add("rotate-180"))})),(e=r.triggerEl.classList).add.apply(e,this._options.activeClasses.split(" ")),(i=r.triggerEl.classList).remove.apply(i,this._options.inactiveClasses.split(" ")),r.triggerEl.setAttribute("aria-expanded","true"),r.targetEl.classList.remove("hidden"),r.active=!0,r.iconEl&&r.iconEl.classList.remove("rotate-180"),this._options.onOpen(this,r)},t.prototype.toggle=function(t){var e=this.getItem(t);e.active?this.close(t):this.open(t),this._options.onToggle(this,e)},t.prototype.close=function(t){var e,i,n=this.getItem(t);(e=n.triggerEl.classList).remove.apply(e,this._options.activeClasses.split(" ")),(i=n.triggerEl.classList).add.apply(i,this._options.inactiveClasses.split(" ")),n.targetEl.classList.add("hidden"),n.triggerEl.setAttribute("aria-expanded","false"),n.active=!1,n.iconEl&&n.iconEl.classList.add("rotate-180"),this._options.onClose(this,n)},t.prototype.updateOnOpen=function(t){this._options.onOpen=t},t.prototype.updateOnClose=function(t){this._options.onClose=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();"undefined"!=typeof window&&(window.Accordion=vh,window.initAccordions=we);var yh=function(){return yh=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},yh.apply(this,arguments)},bh={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},wh={id:null,override:!0},kh=function(){function t(t,e,i,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=bh),void 0===n&&(n=wh),this._instanceId=n.id?n.id:t.id,this._targetEl=t,this._triggerEl=e,this._options=yh(yh({},bh),i),this._visible=!1,this._initialized=!1,this.init(),ph.addInstance("Collapse",this,this._instanceId,n.override)}return t.prototype.init=function(){var t=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible="true"===this._triggerEl.getAttribute("aria-expanded"):this._visible=!this._targetEl.classList.contains("hidden"),this._clickHandler=function(){t.toggle()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){ph.removeInstance("Collapse",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},t.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},t.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},t.prototype.updateOnCollapse=function(t){this._options.onCollapse=t},t.prototype.updateOnExpand=function(t){this._options.onExpand=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();"undefined"!=typeof window&&(window.Collapse=kh,window.initCollapses=ke);var _h=function(){return _h=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},_h.apply(this,arguments)},xh={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},Eh={id:null,override:!0},Ah=function(){function t(t,e,i,n){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===i&&(i=xh),void 0===n&&(n=Eh),this._instanceId=n.id?n.id:t.id,this._carouselEl=t,this._items=e,this._options=_h(_h(_h({},xh),i),{indicators:_h(_h({},xh.indicators),i.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._initialized=!1,this.init(),ph.addInstance("Carousel",this,this._instanceId,n.override)}return t.prototype.init=function(){var t=this;this._items.length&&!this._initialized&&(this._items.map((function(t){t.el.classList.add("absolute","inset-0","transition-transform","transform")})),this.getActiveItem()?this.slideTo(this.getActiveItem().position):this.slideTo(0),this._indicators.map((function(e,i){e.el.addEventListener("click",(function(){t.slideTo(i)}))})),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},t.prototype.removeInstance=function(){ph.removeInstance("Carousel",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getItem=function(t){return this._items[t]},t.prototype.slideTo=function(t){var e=this._items[t],i={left:0===e.position?this._items[this._items.length-1]:this._items[e.position-1],middle:e,right:e.position===this._items.length-1?this._items[0]:this._items[e.position+1]};this._rotate(i),this._setActiveItem(e),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},t.prototype.next=function(){var t=this.getActiveItem(),e=null;e=t.position===this._items.length-1?this._items[0]:this._items[t.position+1],this.slideTo(e.position),this._options.onNext(this)},t.prototype.prev=function(){var t=this.getActiveItem(),e=null;e=0===t.position?this._items[this._items.length-1]:this._items[t.position-1],this.slideTo(e.position),this._options.onPrev(this)},t.prototype._rotate=function(t){if(this._items.map((function(t){t.el.classList.add("hidden")})),1===this._items.length)return t.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),void t.middle.el.classList.add("translate-x-0","z-20");t.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),t.left.el.classList.add("-translate-x-full","z-10"),t.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),t.middle.el.classList.add("translate-x-0","z-30"),t.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-30"),t.right.el.classList.add("translate-x-full","z-20")},t.prototype.cycle=function(){var t=this;"undefined"!=typeof window&&(this._intervalInstance=window.setInterval((function(){t.next()}),this._intervalDuration))},t.prototype.pause=function(){clearInterval(this._intervalInstance)},t.prototype.getActiveItem=function(){return this._activeItem},t.prototype._setActiveItem=function(t){var e,i,n=this;this._activeItem=t
;var r=t.position;this._indicators.length&&(this._indicators.map((function(t){var e,i;t.el.setAttribute("aria-current","false"),(e=t.el.classList).remove.apply(e,n._options.indicators.activeClasses.split(" ")),(i=t.el.classList).add.apply(i,n._options.indicators.inactiveClasses.split(" "))})),(e=this._indicators[r].el.classList).add.apply(e,this._options.indicators.activeClasses.split(" ")),(i=this._indicators[r].el.classList).remove.apply(i,this._options.indicators.inactiveClasses.split(" ")),this._indicators[r].el.setAttribute("aria-current","true"))},t.prototype.updateOnNext=function(t){this._options.onNext=t},t.prototype.updateOnPrev=function(t){this._options.onPrev=t},t.prototype.updateOnChange=function(t){this._options.onChange=t},t}();"undefined"!=typeof window&&(window.Carousel=Ah,window.initCarousels=_e);var Sh=function(){return Sh=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Sh.apply(this,arguments)},Oh={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},Ch={id:null,override:!0},Th=function(){function t(t,e,i,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=Oh),void 0===n&&(n=Ch),this._instanceId=n.id?n.id:t.id,this._targetEl=t,this._triggerEl=e,this._options=Sh(Sh({},Oh),i),this._initialized=!1,this.init(),ph.addInstance("Dismiss",this,this._instanceId,n.override)}return t.prototype.init=function(){var t=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._clickHandler=function(){t.hide()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){ph.removeInstance("Dismiss",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){var t=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout((function(){t._targetEl.classList.add("hidden")}),this._options.duration),this._options.onHide(this,this._targetEl)},t.prototype.updateOnHide=function(t){this._options.onHide=t},t}();"undefined"!=typeof window&&(window.Dismiss=Th,window.initDismisses=xe);var Dh="top",Lh="bottom",Ih="right",Ph="left",Mh="auto",jh=[Dh,Lh,Ih,Ph],Rh="start",Fh="end",Bh="clippingParents",Nh="viewport",Vh="popper",Hh="reference",zh=jh.reduce((function(t,e){return t.concat([e+"-"+Rh,e+"-"+Fh])}),[]),qh=[].concat(jh,[Mh]).reduce((function(t,e){return t.concat([e,e+"-"+Rh,e+"-"+Fh])}),[]),Wh=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"],Uh={name:"applyStyles",enabled:!0,phase:"write",fn:Te,effect:De,requires:["computeStyles"]},Kh=Math.max,$h=Math.min,Jh=Math.round,Yh=function(t,e){return Je("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:Ye(t,jh))},Gh={top:"auto",right:"auto",bottom:"auto",left:"auto"},Qh={passive:!0},Xh={left:"right",right:"left",bottom:"top",top:"bottom"},Zh={start:"end",end:"start"},tp={placement:"bottom",modifiers:[],strategy:"absolute"},ep=Ni({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ii,data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:Oi,data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ei,data:{}},Uh,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Si},{name:"flip",enabled:!0,phase:"main",fn:ki,requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:Ti,requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:Ge,effect:Qe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ei}]}),ip=function(){return ip=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},ip.apply(this,arguments)},np=function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},rp={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},op={id:null,override:!0},sp=function(){function t(t,e,i,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=rp),void 0===n&&(n=op),this._instanceId=n.id?n.id:t.id,this._targetEl=t,this._triggerEl=e,this._options=ip(ip({},rp),i),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),ph.addInstance("Dropdown",this,this._instanceId,n.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._popperInstance=this._createPopperInstance(),this._setupEventListeners(),this._initialized=!0)},t.prototype.destroy=function(){var t=this,e=this._getTriggerEvents();"click"===this._options.triggerType&&e.showEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._clickHandler)})),"hover"===this._options.triggerType&&(e.showEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._hoverShowTriggerElHandler),t._targetEl.removeEventListener(e,t._hoverShowTargetElHandler)})),e.hideEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._hoverHideHandler),t._targetEl.removeEventListener(e,t._hoverHideHandler)}))),this._popperInstance.destroy(),this._initialized=!1},t.prototype.removeInstance=function(){ph.removeInstance("Dropdown",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var t=this,e=this._getTriggerEvents();this._clickHandler=function(){t.toggle()},"click"===this._options.triggerType&&e.showEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._clickHandler)})),this._hoverShowTriggerElHandler=function(e){"click"===e.type?t.toggle():setTimeout((function(){t.show()}),t._options.delay)},this._hoverShowTargetElHandler=function(){t.show()},this._hoverHideHandler=function(){setTimeout((function(){t._targetEl.matches(":hover")||t.hide()}),t._options.delay)},"hover"===this._options.triggerType&&(e.showEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._hoverShowTriggerElHandler),t._targetEl.addEventListener(e,t._hoverShowTargetElHandler)})),e.hideEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._hoverHideHandler),t._targetEl.addEventListener(e,t._hoverHideHandler)})))},t.prototype._createPopperInstance=function(){return ep(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},t.prototype._setupClickOutsideListener=function(){var t=this;this._clickOutsideEventListener=function(e){t._handleClickOutside(e,t._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(t,e){var i=t.target,n=this._options.ignoreClickOutsideClass,r=!1;n&&document.querySelectorAll(".".concat(n)).forEach((function(t){t.contains(i)&&(r=!0)}));i===e||e.contains(i)||this._triggerEl.contains(i)||r||!this.isVisible()||this.hide()},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":default:return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]}}},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},t.prototype.isVisible=function(){return this._visible},t.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._targetEl.removeAttribute("aria-hidden"),this._popperInstance.setOptions((function(t){return ip(ip({},t),{modifiers:np(np([],t.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})})),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._targetEl.setAttribute("aria-hidden","true"),this._popperInstance.setOptions((function(t){return ip(ip({},t),{modifiers:np(np([],t.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})})),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();"undefined"!=typeof window&&(window.Dropdown=sp,window.initDropdowns=Vi);var ap=sp,lp=function(){return lp=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},lp.apply(this,arguments)},cp={placement:"center",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},up={id:null,override:!0},dp=function(){function t(t,e,i){void 0===t&&(t=null),void 0===e&&(e=cp),void 0===i&&(i=up),this._eventListenerInstances=[],this._instanceId=i.id?i.id:t.id,this._targetEl=t,this._options=lp(lp({},cp),e),this._isHidden=!0,this._backdropEl=null,this._initialized=!1,this.init(),ph.addInstance("Modal",this,this._instanceId,i.override)}return t.prototype.init=function(){var t=this;this._targetEl&&!this._initialized&&(this._getPlacementClasses().map((function(e){t._targetEl.classList.add(e)})),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),this._initialized=!1)},t.prototype.removeInstance=function(){ph.removeInstance("Modal",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._createBackdrop=function(){var t;if(this._isHidden){var e=document.createElement("div");(t=e.classList).add.apply(t,this._options.backdropClasses.split(" ")),document.querySelector("body").append(e),this._backdropEl=e}},t.prototype._destroyBackdropEl=function(){!this._isHidden&&this._backdropEl&&(this._backdropEl.remove(),this._backdropEl=null)},t.prototype._setupModalCloseEventListeners=function(){var t=this;"dynamic"===this._options.backdrop&&(this._clickOutsideEventListener=function(e){t._handleOutsideClick(e.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(e){"Escape"===e.key&&t.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeModalCloseEventListeners=function(){"dynamic"===this._options.backdrop&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._handleOutsideClick=function(t){(t===this._targetEl||t===this._backdropEl&&this.isVisible())&&this.hide()},t.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":default:return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"]}},t.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},t.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,this._options.closable&&this._setupModalCloseEventListeners(),document.body.classList.add("overflow-hidden"),this._options.onShow(this))},t.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},t.prototype.isVisible=function(){return!this._isHidden},t.prototype.isHidden=function(){return this._isHidden},t.prototype.addEventListenerInstance=function(t,e,i){this._eventListenerInstances.push({element:t,type:e,handler:i})},t.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map((function(t){t.element.removeEventListener(t.type,t.handler)})),this._eventListenerInstances=[]},t.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();"undefined"!=typeof window&&(window.Modal=dp,window.initModals=Hi);var hp=function(){return hp=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},hp.apply(this,arguments)},pp={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},fp={id:null,override:!0},gp=function(){function t(t,e,i){void 0===t&&(t=null),void 0===e&&(e=pp),void 0===i&&(i=fp),this._eventListenerInstances=[],this._instanceId=i.id?i.id:t.id,this._targetEl=t,this._options=hp(hp({},pp),e),this._visible=!1,this._initialized=!1,this.init(),ph.addInstance("Drawer",this,this._instanceId,i.override)}return t.prototype.init=function(){var t=this;this._targetEl&&!this._initialized&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform"),this._getPlacementClasses(this._options.placement).base.map((function(e){t._targetEl.classList.add(e)})),this._handleEscapeKey=function(e){"Escape"===e.key&&t.isVisible()&&t.hide()},document.addEventListener("keydown",this._handleEscapeKey),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),document.removeEventListener("keydown",this._handleEscapeKey),this._initialized=!1)},t.prototype.removeInstance=function(){ph.removeInstance("Drawer",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){var t=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map((function(e){t._targetEl.classList.remove(e)})),this._getPlacementClasses(this._options.placement+"-edge").inactive.map((function(e){t._targetEl.classList.add(e)}))):(this._getPlacementClasses(this._options.placement).active.map((function(e){t._targetEl.classList.remove(e)})),this._getPlacementClasses(this._options.placement).inactive.map((function(e){t._targetEl.classList.add(e)}))),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},t.prototype.show=function(){var t=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map((function(e){t._targetEl.classList.add(e)})),this._getPlacementClasses(this._options.placement+"-edge").inactive.map((function(e){t._targetEl.classList.remove(e)}))):(this._getPlacementClasses(this._options.placement).active.map((function(e){t._targetEl.classList.add(e)})),this._getPlacementClasses(this._options.placement).inactive.map((function(e){t._targetEl.classList.remove(e)}))),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},t.prototype._createBackdrop=function(){var t,e=this;if(!this._visible){var i=document.createElement("div");i.setAttribute("drawer-backdrop",""),(t=i.classList).add.apply(t,this._options.backdropClasses.split(" ")),document.querySelector("body").append(i),i.addEventListener("click",(function(){e.hide()}))}},t.prototype._destroyBackdropEl=function(){this._visible&&null!==document.querySelector("[drawer-backdrop]")&&document.querySelector("[drawer-backdrop]").remove()},t.prototype._getPlacementClasses=function(t){switch(t){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]}}},t.prototype.isHidden=function(){return!this._visible},t.prototype.isVisible=function(){return this._visible},t.prototype.addEventListenerInstance=function(t,e,i){this._eventListenerInstances.push({element:t,type:e,handler:i})},t.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map((function(t){t.element.removeEventListener(t.type,t.handler)})),this._eventListenerInstances=[]},t.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();"undefined"!=typeof window&&(window.Drawer=gp,window.initDrawers=zi);var mp=function(){return mp=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},mp.apply(this,arguments)},vp={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},yp={id:null,override:!0},bp=function(){function t(t,e,i,n){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===i&&(i=vp),void 0===n&&(n=yp),this._instanceId=n.id?n.id:t.id,this._tabsEl=t,this._items=e,this._activeTab=i?this.getTab(i.defaultTabId):null,this._options=mp(mp({},vp),i),this._initialized=!1,this.init(),ph.addInstance("Tabs",this,this._instanceId,n.override)}return t.prototype.init=function(){var t=this;this._items.length&&!this._initialized&&(this._activeTab||this.setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map((function(e){e.triggerEl.addEventListener("click",(function(i){i.preventDefault(),t.show(e.id)}))})))},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},t.prototype.removeInstance=function(){this.destroy(),ph.removeInstance("Tabs",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getActiveTab=function(){return this._activeTab},t.prototype.setActiveTab=function(t){this._activeTab=t},t.prototype.getTab=function(t){return this._items.filter((function(e){return e.id===t}))[0]},t.prototype.show=function(t,e){var i,n,r=this;void 0===e&&(e=!1);var o=this.getTab(t);(o!==this._activeTab||e)&&(this._items.map((function(t){var e,i;t!==o&&((e=t.triggerEl.classList).remove.apply(e,r._options.activeClasses.split(" ")),(i=t.triggerEl.classList).add.apply(i,r._options.inactiveClasses.split(" ")),t.targetEl.classList.add("hidden"),t.triggerEl.setAttribute("aria-selected","false"))})),(i=o.triggerEl.classList).add.apply(i,this._options.activeClasses.split(" ")),(n=o.triggerEl.classList).remove.apply(n,this._options.inactiveClasses.split(" ")),o.triggerEl.setAttribute("aria-selected","true"),o.targetEl.classList.remove("hidden"),this.setActiveTab(o),this._options.onShow(this,o))},t.prototype.updateOnShow=function(t){this._options.onShow=t},t}();"undefined"!=typeof window&&(window.Tabs=bp,window.initTabs=qi);var wp=function(){return wp=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},wp.apply(this,arguments)},kp=function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},_p={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},xp={id:null,override:!0},Ep=function(){function t(t,e,i,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=_p),void 0===n&&(n=xp),this._instanceId=n.id?n.id:t.id,this._targetEl=t,this._triggerEl=e,this._options=wp(wp({},_p),i),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),ph.addInstance("Tooltip",this,this._instanceId,n.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},t.prototype.destroy=function(){var t=this;if(this._initialized){var e=this._getTriggerEvents();e.showEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._showHandler)})),e.hideEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._hideHandler)})),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},t.prototype.removeInstance=function(){ph.removeInstance("Tooltip",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var t=this,e=this._getTriggerEvents();this._showHandler=function(){t.show()},this._hideHandler=function(){t.hide()},e.showEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._showHandler)})),e.hideEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._hideHandler)}))},t.prototype._createPopperInstance=function(){return ep(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},t.prototype._setupKeydownListener=function(){var t=this;this._keydownEventListener=function(e){"Escape"===e.key&&t.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._setupClickOutsideListener=function(){var t=this;this._clickOutsideEventListener=function(e){t._handleClickOutside(e,t._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(t,e){var i=t.target;i===e||e.contains(i)||this._triggerEl.contains(i)||!this.isVisible()||this.hide()},t.prototype.isVisible=function(){return this._visible},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},t.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions((function(t){return wp(wp({},t),{modifiers:kp(kp([],t.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})})),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions((function(t){return wp(wp({},t),{modifiers:kp(kp([],t.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})})),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();"undefined"!=typeof window&&(window.Tooltip=Ep,window.initTooltips=Wi);var Ap=function(){return Ap=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Ap.apply(this,arguments)},Sp=function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},Op={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},Cp={id:null,override:!0},Tp=function(){function t(t,e,i,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=Op),void 0===n&&(n=Cp),this._instanceId=n.id?n.id:t.id,this._targetEl=t,this._triggerEl=e,this._options=Ap(Ap({},Op),i),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),ph.addInstance("Popover",this,n.id?n.id:this._targetEl.id,n.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},t.prototype.destroy=function(){var t=this;if(this._initialized){var e=this._getTriggerEvents();e.showEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._showHandler),t._targetEl.removeEventListener(e,t._showHandler)})),e.hideEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._hideHandler),t._targetEl.removeEventListener(e,t._hideHandler)})),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},t.prototype.removeInstance=function(){ph.removeInstance("Popover",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var t=this,e=this._getTriggerEvents();this._showHandler=function(){t.show()},this._hideHandler=function(){setTimeout((function(){t._targetEl.matches(":hover")||t.hide()}),100)},e.showEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._showHandler),t._targetEl.addEventListener(e,t._showHandler)})),e.hideEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._hideHandler),t._targetEl.addEventListener(e,t._hideHandler)}))},t.prototype._createPopperInstance=function(){return ep(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},t.prototype._setupKeydownListener=function(){var t=this;this._keydownEventListener=function(e){"Escape"===e.key&&t.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._setupClickOutsideListener=function(){var t=this;this._clickOutsideEventListener=function(e){t._handleClickOutside(e,t._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(t,e){var i=t.target;i===e||e.contains(i)||this._triggerEl.contains(i)||!this.isVisible()||this.hide()},t.prototype.isVisible=function(){return this._visible},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},t.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions((function(t){return Ap(Ap({},t),{modifiers:Sp(Sp([],t.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})})),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions((function(t){return Ap(Ap({},t),{modifiers:Sp(Sp([],t.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})})),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();"undefined"!=typeof window&&(window.Popover=Tp,window.initPopovers=Ui);var Dp=function(){return Dp=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Dp.apply(this,arguments)},Lp={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},Ip={id:null,override:!0},Pp=function(){function t(t,e,i,n,r){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=Lp),void 0===r&&(r=Ip),this._instanceId=r.id?r.id:i.id,this._parentEl=t,this._triggerEl=e,this._targetEl=i,this._options=Dp(Dp({},Lp),n),this._visible=!1,this._initialized=!1,this.init(),ph.addInstance("Dial",this,this._instanceId,r.override)}return t.prototype.init=function(){var t=this;if(this._triggerEl&&this._targetEl&&!this._initialized){var e=this._getTriggerEventTypes(this._options.triggerType);this._showEventHandler=function(){t.show()},e.showEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._showEventHandler),t._targetEl.addEventListener(e,t._showEventHandler)})),this._hideEventHandler=function(){t._parentEl.matches(":hover")||t.hide()},e.hideEvents.forEach((function(e){t._parentEl.addEventListener(e,t._hideEventHandler)})),this._initialized=!0}},t.prototype.destroy=function(){var t=this;if(this._initialized){var e=this._getTriggerEventTypes(this._options.triggerType);e.showEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._showEventHandler),t._targetEl.removeEventListener(e,t._showEventHandler)})),e.hideEvents.forEach((function(e){t._parentEl.removeEventListener(e,t._hideEventHandler)})),this._initialized=!1}},t.prototype.removeInstance=function(){ph.removeInstance("Dial",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),
this._visible=!1,this._options.onHide(this)},t.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},t.prototype.toggle=function(){this._visible?this.hide():this.show()},t.prototype.isHidden=function(){return!this._visible},t.prototype.isVisible=function(){return this._visible},t.prototype._getTriggerEventTypes=function(t){switch(t){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();"undefined"!=typeof window&&(window.Dial=Pp,window.initDials=Ki);var Mp=function(){return Mp=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Mp.apply(this,arguments)},jp={minValue:null,maxValue:null,onIncrement:function(){},onDecrement:function(){}},Rp={id:null,override:!0},Fp=function(){function t(t,e,i,n,r){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=jp),void 0===r&&(r=Rp),this._instanceId=r.id?r.id:t.id,this._targetEl=t,this._incrementEl=e,this._decrementEl=i,this._options=Mp(Mp({},jp),n),this._initialized=!1,this.init(),ph.addInstance("InputCounter",this,this._instanceId,r.override)}return t.prototype.init=function(){var t=this;this._targetEl&&!this._initialized&&(this._inputHandler=function(e){var i=e.target;/^\d*$/.test(i.value)||(i.value=i.value.replace(/[^\d]/g,"")),null!==t._options.maxValue&&parseInt(i.value)>t._options.maxValue&&(i.value=t._options.maxValue.toString()),null!==t._options.minValue&&parseInt(i.value)<t._options.minValue&&(i.value=t._options.minValue.toString())},this._incrementClickHandler=function(){t.increment()},this._decrementClickHandler=function(){t.decrement()},this._targetEl.addEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.addEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.addEventListener("click",this._decrementClickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._targetEl&&this._initialized&&(this._targetEl.removeEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.removeEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.removeEventListener("click",this._decrementClickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){ph.removeInstance("InputCounter",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getCurrentValue=function(){return parseInt(this._targetEl.value)||0},t.prototype.increment=function(){null!==this._options.maxValue&&this.getCurrentValue()>=this._options.maxValue||(this._targetEl.value=(this.getCurrentValue()+1).toString(),this._options.onIncrement(this))},t.prototype.decrement=function(){null!==this._options.minValue&&this.getCurrentValue()<=this._options.minValue||(this._targetEl.value=(this.getCurrentValue()-1).toString(),this._options.onDecrement(this))},t.prototype.updateOnIncrement=function(t){this._options.onIncrement=t},t.prototype.updateOnDecrement=function(t){this._options.onDecrement=t},t}();"undefined"!=typeof window&&(window.InputCounter=Fp,window.initInputCounters=$i);var Bp=function(){return Bp=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Bp.apply(this,arguments)},Np={htmlEntities:!1,contentType:"input",onCopy:function(){}},Vp={id:null,override:!0},Hp=function(){function t(t,e,i,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=Np),void 0===n&&(n=Vp),this._instanceId=n.id?n.id:e.id,this._triggerEl=t,this._targetEl=e,this._options=Bp(Bp({},Np),i),this._initialized=!1,this.init(),ph.addInstance("CopyClipboard",this,this._instanceId,n.override)}return t.prototype.init=function(){var t=this;this._targetEl&&this._triggerEl&&!this._initialized&&(this._triggerElClickHandler=function(){t.copy()},this._triggerEl&&this._triggerEl.addEventListener("click",this._triggerElClickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._targetEl&&this._initialized&&(this._triggerEl&&this._triggerEl.removeEventListener("click",this._triggerElClickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){ph.removeInstance("CopyClipboard",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getTargetValue=function(){return"input"===this._options.contentType?this._targetEl.value:"innerHTML"===this._options.contentType?this._targetEl.innerHTML:"textContent"===this._options.contentType?this._targetEl.textContent.replace(/\s+/g," ").trim():void 0},t.prototype.copy=function(){var t=this.getTargetValue();this._options.htmlEntities&&(t=this.decodeHTML(t));var e=document.createElement("textarea");return e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),this._options.onCopy(this),t},t.prototype.decodeHTML=function(t){var e=document.createElement("textarea");return e.innerHTML=t,e.textContent},t.prototype.updateOnCopyCallback=function(t){this._options.onCopy=t},t}();"undefined"!=typeof window&&(window.CopyClipboard=Hp,window.initClipboards=Ji);var zp,qp=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,Wp=/[\s!-/:-@[-`{-~\u5e74\u6708\u65e5]+/,Up={},Kp={y:function(t,e){return new Date(t).setFullYear(parseInt(e,10))},m:function(t,e,i){var n=new Date(t),r=parseInt(e,10)-1;if(isNaN(r)){if(!e)return NaN;var o=e.toLowerCase(),s=function(t){return t.toLowerCase().startsWith(o)};if((r=i.monthsShort.findIndex(s))<0&&(r=i.months.findIndex(s)),r<0)return NaN}return n.setMonth(r),n.getMonth()!==Vn(r)?n.setDate(0):n.getTime()},d:function(t,e){return new Date(t).setDate(parseInt(e,10))}},$p={d:function(t){return t.getDate()},dd:function(t){return Hn(t.getDate(),2)},D:function(t,e){return e.daysShort[t.getDay()]},DD:function(t,e){return e.days[t.getDay()]},m:function(t){return t.getMonth()+1},mm:function(t){return Hn(t.getMonth()+1,2)},M:function(t,e){return e.monthsShort[t.getMonth()]},MM:function(t,e){return e.months[t.getMonth()]},y:function(t){return t.getFullYear()},yy:function(t){return Hn(t.getFullYear(),2).slice(-2)},yyyy:function(t){return Hn(t.getFullYear(),4)}},Jp=new WeakMap,Yp=EventTarget.prototype,Gp=Yp.addEventListener,Qp=Yp.removeEventListener;Event.prototype.composedPath||(zp=function t(e){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n.push(e),e.parentNode?i=e.parentNode:e.host?i=e.host:e.defaultView&&(i=e.defaultView),i?t(i,n):n},Event.prototype.composedPath=function(){return zp(this.target)});var Xp={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},Zp={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:!1,clearBtn:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/></svg>',orientation:"auto",pickLevel:0,prevArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5H1m0 0 4 4M1 5l4-4"/></svg>',showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayBtn:!1,todayBtnMode:0,todayHighlight:!1,updateOnBlur:!0,weekStart:0},tf=document.createRange(),ef=Zp.language,nf=Zp.format,rf=Zp.weekStart,of=Cn('<div class="datepicker hidden">\n  <div class="datepicker-picker inline-block rounded-lg bg-white dark:bg-gray-700 shadow-lg p-4">\n    <div class="datepicker-header">\n      <div class="datepicker-title bg-white dark:bg-gray-700 dark:text-white px-2 py-3 text-center font-semibold"></div>\n      <div class="datepicker-controls flex justify-between mb-2">\n        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 prev-btn"></button>\n        <button type="button" class="text-sm rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 font-semibold py-2.5 px-5 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-200 view-switch"></button>\n        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 next-btn"></button>\n      </div>\n    </div>\n    <div class="datepicker-main p-1"></div>\n    <div class="datepicker-footer">\n      <div class="datepicker-controls flex space-x-2 rtl:space-x-reverse mt-2">\n        <button type="button" class="%buttonClass% today-btn text-white bg-blue-700 !bg-primary-700 dark:bg-blue-600 dark:!bg-primary-600 hover:bg-blue-800 hover:!bg-primary-800 dark:hover:bg-blue-700 dark:hover:!bg-primary-700 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>\n        <button type="button" class="%buttonClass% clear-btn text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>\n      </div>\n    </div>\n  </div>\n</div>'),sf=Cn('<div class="days">\n  <div class="days-of-week grid grid-cols-7 mb-1">'.concat(On("span",7,{class:"dow block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),'</div>\n  <div class="datepicker-grid w-64 grid grid-cols-7">').concat(On("span",42,{class:"block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"}),"</div>\n</div>")),af=Cn('<div class="calendar-weeks">\n  <div class="days-of-week flex"><span class="dow h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"></span></div>\n  <div class="weeks">'.concat(On("span",6,{class:"week block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),"</div>\n</div>")),lf=function(){function t(e,i){tn(this,t),Object.assign(this,i,{picker:e,element:Yn('<div class="datepicker-view flex"></div>').firstChild,selected:[]}),this.init(this.picker.datepicker.config)}return nn(t,[{key:"init",value:function(t){void 0!==t.pickLevel&&(this.isMinView=this.id===t.pickLevel),this.setOptions(t),this.updateFocus(),this.updateSelection()}},{key:"performBeforeHook",value:function(t,e,i){var n=this.beforeShow(new Date(i));switch(bn(n)){case"boolean":n={enabled:n};break;case"string":n={classes:n}}if(n){if(!1===n.enabled&&(t.classList.add("disabled"),xn(this.disabled,e)),n.classes){var r,o=n.classes.split(/\s+/);(r=t.classList).add.apply(r,mn(o)),o.includes("disabled")&&xn(this.disabled,e)}n.content&&Zn(t,n.content)}}}])}(),cf=function(t){function e(t){return tn(this,e),Zi(this,e,[t,{id:0,name:"days",cellClass:"day"}])}return sn(e,t),nn(e,[{key:"init",value:function(t){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var i=Yn(sf).firstChild;this.dow=i.firstChild,this.grid=i.lastChild,this.element.appendChild(i)}rn(on(e.prototype),"init",this).call(this,t)}},{key:"setOptions",value:function(t){var e,i=this;if(kn(t,"minDate")&&(this.minDate=t.minDate),kn(t,"maxDate")&&(this.maxDate=t.maxDate),t.datesDisabled&&(this.datesDisabled=t.datesDisabled),t.daysOfWeekDisabled&&(this.daysOfWeekDisabled=t.daysOfWeekDisabled,e=!0),t.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=t.daysOfWeekHighlighted),void 0!==t.todayHighlight&&(this.todayHighlight=t.todayHighlight),void 0!==t.weekStart&&(this.weekStart=t.weekStart,this.weekEnd=t.weekEnd,e=!0),t.locale){var n=this.locale=t.locale;this.dayNames=n.daysMin,this.switchLabelFormat=n.titleFormat,e=!0}if(void 0!==t.beforeShowDay&&(this.beforeShow="function"==typeof t.beforeShowDay?t.beforeShowDay:void 0),void 0!==t.calendarWeeks)if(t.calendarWeeks&&!this.calendarWeeks){var r=Yn(af).firstChild;this.calendarWeeks={element:r,dow:r.firstChild,weeks:r.lastChild},this.element.insertBefore(r,this.element.firstChild)}else this.calendarWeeks&&!t.calendarWeeks&&(this.element.removeChild(this.calendarWeeks.element),this.calendarWeeks=null);void 0!==t.showDaysOfWeek&&(t.showDaysOfWeek?(Qn(this.dow),this.calendarWeeks&&Qn(this.calendarWeeks.dow)):(Gn(this.dow),this.calendarWeeks&&Gn(this.calendarWeeks.dow))),e&&Array.from(this.dow.children).forEach((function(t,e){var n=(i.weekStart+e)%7;t.textContent=i.dayNames[n],t.className=i.daysOfWeekDisabled.includes(n)?"dow disabled text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400 cursor-not-allowed":"dow text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"}))}},{key:"updateFocus",value:function(){var t=new Date(this.picker.viewDate),e=t.getFullYear(),i=t.getMonth(),n=Ln(e,i,1),r=Fn(n,this.weekStart,this.weekStart);this.first=n,this.last=Ln(e,i+1,0),this.start=r,this.focused=this.picker.viewDate}},{key:"updateSelection",value:function(){var t=this.picker.datepicker,e=t.dates,i=t.rangepicker;this.selected=e,i&&(this.range=i.dates)}},{key:"render",value:function(){var t=this;this.today=this.todayHighlight?Dn():void 0,this.disabled=mn(this.datesDisabled);var e=Wn(this.focused,this.switchLabelFormat,this.locale);if(this.picker.setViewSwitchLabel(e),this.picker.setPrevBtnDisabled(this.first<=this.minDate),this.picker.setNextBtnDisabled(this.last>=this.maxDate),this.calendarWeeks){var i=Fn(this.first,1,1);Array.from(this.calendarWeeks.weeks.children).forEach((function(t,e){t.textContent=Bn(Pn(i,e))}))}Array.from(this.grid.children).forEach((function(e,i){var n=e.classList,r=In(t.start,i),o=new Date(r),s=o.getDay();if(e.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(t.cellClass),e.dataset.date=r,e.textContent=o.getDate(),r<t.first?n.add("prev","text-gray-500","dark:text-white"):r>t.last&&n.add("next","text-gray-500","dark:text-white"),t.today===r&&n.add("today","bg-gray-100","dark:bg-gray-600"),(r<t.minDate||r>t.maxDate||t.disabled.includes(r))&&(n.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),n.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer")),t.daysOfWeekDisabled.includes(s)&&(n.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),n.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer"),xn(t.disabled,r)),t.daysOfWeekHighlighted.includes(s)&&n.add("highlighted"),t.range){var a=fn(t.range,2),l=a[0],c=a[1];r>l&&r<c&&(n.add("range","bg-gray-200","dark:bg-gray-600"),n.remove("rounded-lg","rounded-l-lg","rounded-r-lg")),r===l&&(n.add("range-start","bg-gray-100","dark:bg-gray-600","rounded-l-lg"),n.remove("rounded-lg","rounded-r-lg")),r===c&&(n.add("range-end","bg-gray-100","dark:bg-gray-600","rounded-r-lg"),n.remove("rounded-lg","rounded-l-lg"))}t.selected.includes(r)&&(n.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),n.remove("text-gray-900","text-gray-500","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","dark:bg-gray-600","bg-gray-100","bg-gray-200")),r===t.focused&&n.add("focused"),t.beforeShow&&t.performBeforeHook(e,r,r)}))}},{key:"refresh",value:function(){var t=this,e=fn(this.range||[],2),i=e[0],n=e[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(t){t.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white","focused"),t.classList.add("text-gray-900","rounded-lg","dark:text-white")})),Array.from(this.grid.children).forEach((function(e){var r=Number(e.dataset.date),o=e.classList;o.remove("bg-gray-200","dark:bg-gray-600","rounded-l-lg","rounded-r-lg"),r>i&&r<n&&(o.add("range","bg-gray-200","dark:bg-gray-600"),o.remove("rounded-lg")),r===i&&(o.add("range-start","bg-gray-200","dark:bg-gray-600","rounded-l-lg"),o.remove("rounded-lg")),r===n&&(o.add("range-end","bg-gray-200","dark:bg-gray-600","rounded-r-lg"),o.remove("rounded-lg")),t.selected.includes(r)&&(o.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),o.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","bg-gray-100","bg-gray-200","dark:bg-gray-600")),r===t.focused&&o.add("focused")}))}},{key:"refreshFocus",value:function(){var t=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach((function(t){t.classList.remove("focused")})),this.grid.children[t].classList.add("focused")}}])}(lf),uf=function(t){function e(t){return tn(this,e),Zi(this,e,[t,{id:1,name:"months",cellClass:"month"}])}return sn(e,t),nn(e,[{key:"init",value:function(t){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(Yn(On("span",12,{"data-month":function(t){return t}})))),rn(on(e.prototype),"init",this).call(this,t)}},{key:"setOptions",value:function(t){if(t.locale&&(this.monthNames=t.locale.monthsShort),kn(t,"minDate"))if(void 0===t.minDate)this.minYear=this.minMonth=this.minDate=void 0;else{var e=new Date(t.minDate);this.minYear=e.getFullYear(),this.minMonth=e.getMonth(),this.minDate=e.setDate(1)}if(kn(t,"maxDate"))if(void 0===t.maxDate)this.maxYear=this.maxMonth=this.maxDate=void 0;else{var i=new Date(t.maxDate);this.maxYear=i.getFullYear(),this.maxMonth=i.getMonth(),this.maxDate=Ln(this.maxYear,this.maxMonth+1,0)}void 0!==t.beforeShowMonth&&(this.beforeShow="function"==typeof t.beforeShowMonth?t.beforeShowMonth:void 0)}},{key:"updateFocus",value:function(){var t=new Date(this.picker.viewDate);this.year=t.getFullYear(),this.focused=t.getMonth()}},{key:"updateSelection",value:function(){var t=this.picker.datepicker,e=t.dates,i=t.rangepicker;this.selected=e.reduce((function(t,e){var i=new Date(e),n=i.getFullYear(),r=i.getMonth();return void 0===t[n]?t[n]=[r]:xn(t[n],r),t}),{}),i&&i.dates&&(this.range=i.dates.map((function(t){var e=new Date(t);return isNaN(e)?void 0:[e.getFullYear(),e.getMonth()]})))}},{key:"render",value:function(){var t=this;this.disabled=[],this.picker.setViewSwitchLabel(this.year),this.picker.setPrevBtnDisabled(this.year<=this.minYear),this.picker.setNextBtnDisabled(this.year>=this.maxYear);var e=this.selected[this.year]||[],i=this.year<this.minYear||this.year>this.maxYear,n=this.year===this.minYear,r=this.year===this.maxYear,o=or(this.range,this.year);Array.from(this.grid.children).forEach((function(s,a){var l=s.classList,c=Ln(t.year,a,1);if(s.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(t.cellClass),t.isMinView&&(s.dataset.date=c),s.textContent=t.monthNames[a],(i||n&&a<t.minMonth||r&&a>t.maxMonth)&&l.add("disabled"),o){var u=fn(o,2),d=u[0],h=u[1];a>d&&a<h&&l.add("range"),a===d&&l.add("range-start"),a===h&&l.add("range-end")}e.includes(a)&&(l.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),l.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),a===t.focused&&l.add("focused"),t.beforeShow&&t.performBeforeHook(s,a,c)}))}},{key:"refresh",value:function(){var t=this,e=this.selected[this.year]||[],i=fn(or(this.range,this.year)||[],2),n=i[0],r=i[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(t){t.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","dark:bg-blue-600","dark:!bg-primary-700","dark:text-white","text-white","focused"),t.classList.add("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")})),Array.from(this.grid.children).forEach((function(i,o){var s=i.classList;o>n&&o<r&&s.add("range"),o===n&&s.add("range-start"),o===r&&s.add("range-end"),e.includes(o)&&(s.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),s.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),o===t.focused&&s.add("focused")}))}},{key:"refreshFocus",value:function(){this.grid.querySelectorAll(".focused").forEach((function(t){t.classList.remove("focused")})),this.grid.children[this.focused].classList.add("focused")}}])}(lf),df=function(t){function e(t,i){return tn(this,e),Zi(this,e,[t,i])}return sn(e,t),nn(e,[{key:"init",value:function(t){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.navStep=10*this.step,this.beforeShowOption="beforeShow".concat(sr(this.cellClass)),this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(Yn(On("span",12)))),rn(on(e.prototype),"init",this).call(this,t)}},{key:"setOptions",value:function(t){if(kn(t,"minDate")&&(void 0===t.minDate?this.minYear=this.minDate=void 0:(this.minYear=Nn(t.minDate,this.step),this.minDate=Ln(this.minYear,0,1))),kn(t,"maxDate")&&(void 0===t.maxDate?this.maxYear=this.maxDate=void 0:(this.maxYear=Nn(t.maxDate,this.step),this.maxDate=Ln(this.maxYear,11,31))),void 0!==t[this.beforeShowOption]){var e=t[this.beforeShowOption];this.beforeShow="function"==typeof e?e:void 0}}},{key:"updateFocus",value:function(){var t=new Date(this.picker.viewDate),e=Nn(t,this.navStep),i=e+9*this.step;this.first=e,this.last=i,this.start=e-this.step,this.focused=Nn(t,this.step)}},{key:"updateSelection",value:function(){var t=this,e=this.picker.datepicker,i=e.dates,n=e.rangepicker;this.selected=i.reduce((function(e,i){return xn(e,Nn(i,t.step))}),[]),n&&n.dates&&(this.range=n.dates.map((function(e){if(void 0!==e)return Nn(e,t.step)})))}},{key:"render",value:function(){var t=this;this.disabled=[],this.picker.setViewSwitchLabel("".concat(this.first,"-").concat(this.last)),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach((function(e,i){var n=e.classList,r=t.start+i*t.step,o=Ln(r,0,1);if(e.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(t.cellClass),t.isMinView&&(e.dataset.date=o),e.textContent=e.dataset.year=r,0===i?n.add("prev"):11===i&&n.add("next"),(r<t.minYear||r>t.maxYear)&&n.add("disabled"),t.range){var s=fn(t.range,2),a=s[0],l=s[1];r>a&&r<l&&n.add("range"),r===a&&n.add("range-start"),r===l&&n.add("range-end")}t.selected.includes(r)&&(n.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),n.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),r===t.focused&&n.add("focused"),t.beforeShow&&t.performBeforeHook(e,r,o)}))}},{key:"refresh",value:function(){var t=this,e=fn(this.range||[],2),i=e[0],n=e[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(t){t.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark!bg-primary-600","dark:text-white","focused")})),Array.from(this.grid.children).forEach((function(e){var r=Number(e.textContent),o=e.classList;r>i&&r<n&&o.add("range"),r===i&&o.add("range-start"),r===n&&o.add("range-end"),t.selected.includes(r)&&(o.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),o.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),r===t.focused&&o.add("focused")}))}},{key:"refreshFocus",value:function(){var t=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach((function(t){t.classList.remove("focused")})),this.grid.children[t].classList.add("focused")}}])}(lf),hf=function(){function t(e){tn(this,t),this.datepicker=e;var i=of.replace(/%buttonClass%/g,e.config.buttonClass),n=this.element=Yn(i).firstChild,r=fn(n.firstChild.children,3),o=r[0],s=r[1],a=r[2],l=o.firstElementChild,c=fn(o.lastElementChild.children,3),u=c[0],d=c[1],h=c[2],p=fn(a.firstChild.children,2),f={title:l,prevBtn:u,viewSwitch:d,nextBtn:h,todayBtn:p[0],clearBtn:p[1]};this.main=s,this.controls=f;var g=e.inline?"inline":"dropdown";n.classList.add("datepicker-".concat(g)),"dropdown"===g&&n.classList.add("dropdown","absolute","top-0","left-0","z-50","pt-2"),br(this,e.config),this.viewDate=wr(e),Un(e,[[n,"click",yr.bind(null,e),{capture:!0}],[s,"click",vr.bind(null,e)],[f.viewSwitch,"click",fr.bind(null,e)],[f.prevBtn,"click",gr.bind(null,e)],[f.nextBtn,"click",mr.bind(null,e)],[f.todayBtn,"click",hr.bind(null,e)],[f.clearBtn,"click",pr.bind(null,e)]]),this.views=[new cf(this),new uf(this),new df(this,{id:2,name:"years",cellClass:"year",step:1}),new df(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[e.config.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),e.config.container.appendChild(this.element)}return nn(t,[{key:"setOptions",value:function(t){br(this,t),this.views.forEach((function(e){e.init(t,!1)})),this.currentView.render()}},{key:"detach",value:function(){this.datepicker.config.container.removeChild(this.element)}},{key:"show",value:function(){if(!this.active){this.element.classList.add("active","block"),this.element.classList.remove("hidden"),this.active=!0;var t=this.datepicker;if(!t.inline){var e=_r(t.inputField);e!==_r(t.config.container)?this.element.dir=e:this.element.dir&&this.element.removeAttribute("dir"),this.place(),t.config.disableTouchKeyboard&&t.inputField.blur()}ar(t,"show")}}},{key:"hide",value:function(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active","block"),this.element.classList.add("active","block","hidden"),this.active=!1,ar(this.datepicker,"hide"))}},{key:"place",value:function(){var t,e,i,n=this.element,r=n.classList,o=n.style,s=this.datepicker,a=s.config,l=s.inputField,c=a.container,u=this.element.getBoundingClientRect(),d=u.width,h=u.height,p=c.getBoundingClientRect(),f=p.left,g=p.top,m=p.width,v=l.getBoundingClientRect(),y=v.left,b=v.top,w=v.width,k=v.height,_=a.orientation,x=_.x,E=_.y;c===document.body?(t=window.scrollY,e=y+window.scrollX,i=b+t):(e=y-f,i=b-g+(t=c.scrollTop)),"auto"===x&&(e<0?(x="left",e=10):x=e+d>m||"rtl"===_r(l)?"right":"left"),"right"===x&&(e-=d-w),"auto"===E&&(E=i-h<t?"bottom":"top"),"top"===E?i-=h:i+=k,r.remove("datepicker-orient-top","datepicker-orient-bottom","datepicker-orient-right","datepicker-orient-left"),r.add("datepicker-orient-".concat(E),"datepicker-orient-".concat(x)),o.top=i?"".concat(i,"px"):i,o.left=e?"".concat(e,"px"):e}},{key:"setViewSwitchLabel",value:function(t){this.controls.viewSwitch.textContent=t}},{key:"setPrevBtnDisabled",value:function(t){this.controls.prevBtn.disabled=t}},{key:"setNextBtnDisabled",value:function(t){this.controls.nextBtn.disabled=t}},{key:"changeView",value:function(t){var e=this.currentView,i=this.views[t];return i.id!==e.id&&(this.currentView=i,this._renderMethod="render",ar(this.datepicker,"changeView"),this.main.replaceChild(i.element,e.element)),this}},{key:"changeFocus",value:function(t){return this._renderMethod=kr(this,t)?"render":"refreshFocus",this.views.forEach((function(t){t.updateFocus()})),this}},{key:"update",value:function(){var t=wr(this.datepicker);return this._renderMethod=kr(this,t)?"render":"refresh",this.views.forEach((function(t){t.updateFocus(),t.updateSelection()})),this}},{key:"render",value:function(){var t=(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this._renderMethod||"render";delete this._renderMethod,this.currentView[t]()}}])}(),pf=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;tn(this,t),e.datepicker=this,this.element=e;var r=this.config=Object.assign({buttonClass:i.buttonClass&&String(i.buttonClass)||"button",container:document.body,defaultViewDate:Dn(),maxDate:void 0,minDate:void 0},rr(Zp,this));this._options=i,Object.assign(r,rr(i,this));var o,s,a=this.inline="INPUT"!==e.tagName;if(a)r.container=e,s=En(e.dataset.date,r.dateDelimiter),delete e.dataset.date;else{var l=i.container?document.querySelector(i.container):null;l&&(r.container=l),(o=this.inputField=e).classList.add("datepicker-input"),s=En(o.value,r.dateDelimiter)}if(n){var c=n.inputs.indexOf(o),u=n.datepickers;if(c<0||c>1||!Array.isArray(u))throw Error("Invalid rangepicker object.");u[c]=this,Object.defineProperty(this,"rangepicker",{get:function(){return n}})}this.dates=[];var d=Ir(this,s);d&&d.length>0&&(this.dates=d),o&&(o.value=Lr(this.dates,r));var h=this.picker=new hf(this);if(a)this.show();else{var p=Dr.bind(null,this);Un(this,[[o,"keydown",Ar.bind(null,this)],[o,"focus",Sr.bind(null,this)],[o,"mousedown",Or.bind(null,this)],[o,"click",Cr.bind(null,this)],[o,"paste",Tr.bind(null,this)],[document,"mousedown",p],[document,"touchstart",p],[window,"resize",h.place.bind(h)]])}}return nn(t,[{key:"active",get:function(){return!(!this.picker||!this.picker.active)}},{key:"pickerElement",get:function(){return this.picker?this.picker.element:void 0}},{key:"setOptions",value:function(t){var e=this.picker,i=rr(t,this);Object.assign(this._options,t),Object.assign(this.config,i),e.setOptions(i),Pr(this,3)}},{key:"show",value:function(){if(this.inputField){if(this.inputField.disabled)return;this.inputField!==document.activeElement&&(this._showing=!0,this.inputField.focus(),delete this._showing)}this.picker.show()}},{key:"hide",value:function(){this.inline||(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}},{key:"destroy",value:function(){return this.hide(),Kn(this),this.picker.detach(),this.inline||this.inputField.classList.remove("datepicker-input"),delete this.element.datepicker,this}},{key:"getDate",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=e?function(i){return Wn(i,e,t.config.locale)}:function(t){return new Date(t)};return this.config.multidate?this.dates.map(i):this.dates.length>0?i(this.dates[0]):void 0}},{key:"setDate",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=[].concat(e),r={},o=_n(e);"object"!==bn(o)||Array.isArray(o)||o instanceof Date||!o||Object.assign(r,n.pop()),Mr(this,Array.isArray(n[0])?n[0]:n,r)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!this.inline){var e={clear:!0,autohide:!(!t||!t.autohide)};Mr(this,En(this.inputField.value,this.config.dateDelimiter),e)}}},{key:"refresh",
value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&"string"!=typeof t&&(e=t,t=void 0),Pr(this,"picker"===t?2:"input"===t?1:3,!e)}},{key:"enterEditMode",value:function(){this.inline||!this.picker.active||this.editMode||(this.editMode=!0,this.inputField.classList.add("in-edit","border-blue-700","!border-primary-700"))}},{key:"exitEditMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!this.inline&&this.editMode){var e=Object.assign({update:!1},t);delete this.editMode,this.inputField.classList.remove("in-edit","border-blue-700","!border-primary-700"),e.update&&this.update(e)}}}],[{key:"formatDate",value:function(t,e,i){return Wn(t,e,i&&Xp[i]||Xp.en)}},{key:"parseDate",value:function(t,e,i){return qn(t,e,i&&Xp[i]||Xp.en)}},{key:"locales",get:function(){return Xp}}])}(),ff=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};tn(this,t);var n=Array.isArray(i.inputs)?i.inputs:Array.from(e.querySelectorAll("input"));if(!(n.length<2)){e.rangepicker=this,this.element=e,this.inputs=n.slice(0,2),this.allowOneSidedRange=!!i.allowOneSidedRange;var r=Fr.bind(null,this),o=jr(i),s=[];Object.defineProperty(this,"datepickers",{get:function(){return s}}),Rr(this,r,this.inputs[0],o),Rr(this,r,this.inputs[1],o),Object.freeze(s),s[0].dates.length>0?Fr(this,{target:this.inputs[0]}):s[1].dates.length>0&&Fr(this,{target:this.inputs[1]})}}return nn(t,[{key:"dates",get:function(){return 2===this.datepickers.length?[this.datepickers[0].dates[0],this.datepickers[1].dates[0]]:void 0}},{key:"setOptions",value:function(t){this.allowOneSidedRange=!!t.allowOneSidedRange;var e=jr(t);this.datepickers[0].setOptions(e),this.datepickers[1].setOptions(e)}},{key:"destroy",value:function(){this.datepickers[0].destroy(),this.datepickers[1].destroy(),Kn(this),delete this.element.rangepicker}},{key:"getDates",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=e?function(i){return Wn(i,e,t.datepickers[0].config.locale)}:function(t){return new Date(t)};return this.dates.map((function(t){return void 0===t?t:i(t)}))}},{key:"setDates",value:function(t,e){var i=fn(this.datepickers,2),n=i[0],r=i[1],o=this.dates;this._updating=!0,n.setDate(t),r.setDate(e),delete this._updating,r.dates[0]!==o[1]?Fr(this,{target:this.inputs[1]}):n.dates[0]!==o[0]&&Fr(this,{target:this.inputs[0]})}}])}(),gf=function(){return gf=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},gf.apply(this,arguments)},mf={defaultDatepickerId:null,autohide:!1,format:"mm/dd/yyyy",maxDate:null,minDate:null,orientation:"bottom",buttons:!1,autoSelectToday:0,title:null,language:"en",rangePicker:!1,onShow:function(){},onHide:function(){}},vf={id:null,override:!0},yf=function(){function t(t,e,i){void 0===t&&(t=null),void 0===e&&(e=mf),void 0===i&&(i=vf),this._instanceId=i.id?i.id:t.id,this._datepickerEl=t,this._datepickerInstance=null,this._options=gf(gf({},mf),e),this._initialized=!1,this.init(),ph.addInstance("Datepicker",this,this._instanceId,i.override)}return t.prototype.init=function(){this._datepickerEl&&!this._initialized&&(this._options.rangePicker?this._datepickerInstance=new ff(this._datepickerEl,this._getDatepickerOptions(this._options)):this._datepickerInstance=new pf(this._datepickerEl,this._getDatepickerOptions(this._options)),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1,this._datepickerInstance.destroy())},t.prototype.removeInstance=function(){this.destroy(),ph.removeInstance("Datepicker",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getDatepickerInstance=function(){return this._datepickerInstance},t.prototype.getDate=function(){return this._options.rangePicker&&this._datepickerInstance instanceof ff?this._datepickerInstance.getDates():!this._options.rangePicker&&this._datepickerInstance instanceof pf?this._datepickerInstance.getDate():void 0},t.prototype.setDate=function(t){return this._options.rangePicker&&this._datepickerInstance instanceof ff?this._datepickerInstance.setDates(t):!this._options.rangePicker&&this._datepickerInstance instanceof pf?this._datepickerInstance.setDate(t):void 0},t.prototype.show=function(){this._datepickerInstance.show(),this._options.onShow(this)},t.prototype.hide=function(){this._datepickerInstance.hide(),this._options.onHide(this)},t.prototype._getDatepickerOptions=function(t){var e={};return t.buttons&&(e.todayBtn=!0,e.clearBtn=!0,t.autoSelectToday&&(e.todayBtnMode=1)),t.autohide&&(e.autohide=!0),t.format&&(e.format=t.format),t.maxDate&&(e.maxDate=t.maxDate),t.minDate&&(e.minDate=t.minDate),t.orientation&&(e.orientation=t.orientation),t.title&&(e.title=t.title),t.language&&(e.language=t.language),e},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t}();"undefined"!=typeof window&&(window.Datepicker=yf,window.initDatepickers=Br),"undefined"!=typeof window&&(window.initFlowbite=Nr),new dh("load",[we,ke,_e,xe,Vi,Hi,zi,qi,Wi,Ui,Ki,$i,Ji,Br]).init();var bf=class{DEFAULT_OPTIONS={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onHide:()=>{},onShow:()=>{},onToggle:()=>{}};constructor(t,e,i=this.DEFAULT_OPTIONS){return this.trigger=e,i={...this.DEFAULT_OPTIONS,...i},new ap(t,e,i)}},wf=class extends lh{initialize(){this.dropdown=new bf(this.targetTarget,this.triggerTarget)}};Aa(wf,"targets",["target","trigger"]);var kf=class extends lh{initialize(){this.dropdown=new bf(this.targetTarget,this.triggerTarget,{onHide:()=>{this.triggerTarget.blur()}})}onHide(t){const e=this.triggerTarget.querySelector("#chevron");this.triggerTarget.innerText=t.currentTarget.innerText,this.triggerTarget.appendChild(e),this.dropdown.hide()}};Aa(kf,"targets",["target","trigger"]);var _f=class extends lh{connect(){this.defaultLabelTarget.click()}submit(t){if(null==t.currentTarget.getAttribute("form")){t.currentTarget.closest("form").requestSubmit()}else{document.getElementById(t.currentTarget.getAttribute("form")).requestSubmit()}}};Aa(_f,"targets",["defaultLabel"]);var xf=class extends lh{applySkeleton(){this.skeletonDivTargets.forEach((t=>{t.classList.remove("hidden")})),this.contentDivTargets.forEach((t=>{t.classList.add("hidden")}))}};Aa(xf,"targets",["skeletonDiv","contentDiv"]);var Ef=class extends lh{hideData(){this.eyeOnTarget.classList.add("hidden"),this.eyeOffTarget.classList.remove("hidden");this.cardValueTargets.forEach((t=>{t.innerHTML="***"}))}unhideData(){this.eyeOnTarget.classList.remove("hidden"),this.eyeOffTarget.classList.add("hidden");this.cardValueTargets.forEach((t=>{t.innerHTML=t.dataset.value}))}};Aa(Ef,"targets",["eyeOn","eyeOff","cardValue"]);var Af=class extends lh{unhideTurboFrame(){this.turboFrameElementTargets.forEach((t=>{t.removeAttribute("hidden")}))}};Aa(Af,"targets",["turboFrameElement"]);var Sf=class extends lh{initialize(){this.carousel=new Carousel(this._createItems(),this._createOptions()),Vr(this.element,(t=>{"left"==t?this.carousel.next():"right"==t&&this.carousel.prev()}))}_createItems(){return this.itemTargets.map(((t,e)=>({position:e,el:t})))}_createIndicators(){return this.indicatorTargets.map(((t,e)=>({position:e,el:t})))}_createOptions(){return{defaultPosition:this.defaultPositionValue,interval:3e3,indicators:{activeClasses:this.activeIndicatorClassesValue,inactiveClasses:this.inactiveIndicatorClassesValue,items:this._createIndicators()}}}};Aa(Sf,"targets",["indicator","item","activeIndicator","inactiveIndicator"]),Aa(Sf,"values",{activeIndicatorClasses:{type:String,default:"bg-pink-600 dark:bg-gray-800"},inactiveIndicatorClasses:{type:String,default:"bg-gray-200"},defaultPosition:{type:Number,default:0}});var Of=class extends lh{previewImage(){const t=this.inputFileFieldTarget.files[0];var e=new Image;e.src=URL.createObjectURL(t),e.onload=()=>{if(this.permittedWidthValue&&this.permittedHeightValue&&(e.width!=this.permittedWidthValue||e.height!=this.permittedHeightValue))return void alert(`A imagem deve ter as dimens\xf5es de ${this.permittedWidthValue}px x ${this.permittedHeightValue}px`);const i=new FileReader;i.onload=t=>{this.imagePreviewTagTarget.src=t.target.result},i.readAsDataURL(t),this.imagePreviewTagTarget.classList.remove("hidden"),this.actionsTarget.classList.remove("hidden"),this.removeTarget.value=!1,this.defaultSvgTargets.forEach((t=>{t.classList.add("hidden")}))}}removeImage(){this.inputFileFieldTarget.value="",this.imagePreviewTagTarget.src="",this.imagePreviewTagTarget.classList.add("hidden"),this.removeTarget.value=!0,this.actionsTarget.classList.add("hidden"),this.defaultSvgTargets.forEach((t=>{t.classList.remove("hidden")}))}};Aa(Of,"targets",["inputFileField","imagePreviewTag","defaultSvg","actions","remove"]),Aa(Of,"values",{permittedWidth:Number,permittedHeight:Number});var Cf=class extends lh{submit(t){if(t.preventDefault(),null==t.currentTarget.getAttribute("form")){t.currentTarget.closest("form").requestSubmit()}else{document.getElementById(t.currentTarget.getAttribute("form")).requestSubmit()}}preventSubmit(t){13===t.keyCode&&t.preventDefault()}};Aa(Cf,"targets",["formTag"]);var Tf=class extends lh{connect(){const t={placement:"bottom",onHide:()=>{},onShow:()=>{}};new Dropdown(this.dropdownMenuTarget,this.buttonTarget,t)}submit(t){if(null==t.currentTarget.getAttribute("form")){t.currentTarget.closest("form").requestSubmit()}else{document.getElementById(t.currentTarget.getAttribute("form")).requestSubmit()}}};Aa(Tf,"targets",["button","dropdownMenu"]);var Df=class extends lh{connect(){const t={placement:"bottom",onHide:()=>{},onShow:()=>{}};new Dropdown(this.dropdownMenuTarget,this.buttonTarget,t)}selectItem(t){t.currentTarget.closest("form").requestSubmit()}};Aa(Df,"targets",["button","dropdownMenu","dropdownItem"]);var Lf=class extends lh{initialize(){const t={backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-40",onHide:()=>{},onShow:()=>{},onToggle:()=>{},closable:!0,backdrop:"dynamic"};this.modal=new Modal(this.modalTarget,t)}show(){this.modal.show()}hide(){this.modal.hide()}};Aa(Lf,"targets",["modal"]);var If=class extends lh{href(t){window.location.href=t.currentTarget.dataset.href}},Pf=class extends lh{initialize(){const t={placement:this.placementValue||"bottom",triggerType:this.triggerTypeValue||"hover",onHide:()=>{},onShow:()=>{},onToggle:()=>{}},e={id:"tooltipContent",override:!0};this.tooltip=new Tooltip(this.contentTarget,this.triggerTarget,t,e)}show(){this.tooltip.show()}hide(){this.tooltip.hide()}};Aa(Pf,"values",{placement:String,triggerType:String}),Aa(Pf,"targets",["trigger","content"]);var Mf=class extends lh{connect(){this._addEventListeners()}disconnect(){this._removeEventListeners()}showTooltip(){this.contentTarget.style.opacity=1,this.contentTarget.style.visibility="visible"}hideTooltip(){this.contentTarget.style.opacity=0,this.contentTarget.style.visibility="hidden"}_addEventListeners(){this.triggerTarget.addEventListener("mouseover",(()=>{this.showTooltip()})),document.addEventListener("click",(t=>{this.contentTarget.contains(t.target)||t.target===this.triggerTarget||this.hideTooltip()}))}_removeEventListeners(){this.triggerTarget.removeEventListener("mouseover",(()=>{this.showTooltip()})),document.removeEventListener("click",(t=>{this.contentTarget.contains(t.target)||t.target===this.triggerTarget||this.hideTooltip()}))}};Aa(Mf,"targets",["content","trigger"]),Da(),Da();var jf=function(t){function e(e,i){var n=t.call(this,i)||this;return n.field=e,n}return $o(e,t),e}(Error),Rf={name:"Event Validation",type:"before",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:Kr,identify:Kr,page:Kr,alias:Kr,group:Kr,screen:Kr},Ff=function(t){return function(){for(var e,i,n,r,o,s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var l=null;l=null!==(n=null!==(e=s.find(Hr))&&void 0!==e?e:null===(i=s.find(zr))||void 0===i?void 0:i.toString())&&void 0!==n?n:t.id();var c=s.filter((function(t){return null===l?Wr(t):Wr(t)||null===t})),u=null!==(r=c[0])&&void 0!==r?r:{},d=null!==(o=c[1])&&void 0!==o?o:{},h=s.find(qr);return[l,u,d,h]}};Ia(),bl(),ol(),Da(),Ua(),Fa();var Bf=Ea(wl()),Nf=function(){function t(t){this.user=t}return t.prototype.track=function(t,e,i,n){return this.normalize(Jo(Jo({},this.baseEvent()),{event:t,type:"track",properties:e,options:Jo({},i),integrations:Jo({},n)}))},t.prototype.page=function(t,e,i,n,r){var o,s={type:"page",properties:Jo({},i),options:Jo({},n),integrations:Jo({},r)};return null!==t&&(s.category=t,s.properties=null!==(o=s.properties)&&void 0!==o?o:{},s.properties.category=t),null!==e&&(s.name=e),this.normalize(Jo(Jo({},this.baseEvent()),s))},t.prototype.screen=function(t,e,i,n,r){var o={type:"screen",properties:Jo({},i),options:Jo({},n),integrations:Jo({},r)};return null!==t&&(o.category=t),null!==e&&(o.name=e),this.normalize(Jo(Jo({},this.baseEvent()),o))},t.prototype.identify=function(t,e,i,n){return this.normalize(Jo(Jo({},this.baseEvent()),{type:"identify",userId:t,traits:e,options:Jo({},i),integrations:Jo({},n)}))},t.prototype.group=function(t,e,i,n){return this.normalize(Jo(Jo({},this.baseEvent()),{type:"group",traits:e,options:Jo({},i),integrations:Jo({},n),groupId:t}))},t.prototype.alias=function(t,e,i,n){var r={userId:t,type:"alias",options:Jo({},i),integrations:Jo({},n)};return null!==e&&(r.previousId=e),void 0===t?this.normalize(Jo(Jo({},r),this.baseEvent())):this.normalize(Jo(Jo({},this.baseEvent()),r))},t.prototype.baseEvent=function(){var t={integrations:{},options:{}},e=this.user;return e.id()&&(t.userId=e.id()),e.anonymousId()&&(t.anonymousId=e.anonymousId()),t},t.prototype.context=function(t){var e,i,n,o=["integrations","anonymousId","timestamp","userId"],s=null!==(e=t.options)&&void 0!==e?e:{};delete s.integrations;var a=Object.keys(s),l=null!==(n=null===(i=t.options)||void 0===i?void 0:i.context)&&void 0!==n?n:{},c={};return a.forEach((function(t){"context"!==t&&(o.includes(t)?r(c,t,s[t]):r(l,t,s[t]))})),[l,c]},t.prototype.normalize=function(t){var e,i,n;(null===(e=t.options)||void 0===e?void 0:e.anonymousId)&&this.user.anonymousId(t.options.anonymousId);var r=Object.keys(null!==(i=t.integrations)&&void 0!==i?i:{}).reduce((function(e,i){var n,r;return Jo(Jo({},e),((n={})[i]=Boolean(null===(r=t.integrations)||void 0===r?void 0:r[i]),n))}),{}),o=Jo(Jo({},r),null===(n=t.options)||void 0===n?void 0:n.integrations),s=this.context(t),a=s[0],l=s[1],c=(t.options,Yo(t,["options"])),u=Jo(Jo(Jo({timestamp:new Date},c),{context:a,integrations:o}),l),d="ajs-next-"+Bf.default.hash(JSON.stringify(u)+p());return Jo(Jo({},u),{messageId:d})},t}();Da(),_l(),ol();var Vf=function(t){function e(e){return t.call(this,null!=e?e:new da(4,"event-queue"))||this}return $o(e,t),e}(Bs);fl(),pl(),_l(),cl(),kl(),al();var Hf="This is being deprecated and will be not be available in future releases of Analytics JS",zf=Vs(),qf=null==zf?void 0:zf.analytics,Wf=function(t){function e(e,i,n,r,o){var s,a,l,c=this;(c=t.call(this)||this)._debug=!1,c.initialized=!1,c.user=function(){return c._user},c.init=c.initialize.bind(c),c.log=Qr,c.addIntegrationMiddleware=Qr,c.listeners=Qr,c.addEventListener=Qr,c.removeAllListeners=Qr,c.removeListener=Qr,c.removeEventListener=Qr,c.hasListeners=Qr,c.add=Qr,c.addIntegration=Qr;var u=null==i?void 0:i.cookie,d=null!==(s=null==i?void 0:i.disableClientPersistence)&&void 0!==s&&s;return c.settings=e,c.settings.timeout=null!==(a=c.settings.timeout)&&void 0!==a?a:300,c.queue=null!=n?n:Gr(null==i?void 0:i.retryQueue,d),c._universalStorage=new Qs(d?["memory"]:["localStorage","cookie","memory"],D(u)),c._user=null!=r?r:new Xs(d?Jo(Jo({},null==i?void 0:i.user),{persist:!1}):null==i?void 0:i.user,u).load(),c._group=null!=o?o:new ta(d?Jo(Jo({},null==i?void 0:i.group),{persist:!1}):null==i?void 0:i.group,u).load(),c.eventFactory=new Nf(c._user),c.integrations=null!==(l=null==i?void 0:i.integrations)&&void 0!==l?l:{},c.options=null!=i?i:{},T(c),c}return $o(e,t),Object.defineProperty(e.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),e.prototype.track=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ns(this,void 0,void 0,(function(){var e,i,n,r,o,s,a=this;return rs(this,(function(){return e=$r.apply(void 0,t),i=e[0],n=e[1],r=e[2],o=e[3],s=this.eventFactory.track(i,n,r,this.integrations),[2,this._dispatch(s,o).then((function(t){return a.emit("track",i,t.event.properties,t.event.options),t}))]}))}))},e.prototype.page=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ns(this,void 0,void 0,(function(){var e,i,n,r,o,s,a,l=this;return rs(this,(function(){return e=Jr.apply(void 0,t),i=e[0],n=e[1],r=e[2],o=e[3],s=e[4],a=this.eventFactory.page(i,n,r,o,this.integrations),[2,this._dispatch(a,s).then((function(t){return l.emit("page",i,n,t.event.properties,t.event.options),t}))]}))}))},e.prototype.identify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ns(this,void 0,void 0,(function(){var e,i,n,r,o,s,a=this;return rs(this,(function(){return e=Ff(this._user).apply(void 0,t),i=e[0],n=e[1],r=e[2],o=e[3],this._user.identify(i,n),s=this.eventFactory.identify(this._user.id(),this._user.traits(),r,this.integrations),[2,this._dispatch(s,o).then((function(t){return a.emit("identify",t.event.userId,t.event.traits,t.event.options),t}))]}))}))},e.prototype.group=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];if(0===e.length)return this._group;var n=Ff(this._group).apply(void 0,e),r=n[0],o=n[1],s=n[2],a=n[3];this._group.identify(r,o);var l=this._group.id(),c=this._group.traits(),u=this.eventFactory.group(l,c,s,this.integrations);return this._dispatch(u,a).then((function(e){return t.emit("group",e.event.groupId,e.event.traits,e.event.options),e}))},e.prototype.alias=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ns(this,void 0,void 0,(function(){var e,i,n,r,o,s,a=this;return rs(this,(function(){return e=Yr.apply(void 0,t),i=e[0],n=e[1],r=e[2],o=e[3],s=this.eventFactory.alias(i,n,r,this.integrations),[2,this._dispatch(s,o).then((function(t){return a.emit("alias",i,n,t.event.options),t}))]}))}))},e.prototype.screen=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ns(this,void 0,void 0,(function(){var e,i,n,r,o,s,a,l=this;return rs(this,(function(){return e=Jr.apply(void 0,t),i=e[0],n=e[1],r=e[2],o=e[3],s=e[4],a=this.eventFactory.screen(i,n,r,o,this.integrations),[2,this._dispatch(a,s).then((function(t){return l.emit("screen",i,n,t.event.properties,t.event.options),t}))]}))}))},e.prototype.trackClick=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ns(this,void 0,void 0,(function(){var e,i;return rs(this,(function(n){switch(n.label){case 0:return[4,Promise.resolve().then((()=>(Sl(),El)))];case 1:return e=n.sent(),[2,(i=e.link).call.apply(i,ds([this],t,!1))]}}))}))},e.prototype.trackLink=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ns(this,void 0,void 0,(function(){var e,i;return rs(this,(function(n){switch(n.label){case 0:return[4,Promise.resolve().then((()=>(Sl(),El)))];case 1:return e=n.sent(),[2,(i=e.link).call.apply(i,ds([this],t,!1))]}}))}))},e.prototype.trackSubmit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ns(this,void 0,void 0,(function(){var e,i;return rs(this,(function(n){switch(n.label){case 0:return[4,Promise.resolve().then((()=>(Sl(),El)))];case 1:return e=n.sent(),[2,(i=e.form).call.apply(i,ds([this],t,!1))]}}))}))},e.prototype.trackForm=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ns(this,void 0,void 0,(function(){var e,i;return rs(this,(function(n){switch(n.label){case 0:return[4,Promise.resolve().then((()=>(Sl(),El)))];case 1:return e=n.sent(),[2,(i=e.form).call.apply(i,ds([this],t,!1))]}}))}))},e.prototype.register=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ns(this,void 0,void 0,(function(){var e,i,n=this;return rs(this,(function(r){switch(r.label){case 0:return e=la.system(),i=t.map((function(t){return n.queue.register(e,t,n)})),[4,Promise.all(i)];case 1:return r.sent(),[2,e]}}))}))},e.prototype.deregister=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ns(this,void 0,void 0,(function(){var e,i,n=this;return rs(this,(function(r){switch(r.label){case 0:return e=la.system(),i=t.map((function(t){var i=n.queue.plugins.find((function(e){return e.name===t}));if(i)return n.queue.deregister(e,i,n);e.log("warn","plugin ".concat(t," not found"))})),[4,Promise.all(i)];case 1:return r.sent(),[2,e]}}))}))},e.prototype.debug=function(t){return!1===t&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=t,this},e.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},e.prototype.timeout=function(t){this.settings.timeout=t},e.prototype._dispatch=function(t,e){return ns(this,void 0,void 0,(function(){var i;return rs(this,(function(){return i=new la(t),n()&&!this.options.retryQueue?[2,i]:[2,k(i,this.queue,this,{callback:e,debug:this._debug,timeout:this.settings.timeout})]}))}))},e.prototype.addSourceMiddleware=function(t){return ns(this,void 0,void 0,(function(){var e=this;return rs(this,(function(i){switch(i.label){case 0:return[4,this.queue.criticalTasks.run((function(){return ns(e,void 0,void 0,(function(){var e,i,n;return rs(this,(function(r){switch(r.label){case 0:return[4,Promise.resolve().then((()=>(Yl(),Jl)))];case 1:return e=r.sent().sourceMiddlewarePlugin,i={},this.queue.plugins.forEach((function(t){if("destination"===t.type)return i[t.name]=!0})),n=e(t,i),[4,this.register(n)];case 2:return r.sent(),[2]}}))}))}))];case 1:return i.sent(),[2,this]}}))}))},e.prototype.addDestinationMiddleware=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return this.queue.plugins.filter((function(e){return e.name.toLowerCase()===t.toLowerCase()})).forEach((function(t){t.addMiddleware.apply(t,e)})),Promise.resolve(this)},e.prototype.setAnonymousId=function(t){return this._user.anonymousId(t)},e.prototype.queryString=function(t){return ns(this,void 0,void 0,(function(){return rs(this,(function(e){switch(e.label){case 0:return!1===this.options.useQueryString?[2,[]]:[4,Promise.resolve().then((()=>(lc(),Ql)))];case 1:return[2,(0,e.sent().queryString)(this,t)]}}))}))},e.prototype.use=function(t){return t(this),this},e.prototype.ready=function(t){return void 0===t&&(t=function(t){return t}),ns(this,void 0,void 0,(function(){return rs(this,(function(){return[2,Promise.all(this.queue.plugins.map((function(t){return t.ready?t.ready():Promise.resolve()}))).then((function(e){return t(e),e}))]}))}))},e.prototype.noConflict=function(){return console.warn(Hf),window.analytics=null!=qf?qf:this,this},e.prototype.normalize=function(t){return console.warn(Hf),this.eventFactory.normalize(t)},Object.defineProperty(e.prototype,"failedInitializations",{get:function(){return console.warn(Hf),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"VERSION",{get:function(){return zs},enumerable:!1,configurable:!0}),e.prototype.initialize=function(){return ns(this,void 0,void 0,(function(){return rs(this,(function(){return console.warn(Hf),[2,Promise.resolve(this)]}))}))},e.prototype.pageview=function(t){return ns(this,void 0,void 0,(function(){return rs(this,(function(e){switch(e.label){case 0:return console.warn(Hf),[4,this.page({path:t})];case 1:return e.sent(),[2,this]}}))}))},Object.defineProperty(e.prototype,"plugins",{get:function(){var t;return console.warn(Hf),null!==(t=this._plugins)&&void 0!==t?t:{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Integrations",{get:function(){return console.warn(Hf),this.queue.plugins.filter((function(t){return"destination"===t.type})).reduce((function(t,e){var i="".concat(e.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),n=window[i];if(!n)return t;var r=n.Integration;return r?(t[e.name]=r,t):(t[e.name]=n,t)}),{})},enumerable:!1,configurable:!0}),e.prototype.push=function(t){var e=this,i=t.shift();i&&!e[i]||e[i].apply(this,t)},e}(_s);Da(),cc(),ll(),uc();var Uf=function(){var t,e,i=new Promise((function(i,n){t=i,e=n}));return{resolve:t,reject:e,promise:i}},Kf={name:"Page Enrichment",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},type:"before",page:function(t){return t.event.properties=Object.assign({},io(),t.event.properties),t.event.name&&(t.event.properties.name=t.event.name),no(t)},alias:no,track:no,identify:no,group:no};Da(),dc(),cc(),Yl(),bl();var $f=function(){function t(t,e){this.version="1.0.0",this.alternativeNames=[],this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=e,this.name=t,this.type=e.type,this.alternativeNames.push(e.name)}return t.prototype.addMiddleware=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];"destination"===this.type&&(t=this.middleware).push.apply(t,e)},t.prototype.transform=function(t){return ns(this,void 0,void 0,(function(){var e;return rs(this,(function(i){switch(i.label){case 0:return[4,G(this.name,t.event,this.middleware)];case 1:return null===(e=i.sent())&&t.cancel(new Ms({retry:!1,reason:"dropped by destination middleware"})),[2,new la(e)]}}))}))},t.prototype._createMethod=function(t){var e=this;return function(i){return ns(e,void 0,void 0,(function(){var e;return rs(this,(function(n){switch(n.label){case 0:return this.action[t]?(e=i,"destination"!==this.type?[3,2]:[4,this.transform(i)]):[2,i];case 1:e=n.sent(),n.label=2;case 2:return[4,this.action[t](e)];case 3:return n.sent(),[2,i]}}))}))}},t.prototype.isLoaded=function(){return this.action.isLoaded()},t.prototype.ready=function(){return this.action.ready?this.action.ready():Promise.resolve()},t.prototype.load=function(t,e){return this.action.load(t,e)},t.prototype.unload=function(t,e){var i,n;return null===(n=(i=this.action).unload)||void 0===n?void 0:n.call(i,t,e)},t}();Da(),Ia(),kl(),_l(),$l(),Da(),ll();var Jf=function(t){var e=!1;window.addEventListener("pagehide",(function(){e||(e=!0,t())})),document.addEventListener("visibilitychange",(function(){if("hidden"==document.visibilityState){if(e)return;e=!0,t()}else e=!1}))},Yf=500;ll(),gl(),Da(),Ia(),bl(),ol(),hc(),ml(),Da();var Gf=function(t){return"object"==typeof t&&null!==t&&"then"in t&&"function"==typeof t.then};cl();var Qf,Xf,Zf=function(t,e,i){i.getCalls(t).forEach((function(t){vo(e,t).catch(console.error)}))},tg=function(t,e){return ns(void 0,void 0,void 0,(function(){var i,n,r;return rs(this,(function(o){switch(o.label){case 0:i=0,n=e.getCalls("addSourceMiddleware"),o.label=1;case 1:return i<n.length?(r=n[i],[4,vo(t,r).catch(console.error)]):[3,4];case 2:o.sent(),o.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))},eg=Zf.bind(void 0,"on"),ig=Zf.bind(void 0,"setAnonymousId"),ng=function(t,e){e.toArray().forEach((function(e){setTimeout((function(){vo(t,e).catch(console.error)}),0)}))},rg=function(){function t(){this._value={}}return t.prototype.toArray=function(){var t;return(t=[]).concat.apply(t,Object.values(this._value))},t.prototype.getCalls=function(t){var e;return null!==(e=this._value[t])&&void 0!==e?e:[]},t.prototype.push=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return e.forEach((function(e){t._value[e.method]?t._value[e.method].push(e):t._value[e.method]=[e]})),this},t.prototype.clear=function(){return this._value={},this},t}(),og=function(){function t(t){var e=this;this._preInitBuffer=new rg,this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=zs,this._promise=t(this._preInitBuffer),this._promise.then((function(t){var i=t[0],n=t[1];e.instance=i,e.ctx=n})).catch((function(){}))}return t.prototype.then=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return(t=this._promise).then.apply(t,e)},t.prototype.catch=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return(t=this._promise).catch.apply(t,e)},t.prototype.finally=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return(t=this._promise).finally.apply(t,e)},t.prototype._createMethod=function(t){var e=this;return function(){for(var i,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(e.instance){var o=(i=e.instance)[t].apply(i,n);return Promise.resolve(o)}return new Promise((function(i,r){e._preInitBuffer.push({method:t,args:n,resolve:i,reject:r,called:!1})}))}},t.prototype._createChainableMethod=function(t){var e=this;return function(){for(var i,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.instance?((i=e.instance)[t].apply(i,n),e):(e._preInitBuffer.push({method:t,args:n,resolve:function(){},reject:console.error,called:!1}),e)}},t}(),sg=function(t){return t.map(yo)},ag=function(){var t=window.analytics;if(!Array.isArray(t))return[];var e=t.splice(0,t.length);return sg(e)};al();var lg=null!==(Qf=(Xf=Vs()).__SEGMENT_INSPECTOR__)&&void 0!==Qf?Qf:Xf.__SEGMENT_INSPECTOR__={},cg=function(t){var e;return null===(e=lg.attach)||void 0===e?void 0:e.call(lg,t)};yl();var ug=function(t){function e(){var e=this,i=Uf(),n=i.promise,r=i.resolve;return(e=t.call(this,(function(t){return n.then((function(e){return Ao(e[0],e[1],t)}))}))||this)._resolveLoadStart=function(t,e){return r([t,e])},e}return $o(e,t),e.prototype.load=function(t,e){return void 0===e&&(e={}),this._resolveLoadStart(t,e),this},e.load=function(t,i){return void 0===i&&(i={}),(new e).load(t,i)},e.standalone=function(t,i){return e.load({writeKey:t},i).then((function(t){return t[0]}))},e}(og),dg=class{constructor(t){this._analytics=new ug,this._analytics=this._analytics.load({writeKey:t})}track(t,e){this._analyticsLoaded()&&this._analytics.track(t,e)}page(){this._analyticsLoaded()&&this._analytics.page()}identifyUser(t,e={}){this._analyticsLoaded()&&this._analytics.identify(t,e)}_analyticsLoaded(){return void 0!==this._analytics}},hg=class extends lh{initialize(){this.segment=new dg(this.writeKeyValue),this.segment.page(),void 0!==this.userIdValue&&void 0!==this.userPropertiesValue&&this.segment.identifyUser(this.userIdValue,this.userPropertiesValue)}trackEvent(t){this.segment.track(t.currentTarget.dataset.eventName,JSON.parse(t.currentTarget.dataset.eventProperties))}};Aa(hg,"values",{userProperties:Object,userId:String,writeKey:String});var pg=class extends lh{async copy(t){const e=this.inputTarget;t.currentTarget.innerText=this.textValue,await So(e)}};Aa(pg,"targets",["input"]),Aa(pg,"values",{text:{type:String,default:"Copiado!"}});var fg=Ea(Ed()),gg=class extends lh{initialize(){const t=this.element.querySelector("input[id^='kind']:checked").value;this._changeInputsMaskByType(t)}change(t){const e=t.currentTarget,i=this.inputValueTarget.value;this._changeInputsMaskByType(e.dataset.value),this.inputValueTarget.value=i;const n=new Event("changeDiscountType");e.dispatchEvent(n)}_changeInputsMaskByType(t){"value"===t?this.inputValueTargets.forEach((t=>{Mo(t)})):this.inputValueTargets.forEach((t=>{Co(t)}))}};Aa(gg,"targets",["inputValue"]);var mg=class extends lh{initialize(){this.hasInputValueTarget&&this.inputValueTargets.forEach((t=>{Po(t)}))}};Aa(mg,"targets",["inputValue"]);var vg=class extends lh{
initialize(){this.hasInputValueTarget&&this.inputValueTargets.forEach((t=>{jo(t)}))}};Aa(vg,"targets",["inputValue"]);var yg=class{constructor(t){this.response=t}get statusCode(){return this.response.status}get redirected(){return this.response.redirected}get ok(){return this.response.ok}get unauthenticated(){return 401===this.statusCode}get unprocessableEntity(){return 422===this.statusCode}get authenticationURL(){return this.response.headers.get("WWW-Authenticate")}get contentType(){return(this.response.headers.get("Content-Type")||"").replace(/;.*$/,"")}get headers(){return this.response.headers}get html(){return this.contentType.match(/^(application|text)\/(html|xhtml\+xml)$/)?this.text:Promise.reject(new Error(`Expected an HTML response but got "${this.contentType}" instead`))}get json(){return this.contentType.match(/^application\/.*json$/)?this.responseJson||(this.responseJson=this.response.json()):Promise.reject(new Error(`Expected a JSON response but got "${this.contentType}" instead`))}get text(){return this.responseText||(this.responseText=this.response.text())}get isTurboStream(){return this.contentType.match(/^text\/vnd\.turbo-stream\.html/)}async renderTurboStream(){if(!this.isTurboStream)return Promise.reject(new Error(`Expected a Turbo Stream response but got "${this.contentType}" instead`));window.Turbo?await window.Turbo.renderStreamMessage(await this.text):console.warn("You must set `window.Turbo = Turbo` to automatically process Turbo Stream events with request.js")}},bg=class{static register(t){this.interceptor=t}static get(){return this.interceptor}static reset(){this.interceptor=void 0}},wg=class{constructor(t,e,i={}){this.method=t,this.options=i,this.originalUrl=e.toString()}async perform(){try{const t=bg.get();t&&await t(this)}catch(t){console.error(t)}const t=new yg(await window.fetch(this.url,this.fetchOptions));return t.unauthenticated&&t.authenticationURL?Promise.reject(window.location.href=t.authenticationURL):(t.ok&&t.isTurboStream&&await t.renderTurboStream(),t)}addHeader(t,e){const i=this.additionalHeaders;i[t]=e,this.options.headers=i}get fetchOptions(){return{method:this.method.toUpperCase(),headers:this.headers,body:this.formattedBody,signal:this.signal,credentials:"same-origin",redirect:this.redirect}}get headers(){return Fo(Object.assign({"X-Requested-With":"XMLHttpRequest","X-CSRF-Token":this.csrfToken,"Content-Type":this.contentType,Accept:this.accept},this.additionalHeaders))}get csrfToken(){return Ro(Bo("csrf-param"))||Bo("csrf-token")}get contentType(){return this.options.contentType?this.options.contentType:null==this.body||this.body instanceof window.FormData?void 0:this.body instanceof window.File?this.body.type:"application/json"}get accept(){switch(this.responseKind){case"html":return"text/html, application/xhtml+xml";case"turbo-stream":return"text/vnd.turbo-stream.html, text/html, application/xhtml+xml";case"json":return"application/json, application/vnd.api+json";default:return"*/*"}}get body(){return this.options.body}get query(){const t=(this.originalUrl.split("?")[1]||"").split("#")[0],e=new URLSearchParams(t);let i=this.options.query;i=i instanceof window.FormData?No(i):i instanceof window.URLSearchParams?i.entries():Object.entries(i||{}),Vo(e,i);const n=e.toString();return n.length>0?`?${n}`:""}get url(){return this.originalUrl.split("?")[0].split("#")[0]+this.query}get responseKind(){return this.options.responseKind||"html"}get signal(){return this.options.signal}get redirect(){return this.options.redirect||"follow"}get additionalHeaders(){return this.options.headers||{}}get formattedBody(){const t="[object String]"===Object.prototype.toString.call(this.body);return"application/json"===this.headers["Content-Type"]&&!t?JSON.stringify(this.body):this.body}},kg=t=>{let e;const i=new Set,n=(t,n)=>{const r="function"==typeof t?t(e):t;if(r!==e){const t=e;e=(null!=n?n:"object"!=typeof r)?r:Object.assign({},e,r),i.forEach((i=>i(e,t)))}},r=()=>e,o={setState:n,getState:r,subscribe:t=>(i.add(t),()=>i.delete(t)),destroy:()=>i.clear()};return e=t(n,r,o),o},_g=t=>t?kg(t):kg,xg=["item","items","checkAll"],Eg=t=>{const e=_g((()=>({checked:[]})));Object.assign(t,{_getState:()=>e.getState(),_setState:t=>e.setState(t),_subscribe:t=>e.subscribe(t),loadItems:()=>{t.itemTargets.forEach((t=>{e.getState().checked.includes(t.value)?t.checked=!0:t.checked=!1}))},setStateOfCheckAll:()=>{const i=JSON.parse(t.itemsTarget.dataset.values).map((t=>t.toString())),n=e.getState().checked.map((t=>t.toString()));i.every((t=>n.includes(t)))&&t.itemTargets.length>0&&e.getState().checked.length>0?t.checkAllTarget.checked=!0:t.checkAllTarget.checked=!1},checkItem(t){const i=t.currentTarget.value;e.getState().checked.includes(i)?e.setState({checked:e.getState().checked.filter((t=>t!==i))}):e.setState({checked:[...e.getState().checked,i]})},checkAll(i){const n=i.currentTarget.checked,r=JSON.parse(t.itemsTarget.dataset.values).map((t=>t.toString())),o=e.getState().checked.map((t=>t.toString())),s=r.filter((t=>!o.includes(t)));if(n&&s){const i=[...o,...s],n=Array.from(new Set(i));e.setState({checked:n}),t.itemTargets.forEach((t=>{const e=new CustomEvent("check:all");t.dispatchEvent(e)}))}else n||(e.setState({checked:[]}),t.itemTargets.forEach((t=>{const e=new CustomEvent("check:all:clear");t.dispatchEvent(e)})))}})},Ag=_g((()=>({popover:!1}))),{getState:Sg,setState:Og,subscribe:Cg}=Ag,Tg=t=>{t.classList.add("hidden")},Dg=t=>{t.classList.remove("hidden")},Lg=class extends lh{initialize(){Eg(this),this._subscribe((()=>(this.loadCounter(),this.loadItems(),this.setStateOfCheckAll()))),Cg((()=>this.loadPopover()))}connect(){document.addEventListener("turbo:frame-load",(()=>{Sg().popover&&Og({popover:!1})}))}activeSkeleton(){this.productListSkeletonTarget.classList.remove("hidden"),this.productListSkeletonTarget.classList.add("grid"),this.hasProductListTarget?this.productListTarget.classList.add("hidden"):this.emptyStateTarget.classList.add("hidden")}disableDeleteItem(t){const e=t.currentTarget.closest("ul");e.classList.add("opacity-50","cursor-not-allowed","bg-gray-200","pointer-events-none"),document.addEventListener("turbo:submit-end",(()=>{e.classList.remove("opacity-50","cursor-not-allowed","bg-gray-200","pointer-events-none")}))}loadPopover(){Sg().popover?this.showPopover():this.hidePopover()}showPopover(){Dg(this.popoverTarget),this.popoverTarget.classList.add("flex")}hidePopover(){Tg(this.popoverTarget),this.popoverTarget.classList.remove("flex")}loadCounter(){this.countProductsTarget.innerHTML=this._getState().checked.length}async sendProducts(t){const e=t.currentTarget.closest("form");let i=[];this.hasProductsIdListTarget&&(i=this.productsIdListTarget.value.split(",")?.map((t=>t.replace(/\D/,""))));try{this.activeSkeleton(),await Ho(e.action,{body:{promotion_id:this.promotionIdValue,products_v2_promotions_attributes:this._getState().checked.map((t=>({product_v2_id:t}))),selected_products_v2_id:i},responseKind:"turbo-stream"}),Og({popover:!0}),this._setState({checked:[]})}catch(t){console.log(t)}}};Aa(Lg,"targets",["countProducts","productListSkeleton","productList","productsIdList","wrapperProductsV2Promotion","popover","emptyState",...xg]),Aa(Lg,"values",{promotionId:Number});var Ig=class extends lh{initialize(){this.hasInputValueTarget&&this.inputValueTargets.forEach((t=>{Mo(t)}))}};Aa(Ig,"targets",["inputValue"]);var Pg=class extends lh{connect(){this.update()}update(){this.outputTarget.innerHTML=parseFloat(this.inputTarget.value).toFixed(2)}};Aa(Pg,"targets",["output","input"]);var Mg=class extends lh{connect(){this.discountType=document.querySelector("input[id^='kind']:checked").value,this._updateInnerHTML(),this.update()}update(){const t=parseFloat(this.saleRangeTarget.value).toFixed(2),e=parseFloat(this.discountRangeTarget.value).toFixed(2),i=parseFloat(this._basePrice()).toFixed(2);this.finalPriceOutputTarget.innerHTML=this._finalPrice(t,e,i)}updateDiscountType(t){this.discountType=t.currentTarget.dataset.value,this._updateInnerHTML(),this.update()}updateDiscount(t){this.discountRangeTarget.value=parseFloat(t.currentTarget.value).toFixed(2),this._updateInnerHTML(),this.update()}_basePrice(){const t=this.selectProductTypeTarget.value.replace(" ","-");return document.querySelector(`#option-${t}`).dataset.basePrice}_finalPrice(t,e,i){if("value"===this.discountType){return`R$${(t-e-i).toFixed(2)}`}return`R$${(t-t*(e/100)-i).toFixed(2)}`}_updateInnerHTML(){const t=parseFloat(this.discountRangeTarget.min).toFixed(2),e=parseFloat(this.discountRangeTarget.max).toFixed(2),i=parseFloat(this.discountRangeTarget.value).toFixed(2);"value"===this.discountType?(this.discountRangeOutputTarget.innerHTML=`R$<span data-ink-dashboard--output-input-range-target="output">${i}</span>`,this.discountRangeOutputMinTarget.innerHTML=`R$${t}`,this.discountRangeOutputMaxTarget.innerHTML=`R$${e}`):(this.discountRangeOutputTarget.innerHTML=`<span data-ink-dashboard--output-input-range-target="output">${i}</span>%`,this.discountRangeOutputMinTarget.innerHTML=`${t}%`,this.discountRangeOutputMaxTarget.innerHTML=`${e}%`)}};Aa(Mg,"targets",["saleRange","discountRange","discountRangeOutput","discountRangeOutputMin","discountRangeOutputMax","discountType","finalPriceOutput","selectProductType"]);var jg={Individual:"FiscalData::Individual",Business:"FiscalData::Business"},Rg=[jg.Individual,jg.Business],Fg=class extends lh{connect(){this.loadMaskPhone()}selectedFiscalDataTypeValueChanged(){Rg.includes(this.selectedFiscalDataTypeValue)&&(this._hideFiscalInputs(),this.selectedFiscalDataTypeValue===jg.Individual?this._showIndividualForm():this._showBusinessForm())}distinctableTypeTargetConnected(){this.selectedFiscalDataTypeValue=this.distinctableTypeTarget.value}loadMaskPhone(){const t=this.phoneTarget.value.replace(/\D/g,"");11===t.length?this.phoneTarget.value=t.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):10===t.length?this.phoneTarget.value=t.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3"):this.phoneTarget.value=t}birthdayTargetConnected(){new Inputmask("99/99/9999").mask(this.birthdayTarget)}companyCreatedAtTargetConnected(){new Inputmask("99/99/9999").mask(this.companyCreatedAtTarget)}cpfTargetConnected(){Do(this.cpfTarget,{removeMaskOnSubmit:!0})}cepTargetConnected(){Io(this.cepTarget)}cnpjTargetConnected(){Lo(this.cnpjTarget,{removeMaskOnSubmit:!0})}toggleFiscalDataTypeForm({target:t}){this.selectedFiscalDataTypeValue=t.value}_enableIndividualFormInputs(){this.individualFormInputTargets.forEach((t=>t.disabled=!1))}_disableIndividualFormInputs(){this.individualFormInputTargets.forEach((t=>t.disabled=!0))}_enableBusinessFormInputs(){this.businessFormInputTargets.forEach((t=>t.disabled=!1))}_disableBusinessFormInputs(){this.businessFormInputTargets.forEach((t=>t.disabled=!0))}_showIndividualForm(){this.individualFormTarget.classList.remove("hidden"),this.editableValue||(this._enableIndividualFormInputs(),this._disableBusinessFormInputs())}_showBusinessForm(){this.businessFormTarget.classList.remove("hidden"),this.editableValue||(this._enableBusinessFormInputs(),this._disableIndividualFormInputs())}_hideFiscalInputs(){this.individualFormTarget.classList.add("hidden"),this.businessFormTarget.classList.add("hidden")}loadAddress(t){const e=t.target.value;8===e.replace(/\D/g,"").length?(this._disableInputsAddress(),fetch(`/user/addresses/address_from_cep?cep=${e}`).then((t=>t.json())).then((t=>{this._setValueAddress(t)})).finally((()=>{this._enableInputsAddress()}))):alert("CEP inv\xe1lido!")}_enableInputsAddress(){this.streetTarget.removeAttribute("disabled"),this.numberTarget.removeAttribute("disabled"),this.neighbourhoodTarget.removeAttribute("disabled"),this.cityTarget.removeAttribute("disabled"),this.stateTarget.removeAttribute("disabled")}_disableInputsAddress(){this.streetTarget.setAttribute("disabled",!0),this.numberTarget.setAttribute("disabled",!0),this.neighbourhoodTarget.setAttribute("disabled",!0),this.cityTarget.setAttribute("disabled",!0),this.stateTarget.setAttribute("disabled",!0)}_setValueAddress(t){this.streetTarget.value=t.street,this.numberTarget.value=t.number,this.neighbourhoodTarget.value=t.neighbourhood,this.cityTarget.value=t.city,this.stateTarget.value=t.state}};Aa(Fg,"targets",["email","phone","distinctableType","cpf","birthday","companyCreatedAt","cnpj","stateRegistration","cep","businessForm","individualForm","individualFormInput","businessFormInput","street","number","neighbourhood","city","state"]),Aa(Fg,"values",{selectedFiscalDataType:{type:String,default:jg.Individual},editable:Boolean});var Bg=class extends lh{initialize(){const t=this.element.querySelector("input[id^='method']:checked").value;this.changeCopy({currentTarget:{checked:!0,value:t}})}changeCopy(t){const e=t.currentTarget;e.checked&&"apply_manually"===e.value?(this.titleTarget.innerHTML="<span class='text-gray-500'>*</span> Cupom de desconto <span class='text-gray-500'> (obrigat\xf3rio)</span>",this.subtitleTarget.innerText="Os clientes devem inserir este cupom no carrinho."):e.checked&&"apply_automatically"===e.value&&(this.titleTarget.innerHTML="<span class='text-gray-500'>*</span> T\xedtulo do desconto autom\xe1tico <span class='text-gray-500'> (obrigat\xf3rio)</span>",this.subtitleTarget.innerText="Os clientes ver\xe3o isso no carrinho.")}upperCaseCode(t){const e=t.currentTarget;e.value=e.value.toUpperCase()}};Aa(Bg,"targets",["title","subtitle"]);var Ng=class extends lh{initialize(){const t=this.element.querySelector("input[id^='progress']:checked").value,e=this.element.querySelector("input[id^='kind']:checked").value;this._changeValueInputsMaskByType(t),this._changeDiscountInputsMaskByType(e)}updateProgressionInputs(t){const e=t.currentTarget;e.checked&&(this._resetTemplates(),this._changeValueInputsMaskByType(e.dataset.value),this._changeProgressionTitleByType(e.dataset.value))}updateDiscountInputs(t){const e=t.currentTarget;if(!e.checked)return;this._resetTemplates(),this._changeDiscountInputsMaskByType(e.dataset.value);const i=new Event("changeDiscountType");e.dispatchEvent(i)}addProgression(t){t.preventDefault();const e=this.progressionTemplateTarget.cloneNode(!0);this.progressionsContainerTarget.appendChild(e);const i=this.progressionTemplateTargets.length-1;e.id=`progression-${i}`,this._updateValueInputsName(),this._updateDiscountInputsName(),this._updateRemoveButtons(),this._changeValueInputsMaskByType(this.element.querySelector("input[id^='progress']:checked").value),this._changeDiscountInputsMaskByType(this.element.querySelector("input[id^='kind']:checked").value),4===this.progressionTemplateTargets.length&&this.progressionAddButtonTarget.classList.add("hidden")}removeProgression(t){t.preventDefault(),this._removeProgressionTemplate(t.currentTarget),this._updateRemoveButtons(),this._updateValueInputsName(),this._updateDiscountInputsName(),this._changeValueInputsMaskByType(this.element.querySelector("input[id^='progress']:checked").value),this._changeDiscountInputsMaskByType(this.element.querySelector("input[id^='kind']:checked").value),3===this.progressionTemplateTargets.length&&this.progressionAddButtonTarget.classList.remove("hidden")}_updateValueInputsName(){this.progressionInputValueTargets.forEach(((t,e)=>{t.name=`promotion_progressive[discount_tiers_attributes][${e}][value]`}))}_updateDiscountInputsName(){this.progressionInputDiscountTargets.forEach(((t,e)=>{t.name=`promotion_progressive[discount_tiers_attributes][${e}][discount]`}))}_resetTemplates(){this.progressionTemplateTargets.forEach(((t,e)=>{e>1?t.remove():t.querySelectorAll("input").forEach((t=>{t.value=""}))}))}_updateRemoveButtons(){const t=this.progressionTemplateTargets.length-1;this.progressionTemplateTargets.forEach(((e,i)=>{const n=e.querySelector('span[id^="remove"]'),r=n.querySelector("button");n.id=`remove-${i}`,r.dataset.templateId=`progression-${i}`,n.classList.contains("hidden")||i===t?this._indexRemoveButtonEnableToVisible(t,i)&&n.classList.remove("hidden"):n.classList.add("hidden")}))}_indexRemoveButtonEnableToVisible(t,e){return e===t&&e>=2}_changeValueInputsMaskByType(t){"cart_items"===t?this.progressionInputValueTargets.forEach(((t,e)=>{Oo(t),t.placeholder=`${e+2}`})):this.progressionInputValueTargets.forEach(((t,e)=>{Mo(t),t.placeholder=`R$${89*(e+1)}.00`}))}_changeDiscountInputsMaskByType(t){"value"===t?this.progressionInputDiscountTargets.forEach(((t,e)=>{const i=t.value;Mo(t),t.value=i,t.placeholder=`R$${10*(e+1)}.00`})):this.progressionInputDiscountTargets.forEach(((t,e)=>{const i=t.value;Co(t),t.value=i,t.placeholder=5*(e+1)+"%"}))}_changeProgressionTitleByType(t){"cart_items"===t?this.progressionTitleTargets.forEach((t=>{t.innerHTML="<span class='text-gray-500'>* </span>A partir da unidade<span class='text-gray-500'> (obrigat\xf3rio)</span>"})):this.progressionTitleTargets.forEach((t=>{t.innerHTML="<span class='text-gray-500'>* </span>Mais de<span class='text-gray-500'> (obrigat\xf3rio)</span>"}))}_enableProgressionRemoveButton(t){t.querySelector("span[id^='remove']").classList.remove("hidden")}_removeProgressionTemplate(t){const e=document.getElementById(t.dataset.templateId),i=e.id.match(/\d+/)[0],n=document.querySelector(`input[id='remove-progress-${i}']`);n&&(n.value=!0),e.remove()}};Aa(Ng,"targets",["progressionsContainer","progressionTemplate","progressionTitle","progressionInputValue","progressionInputDiscount","progressionAddButton"]);var Vg=class extends lh{destroy(t){if(t.currentTarget.checked)return;const e=t.currentTarget.dataset.destroyId;document.getElementById(e).value="true"}},Hg={"pt-BR":{days:["Domingo","Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado"],daysShort:["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"],daysMin:["Do","Se","Te","Qu","Qu","Se","Sa"],months:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],today:"Hoje",monthsTitle:"Meses",clear:"Limpar",format:"dd/mm/yyyy"}},zg=class extends lh{initialize(){Object.assign(pf.locales,Hg),""==this.element.value&&(this.element.value=(new Date).toLocaleDateString("pt-BR")),this.dateRangePicker=new pf(this.element,{language:"pt-BR",format:"dd/mm/yyyy",autohide:!0,clearBtn:!0,todayBtn:!0,todayBtnMode:1})}},qg=class extends lh{connect(){const t=this.itemTargets.find((t=>t.dataset.value===this.selectedValue));t&&this.highlightItem(t)}handleItemClick({target:t}){const{value:e,selectable:i}=t.dataset;this.selectItem(t,e,"true"==i)}selectItem(t,e,i){this.highlightItem(t),this.hiddenInputTarget.value=e,this.selectedValue=e,i&&this.hiddenInputTarget.dispatchEvent(new Event("change"))}highlightItem(t){this.itemTargets.forEach((t=>t.classList.remove("selected"))),t.classList.add("selected")}};Aa(qg,"targets",["item","hiddenInput"]),Aa(qg,"values",{selected:String,selectable:Boolean});var Wg=class extends lh{connect(){const t=this.itemTargets.find((t=>t.dataset.value===this.selectedValue));t&&this.highlightItem(t)}handleItemClick({target:t}){const{value:e,selectable:i}=t.dataset;this.selectItem(t,e,"true"==i)}selectItem(t,e,i){this.highlightItem(t),this.hiddenInputTarget.value=e,this.selectedValue=e,i&&this.hiddenInputTarget.dispatchEvent(new Event("change"))}highlightItem(t){this.itemTargets.forEach((t=>{t.dataset.selected=!1})),t.dataset.selected=!0}};Aa(Wg,"targets",["item","hiddenInput"]),Aa(Wg,"values",{selected:String,selectable:Boolean});var Ug=class extends lh{enableSubmitButton(){this.submitTarget.disabled=!1}};Aa(Ug,"targets",["submit"]);var Kg=class extends lh{connect(){const t=this.itemTargets.find((t=>t.dataset.value===this.selectedValue));t&&this.highlightItem(t)}handleItemClick({target:t}){const{value:e,selectable:i}=t.dataset;this.selectItem(t,e,"true"==i)}selectItem(t,e,i){this.highlightItem(t),this.hiddenInputTarget.value=e,this.selectedValue=e,i&&this.hiddenInputTarget.dispatchEvent(new Event("change"))}highlightItem(t){this.itemTargets.forEach((t=>{t.dataset.selected=!1})),t.dataset.selected=!0}};Aa(Kg,"targets",["item","hiddenInput"]),Aa(Kg,"values",{selected:String,selectable:Boolean});var $g=class extends lh{insertKeyword(t){var e=t.target.closest("[data-keyword]").dataset.keyword;this.inputTarget.setRangeText(e,this.inputTarget.selectionStart,this.inputTarget.selectionEnd,"end")}};Aa($g,"targets",["input"]);var Jg=class extends lh{initialize(){To(this.discountInputTarget)}toggleDiscountInput(t){const e=t.target.checked;this._hideDiscountInput(!e)}_hideDiscountInput(t){this.discountInputTarget.value=t?0:this.pixDiscountValue,this.discountDivTarget.classList.toggle("hidden",t),this.showDiscountDivTarget.classList.toggle("hidden",t),this._changeToggleLabel(t)}_changeToggleLabel(t){this.discountToggleLabelTarget.textContent=t?"Ativar Desconto":"Desativar Desconto"}};Aa(Jg,"values",{pixDiscount:{type:Number,default:0}}),Aa(Jg,"targets",["discountInput","discountDiv","showDiscountDiv","discountToggle","discountToggleLabel"]);var Yg=class extends lh{toggleCardsVisibility(){this.mobileHiddenCardsTarget.classList.toggle("hidden"),this.chevronTarget.classList.toggle("rotate-180")}};Aa(Yg,"targets",["mobileHiddenCards","chevron"]);var Gg=class extends lh{initialize(){const t={placement:"left",backdrop:!0,bodyScrolling:!1,edge:!1,edgeOffset:"",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-30"};this.drawer=new Drawer(this.drawerTarget,t)}show(){this.drawer.show()}hide(){this.drawer.hide()}toggle(){this.drawer.toggle()}};Aa(Gg,"targets",["drawer"]);var Qg,Xg,Zg,tm,em,im,nm,rm,om,sm,am,lm,cm=class{constructor(t){this.stepMapper=t,this.currentStep=0}initializeStep(){this._showStep(this.currentStep)}closeStep(){this._hideStep(this.currentStep)}cancelStep(){this._hideStep(this.currentStep),this.currentStep=0}nextStep(){this._hideStep(this.currentStep),this.currentStep=parseInt(this.currentStep)+1,this._showStep(this.currentStep)}previousStep(){this._hideStep(this.currentStep),this.currentStep=parseInt(this.currentStep)-1,this._showStep(this.currentStep)}_showStep(t){this.stepMapper[t].show()}_hideStep(t){this.stepMapper[t].hide()}},um=class extends lh{initialize(){this.stepMapper={},this.stepNavigation=new cm(this.stepMapper)}stepTargetConnected(t){const e={backdropClasses:this.backdropClassesValue,placement:this.placementValue,closable:!0,backdrop:this.backdropValue};this.stepMapper[t.dataset.stepNumber]=new Modal(t,e)}openFirstStep(){this.stepNavigation.initializeStep()}closeStep(t){this.stepNavigation.closeStep(t.currentTarget.dataset.stepNumber)}cancelStep(t){this.stepNavigation.cancelStep(t.currentTarget.dataset.stepNumber)}nextStep(t){this.stepNavigation.nextStep(t.currentTarget.dataset.stepNumber)}nextStepWithValidation(t){const e=t.target.closest("form");t.preventDefault(),this.validateForm(t)&&(this.stepNavigation.nextStep(t.currentTarget.dataset.stepNumber),e.requestSubmit())}previousStep(t){this.stepNavigation.previousStep(t.currentTarget.dataset.stepNumber)}validateForm(t){return t.target.closest("form").reportValidity()}};Aa(um,"targets",["step"]),Aa(um,"values",{backdrop:{default:"dynamic",type:String},backdropClasses:{default:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-30",type:String},placement:{default:"auto",type:String}});var dm=class extends lh{constructor(){super(...arguments),Oa(this,Qg),Oa(this,Zg),Oa(this,em),Oa(this,nm),Oa(this,om),Oa(this,am)}initialize(){this.modelChange()}modelChange(){const t=this.selectModelsTarget.value;Ca(this,Qg,Xg).call(this,t),Ca(this,Zg,tm).call(this,t),Ca(this,em,im).call(this)}colorChange(){const t=this.selectModelsTarget.value;Ca(this,Zg,tm).call(this,t),Ca(this,em,im).call(this)}sizeChange(){Ca(this,em,im).call(this)}};Qg=new WeakSet,Xg=function(t){const e=Ca(this,nm,rm).call(this,t),i=this.selectColorsTarget.value;optionsInnerHTML=e.map((t=>`<option data-action="click->ink-store--exchange--select-product-variant#colorChange" value="${t}" ${i==t?"selected":""}>${t}</option>`)).toString().replace(/,/g,""),this.selectColorsTarget.innerHTML=optionsInnerHTML},Zg=new WeakSet,tm=function(t){const e=Ca(this,om,sm).call(this,t,this.selectColorsTarget.value),i=this.selectSizesTarget.value;optionsInnerHTML=e.map((t=>`<option data-action="click->ink-store--exchange--select-product-variant#sizeChange" value="${t}" ${i==t?"selected":""}>${t}</option>`)).toString().replace(/,/g,""),this.selectSizesTarget.innerHTML=optionsInnerHTML},em=new WeakSet,im=function(){const t=this.selectModelsTarget.value,e=this.selectColorsTarget.value,i=this.selectSizesTarget.value,n=this.variantsValue.find((n=>n.model==t&&n.color==e&&n.size==i)).product_variant_id;this.inputProductVariantIdTarget.value=n},nm=new WeakSet,rm=function(t){const e=this.variantsValue.filter((e=>e.model===t)).map((t=>t.color));return[...new Set(e)]},om=new WeakSet,sm=function(t,e){let i=this.variantsValue.filter((i=>i.model===t&&i.color===e&&i.is_available));return Ca(this,am,lm).call(this,i)},am=new WeakSet,lm=function(t){const e=t.map((t=>t.size));return[...new Set(e)]},Aa(dm,"values",{inputProductVariantId:String,variants:[{color:String,size:String,model:String,is_available:Boolean,product_art_id:Number,product_variant_id:Number,available_quantity:Number}]}),Aa(dm,"targets",["selectModels","selectColors","selectSizes","inputProductVariantId"]);var hm=class extends lh{inputItemEditedTargetConnected(){this.inputItemEditedTargets.every((t=>"true"==t.value))&&this._activeForm()}disableButtonSubmit(){this.submitButtonTarget.classList.add("opacity-60","pointer-events-none"),this.submitButtonTarget.innerHTML="Enviando troca..."}_activeForm(){this.submitButtonTarget.classList.remove("opacity-60","pointer-events-none")}};Aa(hm,"targets",["inputItemEdited","submitButton"]);var pm=rh.start();pm.warnings=!0,pm.debug=!1,window.Stimulus=pm,pm.register("ink-dashboard--dismiss",ch),pm.register("ink-dashboard--toast-alert",uh),pm.register("ink-dashboard--dropdown",wf),pm.register("ink-dashboard--select-dropdown",kf),pm.register("ink-dashboard--date-filter",_f),pm.register("ink-dashboard--skeleton",xf),pm.register("ink-dashboard--hide-data",Ef),pm.register("ink-dashboard--unhide-turbo-frame",Af),pm.register("ink-dashboard--carousel",Sf),pm.register("ink-dashboard--input-file-preview",Of),pm.register("ink-dashboard--forms",Cf),pm.register("ink-dashboard--components--filter-button",Tf),pm.register("ink-dashboard--components--sort-button",Df),pm.register("ink-dashboard--modal",Lf),pm.register("ink-dashboard--redirect",If),pm.register("ink-dashboard--tooltip",Pf),pm.register("ink-dashboard--persisted-tooltip",Mf),pm.register("ink-dashboard--segment",hg),pm.register("ink-dashboard--clipboard",pg),pm.register("ink-dashboard--change-coupon-kind",gg),pm.register("ink-dashboard--price-mask",mg),pm.register("ink-dashboard--currency-mask",vg),pm.register("ink-dashboard--promotions--product-list",Lg),pm.register("ink-dashboard--promotion-mask",Ig),pm.register("ink-dashboard--output-input-range",Pg),pm.register("ink-dashboard--discount-simulation",Mg),pm.register("ink-dashboard--fiscal-data-form",Fg),pm.register("ink-dashboard--promotions--application-method",Bg),pm.register("ink-dashboard--promotions--progressive-form",Ng),pm.register("ink-dashboard--destroy-record",Vg),pm.register("ink-dashboard--date-pick",zg),pm.register("ink-dashboard--view-modes--select-component",qg),pm.register("ink-dashboard--view-modes--inline-select-component",Wg),pm.register("ink-dashboard--view-modes--select-popup-component",Ug),pm.register("ink-dashboard--view-modes--menu-component",Kg),pm.register("ink-dashboard--template-editor",$g),pm.register("ink-dashboard--checkout--form",Jg),pm.register("ink-dashboard--enterpreneur-radar",Yg),pm.register("ink-dashboard--drawer",Gg),pm.register("ink-dashboard--modal-steps",um),pm.register("ink-dashboard--external-orders--products--select-product-variant",dm),pm.register("ink-dashboard--external-orders--exchanges--active-form",hm);Ea(Ad());var fm,gm,mm,vm,ym,bm,wm="2.1.1",km="[data-trix-attachment]",_m={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}},xm={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,htmlAttributes:["language"],text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test(t){return Em(t.parentNode)===xm[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test(t){return Em(t.parentNode)===xm[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}},Em=t=>{var e;return null==t||null===(e=t.tagName)||void 0===e?void 0:e.toLowerCase()},Am=navigator.userAgent.match(/android\s([0-9]+.*Chrome)/i),Sm=Am&&parseInt(Am[1]),Om={composesExistingText:/Android.*Chrome/.test(navigator.userAgent),recentAndroid:Sm&&Sm>12,samsungAndroid:Sm&&navigator.userAgent.match(/Android.*SM-/),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:"undefined"!=typeof InputEvent&&["data","getTargetRanges","inputType"].every((t=>t in InputEvent.prototype))},Cm={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption\u2026",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL\u2026",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"},Tm=[Cm.bytes,Cm.KB,Cm.MB,Cm.GB,Cm.TB,Cm.PB],Dm={prefix:"IEC",precision:2,formatter(t){switch(t){case 0:return"0 ".concat(Cm.bytes);case 1:return"1 ".concat(Cm.byte);default:let e;"SI"===this.prefix?e=1e3:"IEC"===this.prefix&&(e=1024);const i=Math.floor(Math.log(t)/Math.log(e)),n=(t/Math.pow(e,i)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"");return"".concat(n," ").concat(Tm[i])}}},Lm="\ufeff",Im="\xa0",Pm=function(t){for(const e in t){const i=t[e];this[e]=i}return this},Mm=document.documentElement,jm=Mm.matches,Rm=function(t){let{onElement:e,matchingSelector:i,withCallback:n,inPhase:r,preventDefault:o,times:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=e||Mm,l=i,c="capturing"===r,u=function(t){null!=s&&0==--s&&u.destroy();const e=Nm(t.target,{matchingSelector:l});null!=e&&(null==n||n.call(e,t,e),o&&t.preventDefault())};return u.destroy=()=>a.removeEventListener(t,u,c),a.addEventListener(t,u,c),u},Fm=function(t){let{onElement:e,bubbles:i,cancelable:n,attributes:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=null!=e?e:Mm;i=!1!==i,n=!1!==n;const s=document.createEvent("Events");return s.initEvent(t,i,n),null!=r&&Pm.call(s,r),o.dispatchEvent(s)},Bm=function(t,e){if(1===(null==t?void 0:t.nodeType))return jm.call(t,e)},Nm=function(t){let{matchingSelector:e,untilNode:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.parentNode;if(null!=t){if(null==e)return t;if(t.closest&&null==i)return t.closest(e);for(;t&&t!==i;){if(Bm(t,e))return t;t=t.parentNode}}},Vm=t=>document.activeElement!==t&&Hm(t,document.activeElement),Hm=function(t,e){if(t&&e)for(;e;){if(e===t)return!0;e=e.parentNode}},zm=function(t){var e;if(null===(e=t)||void 0===e||!e.parentNode)return;let i=0;for(t=t.previousSibling;t;)i++,t=t.previousSibling;return i},qm=t=>{var e;return null==t||null===(e=t.parentNode)||void 0===e?void 0:e.removeChild(t)},Wm=function(t){let{onlyNodesOfType:e,usingFilter:i,expandEntityReferences:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(()=>{switch(e){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}})();return document.createTreeWalker(t,r,null!=i?i:null,!0===n)},Um=t=>{var e;return null==t||null===(e=t.tagName)||void 0===e?void 0:e.toLowerCase()},Km=function(t){let e,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"==typeof t?(n=t,t=n.tagName):n={attributes:n};const r=document.createElement(t);if(null!=n.editable&&(null==n.attributes&&(n.attributes={}),n.attributes.contenteditable=n.editable),n.attributes)for(e in n.attributes)i=n.attributes[e],r.setAttribute(e,i);if(n.style)for(e in n.style)i=n.style[e],r.style[e]=i;if(n.data)for(e in n.data)i=n.data[e],r.dataset[e]=i;return n.className&&n.className.split(" ").forEach((t=>{r.classList.add(t)})),n.textContent&&(r.textContent=n.textContent),n.childNodes&&[].concat(n.childNodes).forEach((t=>{r.appendChild(t)})),r},$m=function(){if(null!=fm)return fm;fm=[]
;for(const t in xm){const e=xm[t];e.tagName&&fm.push(e.tagName)}return fm},Jm=t=>Gm(null==t?void 0:t.firstChild),Ym=function(t){let{strict:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{strict:!0};return e?Gm(t):Gm(t)||!Gm(t.firstChild)&&(i=t,$m().includes(Um(i))&&!$m().includes(Um(i.firstChild)));var i},Gm=t=>Qm(t)&&"block"===(null==t?void 0:t.data),Qm=t=>(null==t?void 0:t.nodeType)===Node.COMMENT_NODE,Xm=function(t){let{name:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t)return ev(t)?t.data===Lm?!e||t.parentNode.dataset.trixCursorTarget===e:void 0:Xm(t.firstChild)},Zm=t=>Bm(t,km),tv=t=>ev(t)&&""===(null==t?void 0:t.data),ev=t=>(null==t?void 0:t.nodeType)===Node.TEXT_NODE,iv={level2Enabled:!0,getLevel(){return this.level2Enabled&&Om.supportsInputEvents?2:0},pickFiles(t){const e=Km("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId});e.addEventListener("change",(()=>{t(e.files),qm(e)})),qm(document.getElementById(this.fileInputId)),document.body.appendChild(e),e.click()}},nv={removeBlankTableCells:!1,tableCellSeparator:" | ",tableRowSeparator:"\n"},rv={bold:{tagName:"strong",inheritable:!0,parser(t){const e=window.getComputedStyle(t);return"bold"===e.fontWeight||e.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:t=>"italic"===window.getComputedStyle(t).fontStyle},href:{groupTagName:"a",parser(t){const e="a:not(".concat(km,")"),i=t.closest(e);if(i)return i.getAttribute("href")}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}},ov={getDefaultHTML:()=>'<div class="trix-button-row">\n      <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">\n        <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="'.concat(Cm.bold,'" tabindex="-1">').concat(Cm.bold,'</button>\n        <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="').concat(Cm.italic,'" tabindex="-1">').concat(Cm.italic,'</button>\n        <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="').concat(Cm.strike,'" tabindex="-1">').concat(Cm.strike,'</button>\n        <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="').concat(Cm.link,'" tabindex="-1">').concat(Cm.link,'</button>\n      </span>\n\n      <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">\n        <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="').concat(Cm.heading1,'" tabindex="-1">').concat(Cm.heading1,'</button>\n        <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="').concat(Cm.quote,'" tabindex="-1">').concat(Cm.quote,'</button>\n        <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="').concat(Cm.code,'" tabindex="-1">').concat(Cm.code,'</button>\n        <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="').concat(Cm.bullets,'" tabindex="-1">').concat(Cm.bullets,'</button>\n        <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="').concat(Cm.numbers,'" tabindex="-1">').concat(Cm.numbers,'</button>\n        <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="').concat(Cm.outdent,'" tabindex="-1">').concat(Cm.outdent,'</button>\n        <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="').concat(Cm.indent,'" tabindex="-1">').concat(Cm.indent,'</button>\n      </span>\n\n      <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">\n        <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="').concat(Cm.attachFiles,'" tabindex="-1">').concat(Cm.attachFiles,'</button>\n      </span>\n\n      <span class="trix-button-group-spacer"></span>\n\n      <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">\n        <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="').concat(Cm.undo,'" tabindex="-1">').concat(Cm.undo,'</button>\n        <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="').concat(Cm.redo,'" tabindex="-1">').concat(Cm.redo,'</button>\n      </span>\n    </div>\n\n    <div class="trix-dialogs" data-trix-dialogs>\n      <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">\n        <div class="trix-dialog__link-fields">\n          <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="').concat(Cm.urlPlaceholder,'" aria-label="').concat(Cm.url,'" required data-trix-input>\n          <div class="trix-button-group">\n            <input type="button" class="trix-button trix-button--dialog" value="').concat(Cm.link,'" data-trix-method="setAttribute">\n            <input type="button" class="trix-button trix-button--dialog" value="').concat(Cm.unlink,'" data-trix-method="removeAttribute">\n          </div>\n        </div>\n      </div>\n    </div>')},sv={interval:5e3},av=Object.freeze({__proto__:null,attachments:_m,blockAttributes:xm,browser:Om,css:{attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"},fileSize:Dm,input:iv,keyNames:{8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},lang:Cm,parser:nv,textAttributes:rv,toolbar:ov,undo:sv}),lv=class{static proxyMethod(t){const{name:e,toMethod:i,toProperty:n,optional:r}=cv(t);this.prototype[e]=function(){let t,o;var s,a;return i?o=r?null===(s=this[i])||void 0===s?void 0:s.call(this):this[i]():n&&(o=this[n]),r?(t=null===(a=o)||void 0===a?void 0:a[e],t?uv.call(t,o,arguments):void 0):(t=o[e],uv.call(t,o,arguments))}}},cv=function(t){const e=t.match(dv);if(!e)throw new Error("can't parse @proxyMethod expression: ".concat(t));const i={name:e[4]};return null!=e[2]?i.toMethod=e[1]:i.toProperty=e[1],null!=e[3]&&(i.optional=!0),i},{apply:uv}=Function.prototype,dv=new RegExp("^(.+?)(\\(\\))?(\\?)?\\.(.+?)$"),hv=class extends lv{static box(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t instanceof this?t:this.fromUCS2String(null==t?void 0:t.toString())}static fromUCS2String(t){return new this(t,ym(t))}static fromCodepoints(t){return new this(bm(t),t)}constructor(t,e){super(...arguments),this.ucs2String=t,this.codepoints=e,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}offsetToUCS2Offset(t){return bm(this.codepoints.slice(0,Math.max(0,t))).length}offsetFromUCS2Offset(t){return ym(this.ucs2String.slice(0,Math.max(0,t))).length}slice(){return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))}charAt(t){return this.slice(t,t+1)}isEqualTo(t){return this.constructor.box(t).ucs2String===this.ucs2String}toJSON(){return this.ucs2String}getCacheKey(){return this.ucs2String}toString(){return this.ucs2String}},pv=1===(null===(gm=Array.from)||void 0===gm?void 0:gm.call(Array,"\ud83d\udc7c").length),fv=null!=(null===(mm=" ".codePointAt)||void 0===mm?void 0:mm.call(" ",0)),gv=" \ud83d\udc7c"===(null===(vm=String.fromCodePoint)||void 0===vm?void 0:vm.call(String,32,128124));ym=pv&&fv?t=>Array.from(t).map((t=>t.codePointAt(0))):function(t){const e=[];let i=0;const{length:n}=t;for(;i<n;){let r=t.charCodeAt(i++);if(55296<=r&&r<=56319&&i<n){const e=t.charCodeAt(i++);56320==(64512&e)?r=((1023&r)<<10)+(1023&e)+65536:i--}e.push(r)}return e},bm=gv?t=>String.fromCodePoint(...Array.from(t||[])):function(t){return(()=>{const e=[];return Array.from(t).forEach((t=>{let i="";t>65535&&(t-=65536,i+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e.push(i+String.fromCharCode(t))})),e})().join("")};var mv=0,vv=class extends lv{static fromJSONString(t){return this.fromJSON(JSON.parse(t))}constructor(){super(...arguments),this.id=++mv}hasSameConstructorAs(t){return this.constructor===(null==t?void 0:t.constructor)}isEqualTo(t){return this===t}inspect(){const t=[],e=this.contentsForInspection()||{};for(const i in e){const n=e[i];t.push("".concat(i,"=").concat(n))}return"#<".concat(this.constructor.name,":").concat(this.id).concat(t.length?" ".concat(t.join(", ")):"",">")}contentsForInspection(){}toJSONString(){return JSON.stringify(this)}toUTF16String(){return hv.box(this)}getCacheKey(){return this.id.toString()}},yv=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0},bv=function(t){const e=t.slice(0);for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return e.splice(...n),e},wv=/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,kv=function(){const t=Km("input",{dir:"auto",name:"x",dirName:"x.dir"}),e=Km("textarea",{dir:"auto",name:"y",dirName:"y.dir"}),i=Km("form");i.appendChild(t),i.appendChild(e);const n=function(){try{return new FormData(i).has(e.dirName)}catch(t){return!1}}(),r=function(){try{return t.matches(":dir(ltr),:dir(rtl)")}catch(t){return!1}}();return n?function(t){return e.value=t,new FormData(i).get(e.dirName)}:r?function(e){return t.value=e,t.matches(":dir(rtl)")?"rtl":"ltr"}:function(t){const e=t.trim().charAt(0);return wv.test(e)?"rtl":"ltr"}}(),_v=null,xv=null,Ev=null,Av=null,Sv=()=>(_v||(_v=Dv().concat(Cv())),_v),Ov=t=>xm[t],Cv=()=>(xv||(xv=Object.keys(xm)),xv),Tv=t=>rv[t],Dv=()=>(Ev||(Ev=Object.keys(rv)),Ev),Lv=function(t,e){Iv(t).textContent=e.replace(/%t/g,t)},Iv=function(t){const e=document.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("data-tag-name",t.toLowerCase());const i=Pv();return i&&e.setAttribute("nonce",i),document.head.insertBefore(e,document.head.firstChild),e},Pv=function(){const t=Mv("trix-csp-nonce")||Mv("csp-nonce");if(t)return t.getAttribute("content")},Mv=t=>document.head.querySelector("meta[name=".concat(t,"]")),jv={"application/x-trix-feature-detection":"test"},Rv=function(t){const e=t.getData("text/plain"),i=t.getData("text/html");if(!e||!i)return null==e?void 0:e.length;{const{body:t}=(new DOMParser).parseFromString(i,"text/html");if(t.textContent===e)return!t.querySelector("*")}},Fv=/Mac|^iP/.test(navigator.platform)?t=>t.metaKey:t=>t.ctrlKey,Bv=t=>setTimeout(t,1),Nv=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e={};for(const i in t){const n=t[i];e[i]=n}return e},Vv=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(t[i]!==e[i])return!1;return!0},Hv=function(t){if(null!=t)return Array.isArray(t)||(t=[t,t]),[Wv(t[0]),Wv(null!=t[1]?t[1]:t[0])]},zv=function(t){if(null==t)return;const[e,i]=Hv(t);return Uv(e,i)},qv=function(t,e){if(null==t||null==e)return;const[i,n]=Hv(t),[r,o]=Hv(e);return Uv(i,r)&&Uv(n,o)},Wv=function(t){return"number"==typeof t?t:Nv(t)},Uv=function(t,e){return"number"==typeof t?t===e:Vv(t,e)},Kv=class extends lv{constructor(){super(...arguments),this.update=this.update.bind(this),this.selectionManagers=[]}start(){this.started||(this.started=!0,document.addEventListener("selectionchange",this.update,!0))}stop(){if(this.started)return this.started=!1,document.removeEventListener("selectionchange",this.update,!0)}registerSelectionManager(t){if(!this.selectionManagers.includes(t))return this.selectionManagers.push(t),this.start()}unregisterSelectionManager(t){if(this.selectionManagers=this.selectionManagers.filter((e=>e!==t)),0===this.selectionManagers.length)return this.stop()}notifySelectionManagersOfSelectionChange(){return this.selectionManagers.map((t=>t.selectionDidChange()))}update(){this.notifySelectionManagersOfSelectionChange()}reset(){this.update()}},$v=new Kv,Jv=function(){const t=window.getSelection();if(t.rangeCount>0)return t},Yv=function(){var t;const e=null===(t=Jv())||void 0===t?void 0:t.getRangeAt(0);if(e&&!Qv(e))return e},Gv=function(t){const e=window.getSelection();return e.removeAllRanges(),e.addRange(t),$v.update()},Qv=t=>Xv(t.startContainer)||Xv(t.endContainer),Xv=t=>!Object.getPrototypeOf(t),Zv=t=>t.replace(new RegExp("".concat(Lm),"g"),"").replace(new RegExp("".concat(Im),"g")," "),ty=new RegExp("[^\\S".concat(Im,"]")),ey=t=>t.replace(new RegExp("".concat(ty.source),"g")," ").replace(/\ {2,}/g," "),iy=function(t,e){if(t.isEqualTo(e))return["",""];const i=ny(t,e),{length:n}=i.utf16String;let r;if(n){const{offset:o}=i,s=t.codepoints.slice(0,o).concat(t.codepoints.slice(o+n));r=ny(e,hv.fromCodepoints(s))}else r=ny(e,t);return[i.utf16String.toString(),r.utf16String.toString()]},ny=function(t,e){let i=0,n=t.length,r=e.length;for(;i<n&&t.charAt(i).isEqualTo(e.charAt(i));)i++;for(;n>i+1&&t.charAt(n-1).isEqualTo(e.charAt(r-1));)n--,r--;return{utf16String:t.slice(i,n),offset:i}},ry=class extends vv{static fromCommonAttributesOfObjects(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!t.length)return new this;let e=ly(t[0]),i=e.getKeys();return t.slice(1).forEach((t=>{i=e.getKeysCommonToHash(ly(t)),e=e.slice(i)})),e}static box(t){return ly(t)}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(...arguments),this.values=ay(t)}add(t,e){return this.merge(oy(t,e))}remove(t){return new ry(ay(this.values,t))}get(t){return this.values[t]}has(t){return t in this.values}merge(t){return new ry(sy(this.values,cy(t)))}slice(t){const e={};return Array.from(t).forEach((t=>{this.has(t)&&(e[t]=this.values[t])})),new ry(e)}getKeys(){return Object.keys(this.values)}getKeysCommonToHash(t){return t=ly(t),this.getKeys().filter((e=>this.values[e]===t.values[e]))}isEqualTo(t){return yv(this.toArray(),ly(t).toArray())}isEmpty(){return 0===this.getKeys().length}toArray(){if(!this.array){const t=[];for(const e in this.values){const i=this.values[e];t.push(t.push(e,i))}this.array=t.slice(0)}return this.array}toObject(){return ay(this.values)}toJSON(){return this.toObject()}contentsForInspection(){return{values:JSON.stringify(this.values)}}},oy=function(t,e){const i={};return i[t]=e,i},sy=function(t,e){const i=ay(t);for(const t in e){const n=e[t];i[t]=n}return i},ay=function(t,e){const i={};return Object.keys(t).sort().forEach((n=>{n!==e&&(i[n]=t[n])})),i},ly=function(t){return t instanceof ry?t:new ry(t)},cy=function(t){return t instanceof ry?t.values:t},uy=class{static groupObjects(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{depth:i,asTree:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n&&null==i&&(i=0);const r=[];return Array.from(e).forEach((e=>{var o;if(t){var s,a,l;if(null!==(s=e.canBeGrouped)&&void 0!==s&&s.call(e,i)&&null!==(a=(l=t[t.length-1]).canBeGroupedWith)&&void 0!==a&&a.call(l,e,i))return void t.push(e);r.push(new this(t,{depth:i,asTree:n})),t=null}null!==(o=e.canBeGrouped)&&void 0!==o&&o.call(e,i)?t=[e]:r.push(e)})),t&&r.push(new this(t,{depth:i,asTree:n})),r}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{depth:e,asTree:i}=arguments.length>1?arguments[1]:void 0;this.objects=t,i&&(this.depth=e,this.objects=this.constructor.groupObjects(this.objects,{asTree:i,depth:this.depth+1}))}getObjects(){return this.objects}getDepth(){return this.depth}getCacheKey(){const t=["objectGroup"];return Array.from(this.getObjects()).forEach((e=>{t.push(e.getCacheKey())})),t.join("/")}},dy=class extends lv{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(...arguments),this.objects={},Array.from(t).forEach((t=>{const e=JSON.stringify(t);null==this.objects[e]&&(this.objects[e]=t)}))}find(t){const e=JSON.stringify(t);return this.objects[e]}},hy=class{constructor(t){this.reset(t)}add(t){const e=py(t);this.elements[e]=t}remove(t){const e=py(t),i=this.elements[e];if(i)return delete this.elements[e],i}reset(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.elements={},Array.from(t).forEach((t=>{this.add(t)})),t}},py=t=>t.dataset.trixStoreKey,fy=class extends lv{isPerforming(){return!0===this.performing}hasPerformed(){return!0===this.performed}hasSucceeded(){return this.performed&&this.succeeded}hasFailed(){return this.performed&&!this.succeeded}getPromise(){return this.promise||(this.promise=new Promise(((t,e)=>(this.performing=!0,this.perform(((i,n)=>{this.succeeded=i,this.performing=!1,this.performed=!0,this.succeeded?t(n):e(n)})))))),this.promise}perform(t){return t(!1)}release(){var t,e;null===(t=this.promise)||void 0===t||null===(e=t.cancel)||void 0===e||e.call(t),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null}};fy.proxyMethod("getPromise().then"),fy.proxyMethod("getPromise().catch");var gy=class extends lv{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(...arguments),this.object=t,this.options=e,this.childViews=[],this.rootView=this}getNodes(){return this.nodes||(this.nodes=this.createNodes()),this.nodes.map((t=>t.cloneNode(!0)))}invalidate(){var t;return this.nodes=null,this.childViews=[],null===(t=this.parentView)||void 0===t?void 0:t.invalidate()}invalidateViewForObject(t){var e;return null===(e=this.findViewForObject(t))||void 0===e?void 0:e.invalidate()}findOrCreateCachedChildView(t,e,i){let n=this.getCachedViewForObject(e);return n?this.recordChildView(n):(n=this.createChildView(...arguments),this.cacheViewForObject(n,e)),n}createChildView(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e instanceof uy&&(i.viewClass=t,t=my);const n=new t(e,i);return this.recordChildView(n)}recordChildView(t){return t.parentView=this,t.rootView=this.rootView,this.childViews.push(t),t}getAllChildViews(){let t=[];return this.childViews.forEach((e=>{t.push(e),t=t.concat(e.getAllChildViews())})),t}findElement(){return this.findElementForObject(this.object)}findElementForObject(t){const e=null==t?void 0:t.id;if(e)return this.rootView.element.querySelector("[data-trix-id='".concat(e,"']"))}findViewForObject(t){for(const e of this.getAllChildViews())if(e.object===t)return e}getViewCache(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?(this.viewCache||(this.viewCache={}),this.viewCache):void 0}isViewCachingEnabled(){return!1!==this.shouldCacheViews}enableViewCaching(){this.shouldCacheViews=!0}disableViewCaching(){this.shouldCacheViews=!1}getCachedViewForObject(t){var e;return null===(e=this.getViewCache())||void 0===e?void 0:e[t.getCacheKey()]}cacheViewForObject(t,e){const i=this.getViewCache();i&&(i[e.getCacheKey()]=t)}garbageCollectCachedViews(){const t=this.getViewCache();if(t){const e=this.getAllChildViews().concat(this).map((t=>t.object.getCacheKey()));for(const i in t)e.includes(i)||delete t[i]}}},my=class extends gy{constructor(){super(...arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}getChildViews(){return this.childViews.length||Array.from(this.objectGroup.getObjects()).forEach((t=>{this.findOrCreateCachedChildView(this.viewClass,t,this.options)})),this.childViews}createNodes(){const t=this.createContainerElement();return this.getChildViews().forEach((e=>{Array.from(e.getNodes()).forEach((e=>{t.appendChild(e)}))})),[t]}createContainerElement(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.objectGroup.getDepth();return this.getChildViews()[0].createContainerElement(t)}},{css:vy}=av,yy=class extends gy{constructor(){super(...arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}createContentNodes(){return[]}createNodes(){let t;const e=t=Km({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),i=this.getHref();return i&&(t=Km({tagName:"a",editable:!1,attributes:{href:i,tabindex:-1}}),e.appendChild(t)),this.attachment.hasContent()?t.innerHTML=this.attachment.getContent():this.createContentNodes().forEach((e=>{t.appendChild(e)})),t.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=Km({tagName:"progress",attributes:{class:vy.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),e.appendChild(this.progressElement)),[by("left"),e,by("right")]}createCaptionElement(){const t=Km({tagName:"figcaption",className:vy.attachmentCaption}),e=this.attachmentPiece.getCaption();if(e)t.classList.add("".concat(vy.attachmentCaption,"--edited")),t.textContent=e;else{let e,i;const n=this.getCaptionConfig();if(n.name&&(e=this.attachment.getFilename()),n.size&&(i=this.attachment.getFormattedFilesize()),e){const i=Km({tagName:"span",className:vy.attachmentName,textContent:e});t.appendChild(i)}if(i){e&&t.appendChild(document.createTextNode(" "));const n=Km({tagName:"span",className:vy.attachmentSize,textContent:i});t.appendChild(n)}}return t}getClassName(){const t=[vy.attachment,"".concat(vy.attachment,"--").concat(this.attachment.getType())],e=this.attachment.getExtension();return e&&t.push("".concat(vy.attachment,"--").concat(e)),t.join(" ")}getData(){const t={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},{attributes:e}=this.attachmentPiece;return e.isEmpty()||(t.trixAttributes=JSON.stringify(e)),this.attachment.isPending()&&(t.trixSerialize=!1),t}getHref(){if(!wy(this.attachment.getContent(),"a"))return this.attachment.getHref()}getCaptionConfig(){var t;const e=this.attachment.getType(),i=Nv(null===(t=_m[e])||void 0===t?void 0:t.caption);return"file"===e&&(i.name=!0),i}findProgressElement(){var t;return null===(t=this.findElement())||void 0===t?void 0:t.querySelector("progress")}attachmentDidChangeUploadProgress(){const t=this.attachment.getUploadProgress(),e=this.findProgressElement();e&&(e.value=t)}},by=t=>Km({tagName:"span",textContent:Lm,data:{trixCursorTarget:t,trixSerialize:!1}}),wy=function(t,e){const i=Km("div");return i.innerHTML=t||"",i.querySelector(e)},ky=class extends yy{constructor(){super(...arguments),this.attachment.previewDelegate=this}createContentNodes(){return this.image=Km({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]}createCaptionElement(){const t=super.createCaptionElement(...arguments);return t.textContent||t.setAttribute("data-trix-placeholder",Cm.captionPlaceholder),t}refresh(t){var e;if(t||(t=null===(e=this.findElement())||void 0===e?void 0:e.querySelector("img")),t)return this.updateAttributesForImage(t)}updateAttributesForImage(t){const e=this.attachment.getURL(),i=this.attachment.getPreviewURL();if(t.src=i||e,i===e)t.removeAttribute("data-trix-serialized-attributes");else{const i=JSON.stringify({src:e});t.setAttribute("data-trix-serialized-attributes",i)}const n=this.attachment.getWidth(),r=this.attachment.getHeight();null!=n&&(t.width=n),null!=r&&(t.height=r);const o=["imageElement",this.attachment.id,t.src,t.width,t.height].join("/");t.dataset.trixStoreKey=o}attachmentDidChangeAttributes(){return this.refresh(this.image),this.refresh()}},_y=class extends gy{constructor(){super(...arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),this.textConfig=this.options.textConfig,this.context=this.options.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}createNodes(){let t=this.attachment?this.createAttachmentNodes():this.createStringNodes();const e=this.createElement();if(e){const i=function(t){for(;null!==(e=t)&&void 0!==e&&e.firstElementChild;){var e;t=t.firstElementChild}return t}(e);Array.from(t).forEach((t=>{i.appendChild(t)})),t=[e]}return t}createAttachmentNodes(){const t=this.attachment.isPreviewable()?ky:yy;return this.createChildView(t,this.piece.attachment,{piece:this.piece}).getNodes()}createStringNodes(){var t;if(null!==(t=this.textConfig)&&void 0!==t&&t.plaintext)return[document.createTextNode(this.string)];{const t=[],e=this.string.split("\n");for(let i=0;i<e.length;i++){const n=e[i];if(i>0){const e=Km("br");t.push(e)}if(n.length){const e=document.createTextNode(this.preserveSpaces(n));t.push(e)}}return t}}createElement(){let t,e,i;const n={};for(e in this.attributes){i=this.attributes[e];const o=Tv(e);if(o){if(o.tagName){var r;const e=Km(o.tagName);r?(r.appendChild(e),r=e):t=r=e}if(o.styleProperty&&(n[o.styleProperty]=i),o.style)for(e in o.style)i=o.style[e],n[e]=i}}if(Object.keys(n).length)for(e in t||(t=Km("span")),n)i=n[e],t.style[e]=i;return t}createContainerElement(){for(const t in this.attributes){const e=this.attributes[t],i=Tv(t);if(i&&i.groupTagName){const n={};return n[t]=e,Km(i.groupTagName,n)}}}preserveSpaces(t){return this.context.isLast&&(t=t.replace(/\ $/,Im)),t=t.replace(/(\S)\ {3}(\S)/g,"$1 ".concat(Im," $2")).replace(/\ {2}/g,"".concat(Im," ")).replace(/\ {2}/g," ".concat(Im)),(this.context.isFirst||this.context.followsWhitespace)&&(t=t.replace(/^\ /,Im)),t}},xy=class extends gy{constructor(){super(...arguments),this.text=this.object,this.textConfig=this.options.textConfig}createNodes(){const t=[],e=uy.groupObjects(this.getPieces()),i=e.length-1;for(let r=0;r<e.length;r++){const o=e[r],s={};0===r&&(s.isFirst=!0),r===i&&(s.isLast=!0),Ey(n)&&(s.followsWhitespace=!0);const a=this.findOrCreateCachedChildView(_y,o,{textConfig:this.textConfig,context:s});t.push(...Array.from(a.getNodes()||[]));var n=o}return t}getPieces(){return Array.from(this.text.getPieces()).filter((t=>!t.hasAttribute("blockBreak")))}},Ey=t=>/\s$/.test(null==t?void 0:t.toString()),{css:Ay}=av,Sy=class extends gy{constructor(){super(...arguments),this.block=this.object,this.attributes=this.block.getAttributes()}createNodes(){const t=[document.createComment("block")];if(this.block.isEmpty())t.push(Km("br"));else{var e;const i=null===(e=Ov(this.block.getLastAttribute()))||void 0===e?void 0:e.text,n=this.findOrCreateCachedChildView(xy,this.block.text,{textConfig:i});t.push(...Array.from(n.getNodes()||[])),this.shouldAddExtraNewlineElement()&&t.push(Km("br"))}if(this.attributes.length)return t;{let e;const{tagName:i}=xm.default;this.block.isRTL()&&(e={dir:"rtl"});const n=Km({tagName:i,attributes:e});return t.forEach((t=>n.appendChild(t))),[n]}}createContainerElement(t){const e={};let i;const n=this.attributes[t],{tagName:r,htmlAttributes:o=[]}=Ov(n);if(0===t&&this.block.isRTL()&&Object.assign(e,{dir:"rtl"}),"attachmentGallery"===n){const t=this.block.getBlockBreakPosition();i="".concat(Ay.attachmentGallery," ").concat(Ay.attachmentGallery,"--").concat(t)}return Object.entries(this.block.htmlAttributes).forEach((t=>{let[i,n]=t;o.includes(i)&&(e[i]=n)})),Km({tagName:r,className:i,attributes:e})}shouldAddExtraNewlineElement(){return/\n\n$/.test(this.block.toString())}},Oy=class extends gy{static render(t){const e=Km("div"),i=new this(t,{element:e});return i.render(),i.sync(),e}constructor(){super(...arguments),this.element=this.options.element,this.elementStore=new hy,this.setDocument(this.object)}setDocument(t){t.isEqualTo(this.document)||(this.document=this.object=t)}render(){if(this.childViews=[],this.shadowElement=Km("div"),!this.document.isEmpty()){const t=uy.groupObjects(this.document.getBlocks(),{asTree:!0});Array.from(t).forEach((t=>{const e=this.findOrCreateCachedChildView(Sy,t);Array.from(e.getNodes()).map((t=>this.shadowElement.appendChild(t)))}))}}isSynced(){return Ty(this.shadowElement,this.element)}sync(){const t=this.createDocumentFragmentForSync();for(;this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(t),this.didSync()}didSync(){return this.elementStore.reset(Cy(this.element)),Bv((()=>this.garbageCollectCachedViews()))}createDocumentFragmentForSync(){const t=document.createDocumentFragment();return Array.from(this.shadowElement.childNodes).forEach((e=>{t.appendChild(e.cloneNode(!0))})),Array.from(Cy(t)).forEach((t=>{const e=this.elementStore.remove(t);e&&t.parentNode.replaceChild(e,t)})),t}},Cy=t=>t.querySelectorAll("[data-trix-store-key]"),Ty=(t,e)=>Dy(t.innerHTML)===Dy(e.innerHTML),Dy=t=>t.replace(/&nbsp;/g," ");zo.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},zo.prototype.next=function(t){return this._invoke("next",t)},zo.prototype.throw=function(t){return this._invoke("throw",t)},zo.prototype.return=function(t){return this._invoke("return",t)};var Ly=class extends vv{static registerType(t,e){e.type=t,this.types[t]=e}static fromJSON(t){const e=this.types[t.type];if(e)return e.fromJSON(t)}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(...arguments),this.attributes=ry.box(e)}copyWithAttributes(t){return new this.constructor(this.getValue(),t)}copyWithAdditionalAttributes(t){return this.copyWithAttributes(this.attributes.merge(t))}copyWithoutAttribute(t){return this.copyWithAttributes(this.attributes.remove(t))}copy(){return this.copyWithAttributes(this.attributes)}getAttribute(t){return this.attributes.get(t)}getAttributesHash(){return this.attributes}getAttributes(){return this.attributes.toObject()}hasAttribute(t){return this.attributes.has(t)}hasSameStringValueAsPiece(t){return t&&this.toString()===t.toString()}hasSameAttributesAsPiece(t){return t&&(this.attributes===t.attributes||this.attributes.isEqualTo(t.attributes))}isBlockBreak(){return!1}isEqualTo(t){return super.isEqualTo(...arguments)||this.hasSameConstructorAs(t)&&this.hasSameStringValueAsPiece(t)&&this.hasSameAttributesAsPiece(t)}isEmpty(){return 0===this.length}isSerializable(){return!0}toJSON(){return{type:this.constructor.type,attributes:this.getAttributes()}}contentsForInspection(){return{type:this.constructor.type,attributes:this.attributes.inspect()}}canBeGrouped(){return this.hasAttribute("href")}canBeGroupedWith(t){return this.getAttribute("href")===t.getAttribute("href")}getLength(){return this.length}canBeConsolidatedWith(t){return!1}};Wo(Ly,"types",{});var Iy=class extends fy{constructor(t){super(...arguments),this.url=t}perform(t){const e=new Image;e.onload=()=>(e.width=this.width=e.naturalWidth,e.height=this.height=e.naturalHeight,t(!0,e)),e.onerror=()=>t(!1),e.src=this.url}},Py=class extends vv{static attachmentForFile(t){const e=new this(this.attributesForFile(t));return e.setFile(t),e}static attributesForFile(t){return new ry({filename:t.name,filesize:t.size,contentType:t.type})}static fromJSON(t){return new this(t)}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(t),this.releaseFile=this.releaseFile.bind(this),this.attributes=ry.box(t),this.didChangeAttributes()}getAttribute(t){return this.attributes.get(t)}hasAttribute(t){return this.attributes.has(t)}getAttributes(){return this.attributes.toObject()}setAttributes(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=this.attributes.merge(t);var i,n,r,o;if(!this.attributes.isEqualTo(e))return this.attributes=e,this.didChangeAttributes(),null===(i=this.previewDelegate)||void 0===i||null===(n=i.attachmentDidChangeAttributes)||void 0===n||n.call(i,this),null===(r=this.delegate)||void 0===r||null===(o=r.attachmentDidChangeAttributes)||void 0===o?void 0:o.call(r,this)}didChangeAttributes(){if(this.isPreviewable())return this.preloadURL()}isPending(){
return null!=this.file&&!(this.getURL()||this.getHref())}isPreviewable(){return this.attributes.has("previewable")?this.attributes.get("previewable"):Py.previewablePattern.test(this.getContentType())}getType(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"}getURL(){return this.attributes.get("url")}getHref(){return this.attributes.get("href")}getFilename(){return this.attributes.get("filename")||""}getFilesize(){return this.attributes.get("filesize")}getFormattedFilesize(){const t=this.attributes.get("filesize");return"number"==typeof t?Dm.formatter(t):""}getExtension(){var t;return null===(t=this.getFilename().match(/\.(\w+)$/))||void 0===t?void 0:t[1].toLowerCase()}getContentType(){return this.attributes.get("contentType")}hasContent(){return this.attributes.has("content")}getContent(){return this.attributes.get("content")}getWidth(){return this.attributes.get("width")}getHeight(){return this.attributes.get("height")}getFile(){return this.file}setFile(t){if(this.file=t,this.isPreviewable())return this.preloadFile()}releaseFile(){this.releasePreloadedFile(),this.file=null}getUploadProgress(){return null!=this.uploadProgress?this.uploadProgress:0}setUploadProgress(t){var e,i;if(this.uploadProgress!==t)return this.uploadProgress=t,null===(e=this.uploadProgressDelegate)||void 0===e||null===(i=e.attachmentDidChangeUploadProgress)||void 0===i?void 0:i.call(e,this)}toJSON(){return this.getAttributes()}getCacheKey(){return[super.getCacheKey(...arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")}getPreviewURL(){return this.previewURL||this.preloadingURL}setPreviewURL(t){var e,i,n,r;if(t!==this.getPreviewURL())return this.previewURL=t,null===(e=this.previewDelegate)||void 0===e||null===(i=e.attachmentDidChangeAttributes)||void 0===i||i.call(e,this),null===(n=this.delegate)||void 0===n||null===(r=n.attachmentDidChangePreviewURL)||void 0===r?void 0:r.call(n,this)}preloadURL(){return this.preload(this.getURL(),this.releaseFile)}preloadFile(){if(this.file)return this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)}releasePreloadedFile(){this.fileObjectURL&&(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null)}preload(t,e){if(t&&t!==this.getPreviewURL())return this.preloadingURL=t,new Iy(t).then((i=>{let{width:n,height:r}=i;return this.getWidth()&&this.getHeight()||this.setAttributes({width:n,height:r}),this.preloadingURL=null,this.setPreviewURL(t),null==e?void 0:e()})).catch((()=>(this.preloadingURL=null,null==e?void 0:e())))}};Wo(Py,"previewablePattern",/^image(\/(gif|png|webp|jpe?g)|$)/);var My=class extends Ly{static fromJSON(t){return new this(Py.fromJSON(t.attachment),t.attributes)}constructor(t){super(...arguments),this.attachment=t,this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}ensureAttachmentExclusivelyHasAttribute(t){this.hasAttribute(t)&&(this.attachment.hasAttribute(t)||this.attachment.setAttributes(this.attributes.slice([t])),this.attributes=this.attributes.remove(t))}removeProhibitedAttributes(){const t=this.attributes.slice(My.permittedAttributes);t.isEqualTo(this.attributes)||(this.attributes=t)}getValue(){return this.attachment}isSerializable(){return!this.attachment.isPending()}getCaption(){return this.attributes.get("caption")||""}isEqualTo(t){var e;return super.isEqualTo(t)&&this.attachment.id===(null==t||null===(e=t.attachment)||void 0===e?void 0:e.id)}toString(){return"\ufffc"}toJSON(){const t=super.toJSON(...arguments);return t.attachment=this.attachment,t}getCacheKey(){return[super.getCacheKey(...arguments),this.attachment.getCacheKey()].join("/")}toConsole(){return JSON.stringify(this.toString())}};Wo(My,"permittedAttributes",["caption","presentation"]),Ly.registerType("attachment",My);var jy=class extends Ly{static fromJSON(t){return new this(t.string,t.attributes)}constructor(t){super(...arguments),this.string=t.replace(/\r\n?/g,"\n"),this.length=this.string.length}getValue(){return this.string}toString(){return this.string.toString()}isBlockBreak(){return"\n"===this.toString()&&!0===this.getAttribute("blockBreak")}toJSON(){const t=super.toJSON(...arguments);return t.string=this.string,t}canBeConsolidatedWith(t){return t&&this.hasSameConstructorAs(t)&&this.hasSameAttributesAsPiece(t)}consolidateWith(t){return new this.constructor(this.toString()+t.toString(),this.attributes)}splitAtOffset(t){let e,i;return 0===t?(e=null,i=this):t===this.length?(e=this,i=null):(e=new this.constructor(this.string.slice(0,t),this.attributes),i=new this.constructor(this.string.slice(t),this.attributes)),[e,i]}toConsole(){let{string:t}=this;return t.length>15&&(t=t.slice(0,14)+"\u2026"),JSON.stringify(t.toString())}};Ly.registerType("string",jy);var Ry=class extends vv{static box(t){return t instanceof this?t:new this(t)}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(...arguments),this.objects=t.slice(0),this.length=this.objects.length}indexOf(t){return this.objects.indexOf(t)}splice(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new this.constructor(bv(this.objects,...e))}eachObject(t){return this.objects.map(((e,i)=>t(e,i)))}insertObjectAtIndex(t,e){return this.splice(e,0,t)}insertSplittableListAtIndex(t,e){return this.splice(e,0,...t.objects)}insertSplittableListAtPosition(t,e){const[i,n]=this.splitObjectAtPosition(e);return new this.constructor(i).insertSplittableListAtIndex(t,n)}editObjectAtIndex(t,e){return this.replaceObjectAtIndex(e(this.objects[t]),t)}replaceObjectAtIndex(t,e){return this.splice(e,1,t)}removeObjectAtIndex(t){return this.splice(t,1)}getObjectAtIndex(t){return this.objects[t]}getSplittableListInRange(t){const[e,i,n]=this.splitObjectsAtRange(t);return new this.constructor(e.slice(i,n+1))}selectSplittableList(t){const e=this.objects.filter((e=>t(e)));return new this.constructor(e)}removeObjectsInRange(t){const[e,i,n]=this.splitObjectsAtRange(t);return new this.constructor(e).splice(i,n-i+1)}transformObjectsInRange(t,e){const[i,n,r]=this.splitObjectsAtRange(t),o=i.map(((t,i)=>n<=i&&i<=r?e(t):t));return new this.constructor(o)}splitObjectsAtRange(t){let e,[i,n,r]=this.splitObjectAtPosition(By(t));return[i,e]=new this.constructor(i).splitObjectAtPosition(Ny(t)+r),[i,n,e-1]}getObjectAtPosition(t){const{index:e}=this.findIndexAndOffsetAtPosition(t);return this.objects[e]}splitObjectAtPosition(t){let e,i;const{index:n,offset:r}=this.findIndexAndOffsetAtPosition(t),o=this.objects.slice(0);if(null!=n)if(0===r)e=n,i=0;else{const t=this.getObjectAtIndex(n),[s,a]=t.splitAtOffset(r);o.splice(n,1,s,a),e=n+1,i=s.getLength()-r}else e=o.length,i=0;return[o,e,i]}consolidate(){const t=[];let e=this.objects[0];return this.objects.slice(1).forEach((i=>{var n,r;null!==(n=(r=e).canBeConsolidatedWith)&&void 0!==n&&n.call(r,i)?e=e.consolidateWith(i):(t.push(e),e=i)})),e&&t.push(e),new this.constructor(t)}consolidateFromIndexToIndex(t,e){const i=this.objects.slice(0).slice(t,e+1),n=new this.constructor(i).consolidate().toArray();return this.splice(t,i.length,...n)}findIndexAndOffsetAtPosition(t){let e,i=0;for(e=0;e<this.objects.length;e++){const n=i+this.objects[e].getLength();if(i<=t&&t<n)return{index:e,offset:t-i};i=n}return{index:null,offset:null}}findPositionAtIndexAndOffset(t,e){let i=0;for(let n=0;n<this.objects.length;n++){const r=this.objects[n];if(n<t)i+=r.getLength();else if(n===t){i+=e;break}}return i}getEndPosition(){return null==this.endPosition&&(this.endPosition=0,this.objects.forEach((t=>this.endPosition+=t.getLength()))),this.endPosition}toString(){return this.objects.join("")}toArray(){return this.objects.slice(0)}toJSON(){return this.toArray()}isEqualTo(t){return super.isEqualTo(...arguments)||Fy(this.objects,null==t?void 0:t.objects)}contentsForInspection(){return{objects:"[".concat(this.objects.map((t=>t.inspect())).join(", "),"]")}}},Fy=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t.length!==e.length)return!1;let i=!0;for(let n=0;n<t.length;n++){const r=t[n];i&&!r.isEqualTo(e[n])&&(i=!1)}return i},By=t=>t[0],Ny=t=>t[1],Vy=class extends vv{static textForAttachmentWithAttributes(t,e){return new this([new My(t,e)])}static textForStringWithAttributes(t,e){return new this([new jy(t,e)])}static fromJSON(t){return new this(Array.from(t).map((t=>Ly.fromJSON(t))))}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(...arguments);const e=t.filter((t=>!t.isEmpty()));this.pieceList=new Ry(e)}copy(){return this.copyWithPieceList(this.pieceList)}copyWithPieceList(t){return new this.constructor(t.consolidate().toArray())}copyUsingObjectMap(t){const e=this.getPieces().map((e=>t.find(e)||e));return new this.constructor(e)}appendText(t){return this.insertTextAtPosition(t,this.getLength())}insertTextAtPosition(t,e){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(t.pieceList,e))}removeTextAtRange(t){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(t))}replaceTextAtRange(t,e){return this.removeTextAtRange(e).insertTextAtPosition(t,e[0])}moveTextFromRangeToPosition(t,e){if(t[0]<=e&&e<=t[1])return;const i=this.getTextAtRange(t),n=i.getLength();return t[0]<e&&(e-=n),this.removeTextAtRange(t).insertTextAtPosition(i,e)}addAttributeAtRange(t,e,i){const n={};return n[t]=e,this.addAttributesAtRange(n,i)}addAttributesAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,(e=>e.copyWithAdditionalAttributes(t))))}removeAttributeAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,(e=>e.copyWithoutAttribute(t))))}setAttributesAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,(e=>e.copyWithAttributes(t))))}getAttributesAtPosition(t){var e;return(null===(e=this.pieceList.getObjectAtPosition(t))||void 0===e?void 0:e.getAttributes())||{}}getCommonAttributes(){const t=Array.from(this.pieceList.toArray()).map((t=>t.getAttributes()));return ry.fromCommonAttributesOfObjects(t).toObject()}getCommonAttributesAtRange(t){return this.getTextAtRange(t).getCommonAttributes()||{}}getExpandedRangeForAttributeAtOffset(t,e){let i,n=i=e;const r=this.getLength();for(;n>0&&this.getCommonAttributesAtRange([n-1,i])[t];)n--;for(;i<r&&this.getCommonAttributesAtRange([e,i+1])[t];)i++;return[n,i]}getTextAtRange(t){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(t))}getStringAtRange(t){return this.pieceList.getSplittableListInRange(t).toString()}getStringAtPosition(t){return this.getStringAtRange([t,t+1])}startsWithString(t){return this.getStringAtRange([0,t.length])===t}endsWithString(t){const e=this.getLength();return this.getStringAtRange([e-t.length,e])===t}getAttachmentPieces(){return this.pieceList.toArray().filter((t=>!!t.attachment))}getAttachments(){return this.getAttachmentPieces().map((t=>t.attachment))}getAttachmentAndPositionById(t){let e=0;for(const n of this.pieceList.toArray()){var i;if((null===(i=n.attachment)||void 0===i?void 0:i.id)===t)return{attachment:n.attachment,position:e};e+=n.length}return{attachment:null,position:null}}getAttachmentById(t){const{attachment:e}=this.getAttachmentAndPositionById(t);return e}getRangeOfAttachment(t){const e=this.getAttachmentAndPositionById(t.id),i=e.position;if(t=e.attachment)return[i,i+1]}updateAttributesForAttachment(t,e){const i=this.getRangeOfAttachment(e);return i?this.addAttributesAtRange(t,i):this}getLength(){return this.pieceList.getEndPosition()}isEmpty(){return 0===this.getLength()}isEqualTo(t){var e;return super.isEqualTo(t)||(null==t||null===(e=t.pieceList)||void 0===e?void 0:e.isEqualTo(this.pieceList))}isBlockBreak(){return 1===this.getLength()&&this.pieceList.getObjectAtIndex(0).isBlockBreak()}eachPiece(t){return this.pieceList.eachObject(t)}getPieces(){return this.pieceList.toArray()}getPieceAtPosition(t){return this.pieceList.getObjectAtPosition(t)}contentsForInspection(){return{pieceList:this.pieceList.inspect()}}toSerializableText(){const t=this.pieceList.selectSplittableList((t=>t.isSerializable()));return this.copyWithPieceList(t)}toString(){return this.pieceList.toString()}toJSON(){return this.pieceList.toJSON()}toConsole(){return JSON.stringify(this.pieceList.toArray().map((t=>JSON.parse(t.toConsole()))))}getDirection(){return kv(this.toString())}isRTL(){return"rtl"===this.getDirection()}},Hy=class extends vv{static fromJSON(t){return new this(Vy.fromJSON(t.text),t.attributes,t.htmlAttributes)}constructor(t,e,i){super(...arguments),this.text=zy(t||new Vy),this.attributes=e||[],this.htmlAttributes=i||{}}isEmpty(){return this.text.isBlockBreak()}isEqualTo(t){return!!super.isEqualTo(t)||this.text.isEqualTo(null==t?void 0:t.text)&&yv(this.attributes,null==t?void 0:t.attributes)&&Vv(this.htmlAttributes,null==t?void 0:t.htmlAttributes)}copyWithText(t){return new Hy(t,this.attributes,this.htmlAttributes)}copyWithoutText(){return this.copyWithText(null)}copyWithAttributes(t){return new Hy(this.text,t,this.htmlAttributes)}copyWithoutAttributes(){return this.copyWithAttributes(null)}copyUsingObjectMap(t){const e=t.find(this.text);return e?this.copyWithText(e):this.copyWithText(this.text.copyUsingObjectMap(t))}addAttribute(t){const e=this.attributes.concat(Jy(t));return this.copyWithAttributes(e)}addHTMLAttribute(t,e){const i=Object.assign({},this.htmlAttributes,{[t]:e});return new Hy(this.text,this.attributes,i)}removeAttribute(t){const{listAttribute:e}=Ov(t),i=Gy(Gy(this.attributes,t),e);return this.copyWithAttributes(i)}removeLastAttribute(){return this.removeAttribute(this.getLastAttribute())}getLastAttribute(){return Yy(this.attributes)}getAttributes(){return this.attributes.slice(0)}getAttributeLevel(){return this.attributes.length}getAttributeAtLevel(t){return this.attributes[t-1]}hasAttribute(t){return this.attributes.includes(t)}hasAttributes(){return this.getAttributeLevel()>0}getLastNestableAttribute(){return Yy(this.getNestableAttributes())}getNestableAttributes(){return this.attributes.filter((t=>Ov(t).nestable))}getNestingLevel(){return this.getNestableAttributes().length}decreaseNestingLevel(){const t=this.getLastNestableAttribute();return t?this.removeAttribute(t):this}increaseNestingLevel(){const t=this.getLastNestableAttribute();if(t){const e=this.attributes.lastIndexOf(t),i=bv(this.attributes,e+1,0,...Jy(t));return this.copyWithAttributes(i)}return this}getListItemAttributes(){return this.attributes.filter((t=>Ov(t).listAttribute))}isListItem(){var t;return null===(t=Ov(this.getLastAttribute()))||void 0===t?void 0:t.listAttribute}isTerminalBlock(){var t;return null===(t=Ov(this.getLastAttribute()))||void 0===t?void 0:t.terminal}breaksOnReturn(){var t;return null===(t=Ov(this.getLastAttribute()))||void 0===t?void 0:t.breakOnReturn}findLineBreakInDirectionFromPosition(t,e){const i=this.toString();let n;switch(t){case"forward":n=i.indexOf("\n",e);break;case"backward":n=i.slice(0,e).lastIndexOf("\n")}if(-1!==n)return n}contentsForInspection(){return{text:this.text.inspect(),attributes:this.attributes}}toString(){return this.text.toString()}toJSON(){return{text:this.text,attributes:this.attributes,htmlAttributes:this.htmlAttributes}}getDirection(){return this.text.getDirection()}isRTL(){return this.text.isRTL()}getLength(){return this.text.getLength()}canBeConsolidatedWith(t){return!this.hasAttributes()&&!t.hasAttributes()&&this.getDirection()===t.getDirection()}consolidateWith(t){const e=Vy.textForStringWithAttributes("\n"),i=this.getTextWithoutBlockBreak().appendText(e);return this.copyWithText(i.appendText(t.text))}splitAtOffset(t){let e,i;return 0===t?(e=null,i=this):t===this.getLength()?(e=this,i=null):(e=this.copyWithText(this.text.getTextAtRange([0,t])),i=this.copyWithText(this.text.getTextAtRange([t,this.getLength()]))),[e,i]}getBlockBreakPosition(){return this.text.getLength()-1}getTextWithoutBlockBreak(){return Ky(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()}canBeGrouped(t){return this.attributes[t]}canBeGroupedWith(t,e){const i=t.getAttributes(),n=i[e],r=this.attributes[e];return r===n&&!(!1===Ov(r).group&&!(()=>{if(!Av){Av=[];for(const t in xm){const{listAttribute:e}=xm[t];null!=e&&Av.push(e)}}return Av})().includes(i[e+1]))&&(this.getDirection()===t.getDirection()||t.isEmpty())}},zy=function(t){return t=qy(t),Uy(t)},qy=function(t){let e=!1;const i=t.getPieces();let n=i.slice(0,i.length-1);const r=i[i.length-1];return r?(n=n.map((t=>t.isBlockBreak()?(e=!0,$y(t)):t)),e?new Vy([...n,r]):t):t},Wy=Vy.textForStringWithAttributes("\n",{blockBreak:!0}),Uy=function(t){return Ky(t)?t:t.appendText(Wy)},Ky=function(t){const e=t.getLength();return 0!==e&&t.getTextAtRange([e-1,e]).isBlockBreak()},$y=t=>t.copyWithoutAttribute("blockBreak"),Jy=function(t){const{listAttribute:e}=Ov(t);return e?[e,t]:[t]},Yy=t=>t.slice(-1)[0],Gy=function(t,e){const i=t.lastIndexOf(e);return-1===i?t:bv(t,i,1)},Qy=class extends vv{static fromJSON(t){return new this(Array.from(t).map((t=>Hy.fromJSON(t))))}static fromString(t,e){const i=Vy.textForStringWithAttributes(t,e);return new this([new Hy(i)])}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(...arguments),0===t.length&&(t=[new Hy]),this.blockList=Ry.box(t)}isEmpty(){const t=this.getBlockAtIndex(0);return 1===this.blockList.length&&t.isEmpty()&&!t.hasAttributes()}copy(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray();return new this.constructor(t)}copyUsingObjectsFromDocument(t){const e=new dy(t.getObjects());return this.copyUsingObjectMap(e)}copyUsingObjectMap(t){const e=this.getBlocks().map((e=>t.find(e)||e.copyUsingObjectMap(t)));return new this.constructor(e)}copyWithBaseBlockAttributes(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const e=this.getBlocks().map((e=>{const i=t.concat(e.getAttributes());return e.copyWithAttributes(i)}));return new this.constructor(e)}replaceBlock(t,e){const i=this.blockList.indexOf(t);return-1===i?this:new this.constructor(this.blockList.replaceObjectAtIndex(e,i))}insertDocumentAtRange(t,e){const{blockList:i}=t;e=Hv(e);let[n]=e;const{index:r,offset:o}=this.locationFromPosition(n);let s=this;const a=this.getBlockAtPosition(n);return zv(e)&&a.isEmpty()&&!a.hasAttributes()?s=new this.constructor(s.blockList.removeObjectAtIndex(r)):a.getBlockBreakPosition()===o&&n++,s=s.removeTextAtRange(e),new this.constructor(s.blockList.insertSplittableListAtPosition(i,n))}mergeDocumentAtRange(t,e){let i,n;e=Hv(e);const[r]=e,o=this.locationFromPosition(r),s=this.getBlockAtIndex(o.index).getAttributes(),a=t.getBaseBlockAttributes(),l=s.slice(-a.length);if(yv(a,l)){const e=s.slice(0,-a.length);i=t.copyWithBaseBlockAttributes(e)}else i=t.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(s);const c=i.getBlockCount(),u=i.getBlockAtIndex(0);if(yv(s,u.getAttributes())){const t=u.getTextWithoutBlockBreak();if(n=this.insertTextAtRange(t,e),c>1){i=new this.constructor(i.getBlocks().slice(1));const e=r+t.getLength();n=n.insertDocumentAtRange(i,e)}}else n=this.insertDocumentAtRange(i,e);return n}insertTextAtRange(t,e){e=Hv(e);const[i]=e,{index:n,offset:r}=this.locationFromPosition(i),o=this.removeTextAtRange(e);return new this.constructor(o.blockList.editObjectAtIndex(n,(e=>e.copyWithText(e.text.insertTextAtPosition(t,r)))))}removeTextAtRange(t){let e;t=Hv(t);const[i,n]=t;if(zv(t))return this;const[r,o]=Array.from(this.locationRangeFromRange(t)),s=r.index,a=r.offset,l=this.getBlockAtIndex(s),c=o.index,u=o.offset,d=this.getBlockAtIndex(c);if(n-i==1&&l.getBlockBreakPosition()===a&&d.getBlockBreakPosition()!==u&&"\n"===d.text.getStringAtPosition(u))e=this.blockList.editObjectAtIndex(c,(t=>t.copyWithText(t.text.removeTextAtRange([u,u+1]))));else{let t;const i=l.text.getTextAtRange([0,a]),n=d.text.getTextAtRange([u,d.getLength()]),r=i.appendText(n);t=s!==c&&0===a&&l.getAttributeLevel()>=d.getAttributeLevel()?d.copyWithText(r):l.copyWithText(r);const o=c+1-s;e=this.blockList.splice(s,o,t)}return new this.constructor(e)}moveTextFromRangeToPosition(t,e){let i;t=Hv(t);const[n,r]=t;if(n<=e&&e<=r)return this;let o=this.getDocumentAtRange(t),s=this.removeTextAtRange(t);const a=n<e;a&&(e-=o.getLength());const[l,...c]=o.getBlocks();return 0===c.length?(i=l.getTextWithoutBlockBreak(),a&&(e+=1)):i=l.text,s=s.insertTextAtRange(i,e),0===c.length?s:(o=new this.constructor(c),e+=i.getLength(),s.insertDocumentAtRange(o,e))}addAttributeAtRange(t,e,i){let{blockList:n}=this;return this.eachBlockAtRange(i,((i,r,o)=>n=n.editObjectAtIndex(o,(function(){return Ov(t)?i.addAttribute(t,e):r[0]===r[1]?i:i.copyWithText(i.text.addAttributeAtRange(t,e,r))})))),new this.constructor(n)}addAttribute(t,e){let{blockList:i}=this;return this.eachBlock(((n,r)=>i=i.editObjectAtIndex(r,(()=>n.addAttribute(t,e))))),new this.constructor(i)}removeAttributeAtRange(t,e){let{blockList:i}=this;return this.eachBlockAtRange(e,(function(e,n,r){Ov(t)?i=i.editObjectAtIndex(r,(()=>e.removeAttribute(t))):n[0]!==n[1]&&(i=i.editObjectAtIndex(r,(()=>e.copyWithText(e.text.removeAttributeAtRange(t,n)))))})),new this.constructor(i)}updateAttributesForAttachment(t,e){const i=this.getRangeOfAttachment(e),[n]=Array.from(i),{index:r}=this.locationFromPosition(n),o=this.getTextAtIndex(r);return new this.constructor(this.blockList.editObjectAtIndex(r,(i=>i.copyWithText(o.updateAttributesForAttachment(t,e)))))}removeAttributeForAttachment(t,e){const i=this.getRangeOfAttachment(e);return this.removeAttributeAtRange(t,i)}setHTMLAttributeAtPosition(t,e,i){const n=this.getBlockAtPosition(t),r=n.addHTMLAttribute(e,i);return this.replaceBlock(n,r)}insertBlockBreakAtRange(t){let e;t=Hv(t);const[i]=t,{offset:n}=this.locationFromPosition(i),r=this.removeTextAtRange(t);return 0===n&&(e=[new Hy]),new this.constructor(r.blockList.insertSplittableListAtPosition(new Ry(e),i))}applyBlockAttributeAtRange(t,e,i){const n=this.expandRangeToLineBreaksAndSplitBlocks(i);let r=n.document;i=n.range;const o=Ov(t);if(o.listAttribute){r=r.removeLastListAttributeAtRange(i,{exceptAttributeName:t});const e=r.convertLineBreaksToBlockBreaksInRange(i);r=e.document,i=e.range}else r=o.exclusive?r.removeBlockAttributesAtRange(i):o.terminal?r.removeLastTerminalAttributeAtRange(i):r.consolidateBlocksAtRange(i);return r.addAttributeAtRange(t,e,i)}removeLastListAttributeAtRange(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{blockList:i}=this;return this.eachBlockAtRange(t,(function(t,n,r){const o=t.getLastAttribute();o&&Ov(o).listAttribute&&o!==e.exceptAttributeName&&(i=i.editObjectAtIndex(r,(()=>t.removeAttribute(o))))})),new this.constructor(i)}removeLastTerminalAttributeAtRange(t){let{blockList:e}=this;return this.eachBlockAtRange(t,(function(t,i,n){const r=t.getLastAttribute();r&&Ov(r).terminal&&(e=e.editObjectAtIndex(n,(()=>t.removeAttribute(r))))})),new this.constructor(e)}removeBlockAttributesAtRange(t){let{blockList:e}=this;return this.eachBlockAtRange(t,(function(t,i,n){t.hasAttributes()&&(e=e.editObjectAtIndex(n,(()=>t.copyWithoutAttributes())))})),new this.constructor(e)}expandRangeToLineBreaksAndSplitBlocks(t){let e;t=Hv(t);let[i,n]=t;const r=this.locationFromPosition(i),o=this.locationFromPosition(n);let s=this;const a=s.getBlockAtIndex(r.index);if(r.offset=a.findLineBreakInDirectionFromPosition("backward",r.offset),null!=r.offset&&(e=s.positionFromLocation(r),s=s.insertBlockBreakAtRange([e,e+1]),o.index+=1,o.offset-=s.getBlockAtIndex(r.index).getLength(),r.index+=1),r.offset=0,0===o.offset&&o.index>r.index)o.index-=1,o.offset=s.getBlockAtIndex(o.index).getBlockBreakPosition();else{const t=s.getBlockAtIndex(o.index);"\n"===t.text.getStringAtRange([o.offset-1,o.offset])?o.offset-=1:o.offset=t.findLineBreakInDirectionFromPosition("forward",o.offset),o.offset!==t.getBlockBreakPosition()&&(e=s.positionFromLocation(o),s=s.insertBlockBreakAtRange([e,e+1]))}return i=s.positionFromLocation(r),n=s.positionFromLocation(o),{document:s,range:t=Hv([i,n])}}convertLineBreaksToBlockBreaksInRange(t){t=Hv(t);let[e]=t;const i=this.getStringAtRange(t).slice(0,-1);let n=this;return i.replace(/.*?\n/g,(function(t){e+=t.length,n=n.insertBlockBreakAtRange([e-1,e])})),{document:n,range:t}}consolidateBlocksAtRange(t){t=Hv(t);const[e,i]=t,n=this.locationFromPosition(e).index,r=this.locationFromPosition(i).index;return new this.constructor(this.blockList.consolidateFromIndexToIndex(n,r))}getDocumentAtRange(t){t=Hv(t);const e=this.blockList.getSplittableListInRange(t).toArray();return new this.constructor(e)}getStringAtRange(t){let e;const i=t=Hv(t);return i[i.length-1]!==this.getLength()&&(e=-1),this.getDocumentAtRange(t).toString().slice(0,e)}getBlockAtIndex(t){return this.blockList.getObjectAtIndex(t)}getBlockAtPosition(t){const{index:e}=this.locationFromPosition(t);return this.getBlockAtIndex(e)}getTextAtIndex(t){var e;return null===(e=this.getBlockAtIndex(t))||void 0===e?void 0:e.text}getTextAtPosition(t){const{index:e}=this.locationFromPosition(t);return this.getTextAtIndex(e)}getPieceAtPosition(t){const{index:e,offset:i}=this.locationFromPosition(t);return this.getTextAtIndex(e).getPieceAtPosition(i)}getCharacterAtPosition(t){const{index:e,offset:i}=this.locationFromPosition(t);return this.getTextAtIndex(e).getStringAtRange([i,i+1])}getLength(){return this.blockList.getEndPosition()}getBlocks(){return this.blockList.toArray()}getBlockCount(){return this.blockList.length}getEditCount(){return this.editCount}eachBlock(t){return this.blockList.eachObject(t)}eachBlockAtRange(t,e){let i,n;t=Hv(t);const[r,o]=t,s=this.locationFromPosition(r),a=this.locationFromPosition(o);if(s.index===a.index)return i=this.getBlockAtIndex(s.index),n=[s.offset,a.offset],e(i,n,s.index);for(let t=s.index;t<=a.index;t++)if(i=this.getBlockAtIndex(t),i){switch(t){case s.index:n=[s.offset,i.text.getLength()];break;case a.index:n=[0,a.offset];break;default:n=[0,i.text.getLength()]}e(i,n,t)}}getCommonAttributesAtRange(t){t=Hv(t);const[e]=t;if(zv(t))return this.getCommonAttributesAtPosition(e);{const e=[],i=[];return this.eachBlockAtRange(t,(function(t,n){if(n[0]!==n[1])return e.push(t.text.getCommonAttributesAtRange(n)),i.push(Xy(t))})),ry.fromCommonAttributesOfObjects(e).merge(ry.fromCommonAttributesOfObjects(i)).toObject()}}getCommonAttributesAtPosition(t){let e,i;const{index:n,offset:r}=this.locationFromPosition(t),o=this.getBlockAtIndex(n);if(!o)return{};const s=Xy(o),a=o.text.getAttributesAtPosition(r),l=o.text.getAttributesAtPosition(r-1),c=Object.keys(rv).filter((t=>rv[t].inheritable));for(e in l)i=l[e],(i===a[e]||c.includes(e))&&(s[e]=i);return s}getRangeOfCommonAttributeAtPosition(t,e){const{index:i,offset:n}=this.locationFromPosition(e),r=this.getTextAtIndex(i),[o,s]=Array.from(r.getExpandedRangeForAttributeAtOffset(t,n)),a=this.positionFromLocation({index:i,offset:o}),l=this.positionFromLocation({index:i,offset:s});return Hv([a,l])}getBaseBlockAttributes(){let t=this.getBlockAtIndex(0).getAttributes();for(let e=1;e<this.getBlockCount();e++){const i=this.getBlockAtIndex(e).getAttributes(),n=Math.min(t.length,i.length);t=(()=>{const e=[];for(let r=0;r<n&&i[r]===t[r];r++)e.push(i[r]);return e})()}return t}getAttachmentById(t){for(const e of this.getAttachments())if(e.id===t)return e}getAttachmentPieces(){let t=[];return this.blockList.eachObject((e=>{let{text:i}=e;return t=t.concat(i.getAttachmentPieces())})),t}getAttachments(){return this.getAttachmentPieces().map((t=>t.attachment))}getRangeOfAttachment(t){let e=0;const i=this.blockList.toArray();for(let n=0;n<i.length;n++){const{text:r}=i[n],o=r.getRangeOfAttachment(t);if(o)return Hv([e+o[0],e+o[1]]);e+=r.getLength()}}getLocationRangeOfAttachment(t){const e=this.getRangeOfAttachment(t);return this.locationRangeFromRange(e)}getAttachmentPieceForAttachment(t){for(const e of this.getAttachmentPieces())if(e.attachment===t)return e}findRangesForBlockAttribute(t){let e=0;const i=[];return this.getBlocks().forEach((n=>{const r=n.getLength();n.hasAttribute(t)&&i.push([e,e+r]),e+=r})),i}findRangesForTextAttribute(t){let{withValue:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=0,n=[];const r=[];return this.getPieces().forEach((o=>{const s=o.getLength();var a;a=o,(e?a.getAttribute(t)===e:a.hasAttribute(t))&&(n[1]===i?n[1]=i+s:r.push(n=[i,i+s])),i+=s})),r}locationFromPosition(t){const e=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,t));if(null!=e.index)return e;{const t=this.getBlocks();return{index:t.length-1,offset:t[t.length-1].getLength()}}}positionFromLocation(t){return this.blockList.findPositionAtIndexAndOffset(t.index,t.offset)}locationRangeFromPosition(t){return Hv(this.locationFromPosition(t))}locationRangeFromRange(t){if(!(t=Hv(t)))return;const[e,i]=Array.from(t),n=this.locationFromPosition(e),r=this.locationFromPosition(i);return Hv([n,r])}rangeFromLocationRange(t){let e;t=Hv(t);const i=this.positionFromLocation(t[0]);return zv(t)||(e=this.positionFromLocation(t[1])),Hv([i,e])}isEqualTo(t){return this.blockList.isEqualTo(null==t?void 0:t.blockList)}getTexts(){return this.getBlocks().map((t=>t.text))}getPieces(){const t=[];return Array.from(this.getTexts()).forEach((e=>{t.push(...Array.from(e.getPieces()||[]))})),t}getObjects(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())}toSerializableDocument(){const t=[];return this.blockList.eachObject((e=>t.push(e.copyWithText(e.text.toSerializableText())))),new this.constructor(t)}toString(){return this.blockList.toString()}toJSON(){return this.blockList.toJSON()}toConsole(){return JSON.stringify(this.blockList.toArray().map((t=>JSON.parse(t.text.toConsole()))))}},Xy=function(t){const e={},i=t.getLastAttribute();return i&&(e[i]=!0),e},Zy="style href src width height language class".split(" "),tb="javascript:".split(" "),eb="script iframe form noscript".split(" "),ib=class extends lv{static sanitize(t,e){const i=new this(t,e);return i.sanitize(),i}constructor(t){let{allowedAttributes:e,forbiddenProtocols:i,forbiddenElements:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(...arguments),this.allowedAttributes=e||Zy,this.forbiddenProtocols=i||tb,this.forbiddenElements=n||eb,this.body=nb(t)}sanitize(){return this.sanitizeElements(),this.normalizeListElementNesting()}getHTML(){return this.body.innerHTML}getBody(){return this.body}sanitizeElements(){const t=Wm(this.body),e=[];for(;t.nextNode();){const i=t.currentNode;switch(i.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(i)?e.push(i):this.sanitizeElement(i);break;case Node.COMMENT_NODE:e.push(i)}}return e.forEach((t=>qm(t))),this.body}sanitizeElement(t){return t.hasAttribute("href")&&this.forbiddenProtocols.includes(t.protocol)&&t.removeAttribute("href"),Array.from(t.attributes).forEach((e=>{let{name:i}=e;this.allowedAttributes.includes(i)||0===i.indexOf("data-trix")||t.removeAttribute(i)})),t}normalizeListElementNesting(){return Array.from(this.body.querySelectorAll("ul,ol")).forEach((t=>{const e=t.previousElementSibling;e&&"li"===Um(e)&&e.appendChild(t)})),this.body}elementIsRemovable(t){if((null==t?void 0:t.nodeType)===Node.ELEMENT_NODE)return this.elementIsForbidden(t)||this.elementIsntSerializable(t)}elementIsForbidden(t){return this.forbiddenElements.includes(Um(t))}elementIsntSerializable(t){return"false"===t.getAttribute("data-trix-serialize")&&!Zm(t)}},nb=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t=t.replace(/<\/html[^>]*>[^]*$/i,"</html>");const e=document.implementation.createHTMLDocument("");return e.documentElement.innerHTML=t,Array.from(e.head.querySelectorAll("style")).forEach((t=>{e.body.appendChild(t)})),e.body},rb=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{string:t=Zv(t),attributes:e,type:"string"}},ob=(t,e)=>{try{const i=JSON.parse(t.getAttribute("data-trix-".concat(e)));return"text/html"===i.contentType&&i.content&&(i.content=ib.sanitize(i.content).getHTML()),i}catch(t){return{}}},sb=class extends lv{static parse(t,e){const i=new this(t,e);return i.parse(),i}constructor(t){let{referenceElement:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(...arguments),this.html=t,this.referenceElement=e,this.blocks=[],this.blockElements=[],this.processedElements=[]}getDocument(){return Qy.fromJSON(this.blocks)}parse(){try{this.createHiddenContainer();const t=ib.sanitize(this.html).getHTML();this.containerElement.innerHTML=t;const e=Wm(this.containerElement,{usingFilter:ub});for(;e.nextNode();)this.processNode(e.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}}createHiddenContainer(){
return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=Km({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))}removeHiddenContainer(){return qm(this.containerElement)}processNode(t){switch(t.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(t))return this.appendBlockForTextNode(t),this.processTextNode(t);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(t),this.processElement(t)}}appendBlockForTextNode(t){const e=t.parentNode;if(e===this.currentBlockElement&&this.isBlockElement(t.previousSibling))return this.appendStringWithAttributes("\n");if(e===this.containerElement||this.isBlockElement(e)){var i;const t=this.getBlockAttributes(e),n=this.getBlockHTMLAttributes(e);yv(t,null===(i=this.currentBlock)||void 0===i?void 0:i.attributes)||(this.currentBlock=this.appendBlockForAttributesWithElement(t,e,n),this.currentBlockElement=e)}}appendBlockForElement(t){const e=this.isBlockElement(t),i=Hm(this.currentBlockElement,t);if(e&&!this.isBlockElement(t.firstChild)){if(!this.isInsignificantTextNode(t.firstChild)||!this.isBlockElement(t.firstElementChild)){const e=this.getBlockAttributes(t),n=this.getBlockHTMLAttributes(t);if(t.firstChild){if(i&&yv(e,this.currentBlock.attributes))return this.appendStringWithAttributes("\n");this.currentBlock=this.appendBlockForAttributesWithElement(e,t,n),this.currentBlockElement=t}}}else if(this.currentBlockElement&&!i&&!e){const e=this.findParentBlockElement(t);if(e)return this.appendBlockForElement(e);this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null}}findParentBlockElement(t){let{parentElement:e}=t;for(;e&&e!==this.containerElement;){if(this.isBlockElement(e)&&this.blockElements.includes(e))return e;e=e.parentElement}return null}processTextNode(t){let e=t.data;var i;return ab(t.parentNode)||(e=ey(e),pb(null===(i=t.previousSibling)||void 0===i?void 0:i.textContent)&&(e=db(e))),this.appendStringWithAttributes(e,this.getTextAttributes(t.parentNode))}processElement(t){let e;if(Zm(t)){if(e=ob(t,"attachment"),Object.keys(e).length){const i=this.getTextAttributes(t);this.appendAttachmentWithAttributes(e,i),t.innerHTML=""}return this.processedElements.push(t)}switch(Um(t)){case"br":return this.isExtraBR(t)||this.isBlockElement(t.nextSibling)||this.appendStringWithAttributes("\n",this.getTextAttributes(t)),this.processedElements.push(t);case"img":e={url:t.getAttribute("src"),contentType:"image"};const i=(t=>{const e=t.getAttribute("width"),i=t.getAttribute("height"),n={};return e&&(n.width=parseInt(e,10)),i&&(n.height=parseInt(i,10)),n})(t);for(const t in i){const n=i[t];e[t]=n}return this.appendAttachmentWithAttributes(e,this.getTextAttributes(t)),this.processedElements.push(t);case"tr":if(this.needsTableSeparator(t))return this.appendStringWithAttributes(nv.tableRowSeparator);break;case"td":if(this.needsTableSeparator(t))return this.appendStringWithAttributes(nv.tableCellSeparator)}}appendBlockForAttributesWithElement(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.blockElements.push(e);const n=function(){return{text:[],attributes:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},htmlAttributes:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}}}(t,i);return this.blocks.push(n),n}appendEmptyBlock(){return this.appendBlockForAttributesWithElement([],null)}appendStringWithAttributes(t,e){return this.appendPiece(rb(t,e))}appendAttachmentWithAttributes(t,e){return this.appendPiece(function(t){return{attachment:t,attributes:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},type:"attachment"}}(t,e))}appendPiece(t){return 0===this.blocks.length&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(t)}appendStringToTextAtIndex(t,e){const{text:i}=this.blocks[e],n=i[i.length-1];if("string"!==(null==n?void 0:n.type))return i.push(rb(t));n.string+=t}prependStringToTextAtIndex(t,e){const{text:i}=this.blocks[e],n=i[0];if("string"!==(null==n?void 0:n.type))return i.unshift(rb(t));n.string=t+n.string}getTextAttributes(t){let e;const i={};for(const n in rv){const r=rv[n];if(r.tagName&&Nm(t,{matchingSelector:r.tagName,untilNode:this.containerElement}))i[n]=!0;else if(r.parser){if(e=r.parser(t),e){let o=!1;for(const i of this.findBlockElementAncestors(t))if(r.parser(i)===e){o=!0;break}o||(i[n]=e)}}else r.styleProperty&&(e=t.style[r.styleProperty],e&&(i[n]=e))}if(Zm(t)){const n=ob(t,"attributes");for(const t in n)e=n[t],i[t]=e}return i}getBlockAttributes(t){const e=[];for(;t&&t!==this.containerElement;){for(const n in xm){const r=xm[n];var i;!1!==r.parse&&Um(t)===r.tagName&&(null!==(i=r.test)&&void 0!==i&&i.call(r,t)||!r.test)&&(e.push(n),r.listAttribute&&e.push(r.listAttribute))}t=t.parentNode}return e.reverse()}getBlockHTMLAttributes(t){const e={},i=Object.values(xm).find((e=>e.tagName===Um(t)));return((null==i?void 0:i.htmlAttributes)||[]).forEach((i=>{t.hasAttribute(i)&&(e[i]=t.getAttribute(i))})),e}findBlockElementAncestors(t){const e=[];for(;t&&t!==this.containerElement;){const i=Um(t);$m().includes(i)&&e.push(t),t=t.parentNode}return e}isBlockElement(t){if((null==t?void 0:t.nodeType)===Node.ELEMENT_NODE&&!Zm(t)&&!Nm(t,{matchingSelector:"td",untilNode:this.containerElement}))return $m().includes(Um(t))||"block"===window.getComputedStyle(t).display}isInsignificantTextNode(t){if((null==t?void 0:t.nodeType)!==Node.TEXT_NODE)return;if(!hb(t.data))return;const{parentNode:e,previousSibling:i,nextSibling:n}=t;return lb(e.previousSibling)&&!this.isBlockElement(e.previousSibling)||ab(e)?void 0:!i||this.isBlockElement(i)||!n||this.isBlockElement(n)}isExtraBR(t){return"br"===Um(t)&&this.isBlockElement(t.parentNode)&&t.parentNode.lastChild===t}needsTableSeparator(t){if(nv.removeBlankTableCells){var e;const i=null===(e=t.previousSibling)||void 0===e?void 0:e.textContent;return i&&/\S/.test(i)}return t.previousSibling}translateBlockElementMarginsToNewlines(){const t=this.getMarginOfDefaultBlockElement();for(let e=0;e<this.blocks.length;e++){const i=this.getMarginOfBlockElementAtIndex(e);i&&(i.top>2*t.top&&this.prependStringToTextAtIndex("\n",e),i.bottom>2*t.bottom&&this.appendStringToTextAtIndex("\n",e))}}getMarginOfBlockElementAtIndex(t){const e=this.blockElements[t];if(e&&e.textContent&&!$m().includes(Um(e))&&!this.processedElements.includes(e))return cb(e)}getMarginOfDefaultBlockElement(){const t=Km(xm.default.tagName);return this.containerElement.appendChild(t),cb(t)}},ab=function(t){const{whiteSpace:e}=window.getComputedStyle(t);return["pre","pre-wrap","pre-line"].includes(e)},lb=t=>t&&!pb(t.textContent),cb=function(t){const e=window.getComputedStyle(t);if("block"===e.display)return{top:parseInt(e.marginTop),bottom:parseInt(e.marginBottom)}},ub=function(t){return"style"===Um(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},db=t=>t.replace(new RegExp("^".concat(ty.source,"+")),""),hb=t=>new RegExp("^".concat(ty.source,"*$")).test(t),pb=t=>/\s$/.test(t),fb=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],gb="data-trix-serialized-attributes",mb="[".concat(gb,"]"),vb=new RegExp("<!--block-->","g"),yb={"application/json":function(t){let e;if(t instanceof Qy)e=t;else{if(!(t instanceof HTMLElement))throw new Error("unserializable object");e=sb.parse(t.innerHTML).getDocument()}return e.toSerializableDocument().toJSONString()},"text/html":function(t){let e;if(t instanceof Qy)e=Oy.render(t);else{if(!(t instanceof HTMLElement))throw new Error("unserializable object");e=t.cloneNode(!0)}return Array.from(e.querySelectorAll("[data-trix-serialize=false]")).forEach((t=>{qm(t)})),fb.forEach((t=>{Array.from(e.querySelectorAll("[".concat(t,"]"))).forEach((e=>{e.removeAttribute(t)}))})),Array.from(e.querySelectorAll(mb)).forEach((t=>{try{const e=JSON.parse(t.getAttribute(gb));t.removeAttribute(gb);for(const i in e){const n=e[i];t.setAttribute(i,n)}}catch(t){}})),e.innerHTML.replace(vb,"")}},bb=Object.freeze({__proto__:null}),wb=class extends lv{constructor(t,e){super(...arguments),this.attachmentManager=t,this.attachment=e,this.id=this.attachment.id,this.file=this.attachment.file}remove(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)}};wb.proxyMethod("attachment.getAttribute"),wb.proxyMethod("attachment.hasAttribute"),wb.proxyMethod("attachment.setAttribute"),wb.proxyMethod("attachment.getAttributes"),wb.proxyMethod("attachment.setAttributes"),wb.proxyMethod("attachment.isPending"),wb.proxyMethod("attachment.isPreviewable"),wb.proxyMethod("attachment.getURL"),wb.proxyMethod("attachment.getHref"),wb.proxyMethod("attachment.getFilename"),wb.proxyMethod("attachment.getFilesize"),wb.proxyMethod("attachment.getFormattedFilesize"),wb.proxyMethod("attachment.getExtension"),wb.proxyMethod("attachment.getContentType"),wb.proxyMethod("attachment.getFile"),wb.proxyMethod("attachment.setFile"),wb.proxyMethod("attachment.releaseFile"),wb.proxyMethod("attachment.getUploadProgress"),wb.proxyMethod("attachment.setUploadProgress");var kb=class extends lv{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(...arguments),this.managedAttachments={},Array.from(t).forEach((t=>{this.manageAttachment(t)}))}getAttachments(){const t=[];for(const e in this.managedAttachments){const i=this.managedAttachments[e];t.push(i)}return t}manageAttachment(t){return this.managedAttachments[t.id]||(this.managedAttachments[t.id]=new wb(this,t)),this.managedAttachments[t.id]}attachmentIsManaged(t){return t.id in this.managedAttachments}requestRemovalOfAttachment(t){var e,i;if(this.attachmentIsManaged(t))return null===(e=this.delegate)||void 0===e||null===(i=e.attachmentManagerDidRequestRemovalOfAttachment)||void 0===i?void 0:i.call(e,t)}unmanageAttachment(t){const e=this.managedAttachments[t.id];return delete this.managedAttachments[t.id],e}},_b=class{constructor(t){this.composition=t,this.document=this.composition.document;const e=this.composition.getSelectedRange();this.startPosition=e[0],this.endPosition=e[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}shouldInsertBlockBreak(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?0!==this.startLocation.offset:this.breaksOnReturn&&"\n"!==this.nextCharacter}shouldBreakFormattedBlock(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&"\n"===this.nextCharacter||"\n"===this.previousCharacter)}shouldDecreaseListLevel(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()}shouldPrependListItem(){return this.block.isListItem()&&0===this.startLocation.offset&&!this.block.isEmpty()}shouldRemoveLastBlockAttribute(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()}},xb=class extends lv{constructor(){super(...arguments),this.document=new Qy,this.attachments=[],this.currentAttributes={},this.revision=0}setDocument(t){var e,i;if(!t.isEqualTo(this.document))return this.document=t,this.refreshAttachments(),this.revision++,null===(e=this.delegate)||void 0===e||null===(i=e.compositionDidChangeDocument)||void 0===i?void 0:i.call(e,t)}getSnapshot(){return{document:this.document,selectedRange:this.getSelectedRange()}}loadSnapshot(t){var e,i,n,r;let{document:o,selectedRange:s}=t;return null===(e=this.delegate)||void 0===e||null===(i=e.compositionWillLoadSnapshot)||void 0===i||i.call(e),this.setDocument(null!=o?o:new Qy),this.setSelection(null!=s?s:[0,0]),null===(n=this.delegate)||void 0===n||null===(r=n.compositionDidLoadSnapshot)||void 0===r?void 0:r.call(n)}insertText(t){let{updatePosition:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{updatePosition:!0};const i=this.getSelectedRange();this.setDocument(this.document.insertTextAtRange(t,i));const n=i[0],r=n+t.getLength();return e&&this.setSelection(r),this.notifyDelegateOfInsertionAtRange([n,r])}insertBlock(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Hy;const e=new Qy([t]);return this.insertDocument(e)}insertDocument(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Qy;const e=this.getSelectedRange();this.setDocument(this.document.insertDocumentAtRange(t,e));const i=e[0],n=i+t.getLength();return this.setSelection(n),this.notifyDelegateOfInsertionAtRange([i,n])}insertString(t,e){const i=this.getCurrentTextAttributes(),n=Vy.textForStringWithAttributes(t,i);return this.insertText(n,e)}insertBlockBreak(){const t=this.getSelectedRange();this.setDocument(this.document.insertBlockBreakAtRange(t));const e=t[0],i=e+1;return this.setSelection(i),this.notifyDelegateOfInsertionAtRange([e,i])}insertLineBreak(){const t=new _b(this);if(t.shouldDecreaseListLevel())return this.decreaseListLevel(),this.setSelection(t.startPosition);if(t.shouldPrependListItem()){const e=new Qy([t.block.copyWithoutText()]);return this.insertDocument(e)}return t.shouldInsertBlockBreak()?this.insertBlockBreak():t.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():t.shouldBreakFormattedBlock()?this.breakFormattedBlock(t):this.insertString("\n")}insertHTML(t){const e=sb.parse(t).getDocument(),i=this.getSelectedRange();this.setDocument(this.document.mergeDocumentAtRange(e,i));const n=i[0],r=n+e.getLength()-1;return this.setSelection(r),this.notifyDelegateOfInsertionAtRange([n,r])}replaceHTML(t){const e=sb.parse(t).getDocument().copyUsingObjectsFromDocument(this.document),i=this.getLocationRange({strict:!1}),n=this.document.rangeFromLocationRange(i);return this.setDocument(e),this.setSelection(n)}insertFile(t){return this.insertFiles([t])}insertFiles(t){const e=[];return Array.from(t).forEach((t=>{var i;if(null!==(i=this.delegate)&&void 0!==i&&i.compositionShouldAcceptFile(t)){const i=Py.attachmentForFile(t);e.push(i)}})),this.insertAttachments(e)}insertAttachment(t){return this.insertAttachments([t])}insertAttachments(t){let e=new Vy;return Array.from(t).forEach((t=>{var i;const n=t.getType(),r=null===(i=_m[n])||void 0===i?void 0:i.presentation,o=this.getCurrentTextAttributes();r&&(o.presentation=r);const s=Vy.textForAttachmentWithAttributes(t,o);e=e.appendText(s)})),this.insertText(e)}shouldManageDeletingInDirection(t){const e=this.getLocationRange();if(zv(e)){if("backward"===t&&0===e[0].offset)return!0;if(this.shouldManageMovingCursorInDirection(t))return!0}else if(e[0].index!==e[1].index)return!0;return!1}deleteInDirection(t){let e,i,n,{length:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=this.getLocationRange();let s=this.getSelectedRange();const a=zv(s);if(a?i="backward"===t&&0===o[0].offset:n=o[0].index!==o[1].index,i&&this.canDecreaseBlockAttributeLevel()){const t=this.getBlock();if(t.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(s[0]),t.isEmpty())return!1}return a&&(s=this.getExpandedRangeInDirection(t,{length:r}),"backward"===t&&(e=this.getAttachmentAtRange(s))),e?(this.editAttachment(e),!1):(this.setDocument(this.document.removeTextAtRange(s)),this.setSelection(s[0]),!i&&!n&&void 0)}moveTextFromRange(t){const[e]=Array.from(this.getSelectedRange());return this.setDocument(this.document.moveTextFromRangeToPosition(t,e)),this.setSelection(e)}removeAttachment(t){const e=this.document.getRangeOfAttachment(t);if(e)return this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(e)),this.setSelection(e[0])}removeLastBlockAttribute(){const[t,e]=Array.from(this.getSelectedRange()),i=this.document.getBlockAtPosition(e);return this.removeCurrentAttribute(i.getLastAttribute()),this.setSelection(t)}insertPlaceholder(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")}selectPlaceholder(){if(null!=this.placeholderPosition)return this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+1]),this.getSelectedRange()}forgetPlaceholder(){this.placeholderPosition=null}hasCurrentAttribute(t){const e=this.currentAttributes[t];return null!=e&&!1!==e}toggleCurrentAttribute(t){const e=!this.currentAttributes[t];return e?this.setCurrentAttribute(t,e):this.removeCurrentAttribute(t)}canSetCurrentAttribute(t){return Ov(t)?this.canSetCurrentBlockAttribute(t):this.canSetCurrentTextAttribute(t)}canSetCurrentTextAttribute(t){const e=this.getSelectedDocument();if(e){for(const t of Array.from(e.getAttachments()))if(!t.hasContent())return!1;return!0}}canSetCurrentBlockAttribute(t){const e=this.getBlock();if(e)return!e.isTerminalBlock()}setCurrentAttribute(t,e){return Ov(t)?this.setBlockAttribute(t,e):(this.setTextAttribute(t,e),this.currentAttributes[t]=e,this.notifyDelegateOfCurrentAttributesChange())}setHTMLAtributeAtPosition(t,e,i){var n;const r=this.document.getBlockAtPosition(t),o=null===(n=Ov(r.getLastAttribute()))||void 0===n?void 0:n.htmlAttributes;if(r&&null!=o&&o.includes(e)){const n=this.document.setHTMLAttributeAtPosition(t,e,i);this.setDocument(n)}}setTextAttribute(t,e){const i=this.getSelectedRange();if(!i)return;const[n,r]=Array.from(i);if(n!==r)return this.setDocument(this.document.addAttributeAtRange(t,e,i));if("href"===t){const t=Vy.textForStringWithAttributes(e,{href:e});return this.insertText(t)}}setBlockAttribute(t,e){const i=this.getSelectedRange();if(this.canSetCurrentAttribute(t))return this.setDocument(this.document.applyBlockAttributeAtRange(t,e,i)),this.setSelection(i)}removeCurrentAttribute(t){return Ov(t)?(this.removeBlockAttribute(t),this.updateCurrentAttributes()):(this.removeTextAttribute(t),delete this.currentAttributes[t],this.notifyDelegateOfCurrentAttributesChange())}removeTextAttribute(t){const e=this.getSelectedRange();if(e)return this.setDocument(this.document.removeAttributeAtRange(t,e))}removeBlockAttribute(t){const e=this.getSelectedRange();if(e)return this.setDocument(this.document.removeAttributeAtRange(t,e))}canDecreaseNestingLevel(){var t;return(null===(t=this.getBlock())||void 0===t?void 0:t.getNestingLevel())>0}canIncreaseNestingLevel(){var t;const e=this.getBlock();if(e){if(null===(t=Ov(e.getLastNestableAttribute()))||void 0===t||!t.listAttribute)return e.getNestingLevel()>0;{const t=this.getPreviousBlock();if(t)return function(){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return yv((arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).slice(0,t.length),t)}(t.getListItemAttributes(),e.getListItemAttributes())}}}decreaseNestingLevel(){const t=this.getBlock();if(t)return this.setDocument(this.document.replaceBlock(t,t.decreaseNestingLevel()))}increaseNestingLevel(){const t=this.getBlock();if(t)return this.setDocument(this.document.replaceBlock(t,t.increaseNestingLevel()))}canDecreaseBlockAttributeLevel(){var t;return(null===(t=this.getBlock())||void 0===t?void 0:t.getAttributeLevel())>0}decreaseBlockAttributeLevel(){var t;const e=null===(t=this.getBlock())||void 0===t?void 0:t.getLastAttribute();if(e)return this.removeCurrentAttribute(e)}decreaseListLevel(){let[t]=Array.from(this.getSelectedRange());const{index:e}=this.document.locationFromPosition(t);let i=e;const n=this.getBlock().getAttributeLevel();let r=this.document.getBlockAtIndex(i+1);for(;r&&r.isListItem()&&!(r.getAttributeLevel()<=n);)i++,r=this.document.getBlockAtIndex(i+1);t=this.document.positionFromLocation({index:e,offset:0});const o=this.document.positionFromLocation({index:i,offset:0});return this.setDocument(this.document.removeLastListAttributeAtRange([t,o]))}updateCurrentAttributes(){const t=this.getSelectedRange({ignoreLock:!0});if(t){const e=this.document.getCommonAttributesAtRange(t);if(Array.from(Sv()).forEach((t=>{e[t]||this.canSetCurrentAttribute(t)||(e[t]=!1)})),!Vv(e,this.currentAttributes))return this.currentAttributes=e,this.notifyDelegateOfCurrentAttributesChange()}}getCurrentAttributes(){return Pm.call({},this.currentAttributes)}getCurrentTextAttributes(){const t={};for(const e in this.currentAttributes){const i=this.currentAttributes[e];!1!==i&&Tv(e)&&(t[e]=i)}return t}freezeSelection(){return this.setCurrentAttribute("frozen",!0)}thawSelection(){return this.removeCurrentAttribute("frozen")}hasFrozenSelection(){return this.hasCurrentAttribute("frozen")}setSelection(t){var e;const i=this.document.locationRangeFromRange(t);return null===(e=this.delegate)||void 0===e?void 0:e.compositionDidRequestChangingSelectionToLocationRange(i)}getSelectedRange(){const t=this.getLocationRange();if(t)return this.document.rangeFromLocationRange(t)}setSelectedRange(t){const e=this.document.locationRangeFromRange(t);return this.getSelectionManager().setLocationRange(e)}getPosition(){const t=this.getLocationRange();if(t)return this.document.positionFromLocation(t[0])}getLocationRange(t){return this.targetLocationRange?this.targetLocationRange:this.getSelectionManager().getLocationRange(t)||Hv({index:0,offset:0})}withTargetLocationRange(t,e){let i;this.targetLocationRange=t;try{i=e()}finally{this.targetLocationRange=null}return i}withTargetRange(t,e){const i=this.document.locationRangeFromRange(t);return this.withTargetLocationRange(i,e)}withTargetDOMRange(t,e){const i=this.createLocationRangeFromDOMRange(t,{strict:!1});return this.withTargetLocationRange(i,e)}getExpandedRangeInDirection(t){let{length:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[i,n]=Array.from(this.getSelectedRange());return"backward"===t?e?i-=e:i=this.translateUTF16PositionFromOffset(i,-1):e?n+=e:n=this.translateUTF16PositionFromOffset(n,1),Hv([i,n])}shouldManageMovingCursorInDirection(t){if(this.editingAttachment)return!0;const e=this.getExpandedRangeInDirection(t);return null!=this.getAttachmentAtRange(e)}moveCursorInDirection(t){let e,i;if(this.editingAttachment)i=this.document.getRangeOfAttachment(this.editingAttachment);else{const n=this.getSelectedRange();i=this.getExpandedRangeInDirection(t),e=!qv(n,i)}if("backward"===t?this.setSelectedRange(i[0]):this.setSelectedRange(i[1]),e){const t=this.getAttachmentAtRange(i);if(t)return this.editAttachment(t)}}expandSelectionInDirection(t){let{length:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=this.getExpandedRangeInDirection(t,{length:e});return this.setSelectedRange(i)}expandSelectionForEditing(){if(this.hasCurrentAttribute("href"))return this.expandSelectionAroundCommonAttribute("href")}expandSelectionAroundCommonAttribute(t){const e=this.getPosition(),i=this.document.getRangeOfCommonAttributeAtPosition(t,e);return this.setSelectedRange(i)}selectionContainsAttachments(){var t;return(null===(t=this.getSelectedAttachments())||void 0===t?void 0:t.length)>0}selectionIsInCursorTarget(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())}positionIsCursorTarget(t){const e=this.document.locationFromPosition(t);if(e)return this.locationIsCursorTarget(e)}positionIsBlockBreak(t){var e;return null===(e=this.document.getPieceAtPosition(t))||void 0===e?void 0:e.isBlockBreak()}getSelectedDocument(){const t=this.getSelectedRange();if(t)return this.document.getDocumentAtRange(t)}getSelectedAttachments(){var t;return null===(t=this.getSelectedDocument())||void 0===t?void 0:t.getAttachments()}getAttachments(){return this.attachments.slice(0)}refreshAttachments(){const t=this.document.getAttachments(),{added:e,removed:i}=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const i=[],n=[],r=new Set;t.forEach((t=>{r.add(t)}));const o=new Set;return e.forEach((t=>{o.add(t),r.has(t)||i.push(t)})),t.forEach((t=>{o.has(t)||n.push(t)})),{added:i,removed:n}}(this.attachments,t);return this.attachments=t,Array.from(i).forEach((t=>{var e,i;t.delegate=null,null===(e=this.delegate)||void 0===e||null===(i=e.compositionDidRemoveAttachment)||void 0===i||i.call(e,t)})),(()=>{const t=[];return Array.from(e).forEach((e=>{var i,n;e.delegate=this,t.push(null===(i=this.delegate)||void 0===i||null===(n=i.compositionDidAddAttachment)||void 0===n?void 0:n.call(i,e))})),t})()}attachmentDidChangeAttributes(t){var e,i;return this.revision++,null===(e=this.delegate)||void 0===e||null===(i=e.compositionDidEditAttachment)||void 0===i?void 0:i.call(e,t)}attachmentDidChangePreviewURL(t){var e,i;return this.revision++,null===(e=this.delegate)||void 0===e||null===(i=e.compositionDidChangeAttachmentPreviewURL)||void 0===i?void 0:i.call(e,t)}editAttachment(t,e){var i,n;if(t!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=t,null===(i=this.delegate)||void 0===i||null===(n=i.compositionDidStartEditingAttachment)||void 0===n?void 0:n.call(i,this.editingAttachment,e)}stopEditingAttachment(){var t,e;this.editingAttachment&&(null===(t=this.delegate)||void 0===t||null===(e=t.compositionDidStopEditingAttachment)||void 0===e||e.call(t,this.editingAttachment),this.editingAttachment=null)}updateAttributesForAttachment(t,e){return this.setDocument(this.document.updateAttributesForAttachment(t,e))}removeAttributeForAttachment(t,e){return this.setDocument(this.document.removeAttributeForAttachment(t,e))}breakFormattedBlock(t){let{document:e}=t;const{block:i}=t;let n=t.startPosition,r=[n-1,n];i.getBlockBreakPosition()===t.startLocation.offset?(i.breaksOnReturn()&&"\n"===t.nextCharacter?n+=1:e=e.removeTextAtRange(r),r=[n,n]):"\n"===t.nextCharacter?"\n"===t.previousCharacter?r=[n-1,n+1]:(r=[n,n+1],n+=1):t.startLocation.offset-1!=0&&(n+=1);const o=new Qy([i.removeLastAttribute().copyWithoutText()]);return this.setDocument(e.insertDocumentAtRange(o,r)),this.setSelection(n)}getPreviousBlock(){const t=this.getLocationRange();if(t){const{index:e}=t[0];if(e>0)return this.document.getBlockAtIndex(e-1)}}getBlock(){const t=this.getLocationRange();if(t)return this.document.getBlockAtIndex(t[0].index)}getAttachmentAtRange(t){const e=this.document.getDocumentAtRange(t);if(e.toString()==="".concat("\ufffc","\n"))return e.getAttachments()[0]}notifyDelegateOfCurrentAttributesChange(){var t,e;return null===(t=this.delegate)||void 0===t||null===(e=t.compositionDidChangeCurrentAttributes)||void 0===e?void 0:e.call(t,this.currentAttributes)}notifyDelegateOfInsertionAtRange(t){var e,i;return null===(e=this.delegate)||void 0===e||null===(i=e.compositionDidPerformInsertionAtRange)||void 0===i?void 0:i.call(e,t)}translateUTF16PositionFromOffset(t,e){const i=this.document.toUTF16String(),n=i.offsetFromUCS2Offset(t);return i.offsetToUCS2Offset(n+e)}};xb.proxyMethod("getSelectionManager().getPointRange"),xb.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),xb.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),xb.proxyMethod("getSelectionManager().locationIsCursorTarget"),xb.proxyMethod("getSelectionManager().selectionIsExpanded"),xb.proxyMethod("delegate?.getSelectionManager");var Eb=class extends lv{constructor(t){super(...arguments),this.composition=t,this.undoEntries=[],this.redoEntries=[]}recordUndoEntry(t){let{context:e,consolidatable:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.undoEntries.slice(-1)[0];if(!i||!Ab(n,t,e)){const i=this.createEntry({description:t,context:e});this.undoEntries.push(i),this.redoEntries=[]}}undo(){const t=this.undoEntries.pop();if(t){const e=this.createEntry(t);return this.redoEntries.push(e),this.composition.loadSnapshot(t.snapshot)}}redo(){const t=this.redoEntries.pop();if(t){const e=this.createEntry(t);return this.undoEntries.push(e),this.composition.loadSnapshot(t.snapshot)}}canUndo(){return this.undoEntries.length>0}canRedo(){return this.redoEntries.length>0}createEntry(){let{description:t,context:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{description:null==t?void 0:t.toString(),context:JSON.stringify(e),snapshot:this.composition.getSnapshot()}}},Ab=(t,e,i)=>(null==t?void 0:t.description)===(null==e?void 0:e.toString())&&(null==t?void 0:t.context)===JSON.stringify(i),Sb="attachmentGallery",Ob=class{constructor(t){this.document=t.document,this.selectedRange=t.selectedRange}perform(){return this.removeBlockAttribute(),this.applyBlockAttribute()}getSnapshot(){return{document:this.document,selectedRange:this.selectedRange}}removeBlockAttribute(){return this.findRangesOfBlocks().map((t=>this.document=this.document.removeAttributeAtRange(Sb,t)))}applyBlockAttribute(){let t=0;this.findRangesOfPieces().forEach((e=>{e[1]-e[0]>1&&(e[0]+=t,e[1]+=t,"\n"!==this.document.getCharacterAtPosition(e[1])&&(this.document=this.document.insertBlockBreakAtRange(e[1]),e[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),e[1]++,t++),0!==e[0]&&"\n"!==this.document.getCharacterAtPosition(e[0]-1)&&(this.document=this.document.insertBlockBreakAtRange(e[0]),e[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),e[0]++,t++),this.document=this.document.applyBlockAttributeAtRange(Sb,!0,e))}))}findRangesOfBlocks(){return this.document.findRangesForBlockAttribute(Sb)}findRangesOfPieces(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})}moveSelectedRangeForward(){this.selectedRange[0]+=1,this.selectedRange[1]+=1}},Cb=function(t){const e=new Ob(t);return e.perform(),e.getSnapshot()},Tb=[Cb],Db=class{constructor(t,e,i){this.insertFiles=this.insertFiles.bind(this),this.composition=t,this.selectionManager=e,this.element=i,this.undoManager=new Eb(this.composition),this.filters=Tb.slice(0)}loadDocument(t){return this.loadSnapshot({document:t,selectedRange:[0,0]})}loadHTML(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const e=sb.parse(t,{referenceElement:this.element}).getDocument();return this.loadDocument(e)}loadJSON(t){let{document:e,selectedRange:i}=t;return e=Qy.fromJSON(e),this.loadSnapshot({document:e,selectedRange:i})}loadSnapshot(t){return this.undoManager=new Eb(this.composition),this.composition.loadSnapshot(t)}getDocument(){return this.composition.document}getSelectedDocument(){return this.composition.getSelectedDocument()}getSnapshot(){return this.composition.getSnapshot()}toJSON(){return this.getSnapshot()}deleteInDirection(t){return this.composition.deleteInDirection(t)}insertAttachment(t){return this.composition.insertAttachment(t)}insertAttachments(t){return this.composition.insertAttachments(t)}insertDocument(t){return this.composition.insertDocument(t)}insertFile(t){return this.composition.insertFile(t)}insertFiles(t){return this.composition.insertFiles(t)}insertHTML(t){return this.composition.insertHTML(t)}insertString(t){return this.composition.insertString(t)}insertText(t){return this.composition.insertText(t)}insertLineBreak(){return this.composition.insertLineBreak()}getSelectedRange(){return this.composition.getSelectedRange()}getPosition(){return this.composition.getPosition()}getClientRectAtPosition(t){const e=this.getDocument().locationRangeFromRange([t,t+1]);return this.selectionManager.getClientRectAtLocationRange(e)}expandSelectionInDirection(t){return this.composition.expandSelectionInDirection(t)}moveCursorInDirection(t){return this.composition.moveCursorInDirection(t)}setSelectedRange(t){return this.composition.setSelectedRange(t)}activateAttribute(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.composition.setCurrentAttribute(t,e)}attributeIsActive(t){return this.composition.hasCurrentAttribute(t)}canActivateAttribute(t){return this.composition.canSetCurrentAttribute(t)}deactivateAttribute(t){return this.composition.removeCurrentAttribute(t)}setHTMLAtributeAtPosition(t,e,i){this.composition.setHTMLAtributeAtPosition(t,e,i)}canDecreaseNestingLevel(){return this.composition.canDecreaseNestingLevel()}canIncreaseNestingLevel(){return this.composition.canIncreaseNestingLevel()}decreaseNestingLevel(){if(this.canDecreaseNestingLevel())return this.composition.decreaseNestingLevel()}increaseNestingLevel(){if(this.canIncreaseNestingLevel())return this.composition.increaseNestingLevel()}canRedo(){return this.undoManager.canRedo()}canUndo(){return this.undoManager.canUndo()}recordUndoEntry(t){let{context:e,consolidatable:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.undoManager.recordUndoEntry(t,{context:e,consolidatable:i})}redo(){if(this.canRedo())return this.undoManager.redo()}undo(){if(this.canUndo())return this.undoManager.undo()}},Lb=class{
constructor(t){this.element=t}findLocationFromContainerAndOffset(t,e){let{strict:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{strict:!0},n=0,r=!1;const o={index:0,offset:0},s=this.findAttachmentElementParentForNode(t);s&&(t=s.parentNode,e=zm(s));const a=Wm(this.element,{usingFilter:jb});for(;a.nextNode();){const s=a.currentNode;if(s===t&&ev(t)){Xm(s)||(o.offset+=e);break}if(s.parentNode===t){if(n++===e)break}else if(!Hm(t,s)&&n>0)break;Ym(s,{strict:i})?(r&&o.index++,o.offset=0,r=!0):o.offset+=Ib(s)}return o}findContainerAndOffsetFromLocation(t){let e,i;if(0===t.index&&0===t.offset){for(e=this.element,i=0;e.firstChild;)if(e=e.firstChild,Jm(e)){i=1;break}return[e,i]}let[n,r]=this.findNodeAndOffsetFromLocation(t);if(n){if(ev(n))0===Ib(n)?(e=n.parentNode.parentNode,i=zm(n.parentNode),Xm(n,{name:"right"})&&i++):(e=n,i=t.offset-r);else{if(e=n.parentNode,!Ym(n.previousSibling)&&!Jm(e))for(;n===e.lastChild&&(n=e,e=e.parentNode,!Jm(e)););i=zm(n),0!==t.offset&&i++}return[e,i]}}findNodeAndOffsetFromLocation(t){let e,i,n=0;for(const r of this.getSignificantNodesForIndex(t.index)){const o=Ib(r);if(t.offset<=n+o)if(ev(r)){if(e=r,i=n,t.offset===i&&Xm(e))break}else e||(e=r,i=n);if(n+=o,n>t.offset)break}return[e,i]}findAttachmentElementParentForNode(t){for(;t&&t!==this.element;){if(Zm(t))return t;t=t.parentNode}}getSignificantNodesForIndex(t){const e=[],i=Wm(this.element,{usingFilter:Pb});let n=!1;for(;i.nextNode();){const o=i.currentNode;var r;if(Gm(o)){if(null!=r?r++:r=0,r===t)n=!0;else if(n)break}else n&&e.push(o)}return e}},Ib=function(t){return t.nodeType===Node.TEXT_NODE?Xm(t)?0:t.textContent.length:"br"===Um(t)||Zm(t)?1:0},Pb=function(t){return Mb(t)===NodeFilter.FILTER_ACCEPT?jb(t):NodeFilter.FILTER_REJECT},Mb=function(t){return tv(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},jb=function(t){return Zm(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},Rb=class{createDOMRangeFromPoint(t){let e,{x:i,y:n}=t;if(document.caretPositionFromPoint){const{offsetNode:t,offset:r}=document.caretPositionFromPoint(i,n);return e=document.createRange(),e.setStart(t,r),e}if(document.caretRangeFromPoint)return document.caretRangeFromPoint(i,n);if(document.body.createTextRange){const t=Yv();try{const t=document.body.createTextRange();t.moveToPoint(i,n),t.select()}catch(t){}return e=Yv(),Gv(t),e}}getClientRectsForDOMRange(t){const e=Array.from(t.getClientRects());return[e[0],e[e.length-1]]}},Fb=class extends lv{constructor(t){super(...arguments),this.didMouseDown=this.didMouseDown.bind(this),this.selectionDidChange=this.selectionDidChange.bind(this),this.element=t,this.locationMapper=new Lb(this.element),this.pointMapper=new Rb,this.lockCount=0,Rm("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}getLocationRange(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!1===t.strict?this.createLocationRangeFromDOMRange(Yv()):t.ignoreLock?this.currentLocationRange:this.lockedLocationRange?this.lockedLocationRange:this.currentLocationRange}setLocationRange(t){if(this.lockedLocationRange)return;t=Hv(t);const e=this.createDOMRangeFromLocationRange(t);e&&(Gv(e),this.updateCurrentLocationRange(t))}setLocationRangeFromPointRange(t){t=Hv(t);const e=this.getLocationAtPoint(t[0]),i=this.getLocationAtPoint(t[1]);this.setLocationRange([e,i])}getClientRectAtLocationRange(t){const e=this.createDOMRangeFromLocationRange(t);if(e)return this.getClientRectsForDOMRange(e)[1]}locationIsCursorTarget(t){const e=Array.from(this.findNodeAndOffsetFromLocation(t))[0];return Xm(e)}lock(){0==this.lockCount++&&(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange())}unlock(){if(0==--this.lockCount){const{lockedLocationRange:t}=this;if(this.lockedLocationRange=null,null!=t)return this.setLocationRange(t)}}clearSelection(){var t;return null===(t=Jv())||void 0===t?void 0:t.removeAllRanges()}selectionIsCollapsed(){var t;return!0===(null===(t=Yv())||void 0===t?void 0:t.collapsed)}selectionIsExpanded(){return!this.selectionIsCollapsed()}createLocationRangeFromDOMRange(t,e){if(null==t||!this.domRangeWithinElement(t))return;const i=this.findLocationFromContainerAndOffset(t.startContainer,t.startOffset,e);if(!i)return;const n=t.collapsed?void 0:this.findLocationFromContainerAndOffset(t.endContainer,t.endOffset,e);return Hv([i,n])}didMouseDown(){return this.pauseTemporarily()}pauseTemporarily(){let t;this.paused=!0;const e=()=>{if(this.paused=!1,clearTimeout(i),Array.from(t).forEach((t=>{t.destroy()})),Hm(document,this.element))return this.selectionDidChange()},i=setTimeout(e,200);t=["mousemove","keydown"].map((t=>Rm(t,{onElement:document,withCallback:e})))}selectionDidChange(){if(!this.paused&&!Vm(this.element))return this.updateCurrentLocationRange()}updateCurrentLocationRange(t){var e,i;if((null!=t?t:t=this.createLocationRangeFromDOMRange(Yv()))&&!qv(t,this.currentLocationRange))return this.currentLocationRange=t,null===(e=this.delegate)||void 0===e||null===(i=e.locationRangeDidChange)||void 0===i?void 0:i.call(e,this.currentLocationRange.slice(0))}createDOMRangeFromLocationRange(t){const e=this.findContainerAndOffsetFromLocation(t[0]),i=zv(t)?e:this.findContainerAndOffsetFromLocation(t[1])||e;if(null!=e&&null!=i){const t=document.createRange();return t.setStart(...Array.from(e||[])),t.setEnd(...Array.from(i||[])),t}}getLocationAtPoint(t){const e=this.createDOMRangeFromPoint(t);var i;if(e)return null===(i=this.createLocationRangeFromDOMRange(e))||void 0===i?void 0:i[0]}domRangeWithinElement(t){return t.collapsed?Hm(this.element,t.startContainer):Hm(this.element,t.startContainer)&&Hm(this.element,t.endContainer)}};Fb.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),Fb.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),Fb.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),Fb.proxyMethod("pointMapper.createDOMRangeFromPoint"),Fb.proxyMethod("pointMapper.getClientRectsForDOMRange");var Bb,Nb=Object.freeze({__proto__:null,Attachment:Py,AttachmentManager:kb,AttachmentPiece:My,Block:Hy,Composition:xb,Document:Qy,Editor:Db,HTMLParser:sb,HTMLSanitizer:ib,LineBreakInsertion:_b,LocationMapper:Lb,ManagedAttachment:wb,Piece:Ly,PointMapper:Rb,SelectionManager:Fb,SplittableList:Ry,StringPiece:jy,Text:Vy,UndoManager:Eb}),Vb=Object.freeze({__proto__:null,ObjectView:gy,AttachmentView:yy,BlockView:Sy,DocumentView:Oy,PieceView:_y,PreviewableAttachmentView:ky,TextView:xy}),{lang:Hb,css:zb,keyNames:qb}=av,Wb=function(t){return function(){const e=t.apply(this,arguments);e.do(),this.undos||(this.undos=[]),this.undos.push(e.undo)}},Ub=class extends lv{constructor(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(...arguments),Wo(this,"makeElementMutable",Wb((()=>({do:()=>{this.element.dataset.trixMutable=!0},undo:()=>delete this.element.dataset.trixMutable})))),Wo(this,"addToolbar",Wb((()=>{const t=Km({tagName:"div",className:zb.attachmentToolbar,data:{trixMutable:!0},childNodes:Km({tagName:"div",className:"trix-button-row",childNodes:Km({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:Km({tagName:"button",className:"trix-button trix-button--remove",textContent:Hb.remove,attributes:{title:Hb.remove},data:{trixAction:"remove"}})})})});return this.attachment.isPreviewable()&&t.appendChild(Km({tagName:"div",className:zb.attachmentMetadataContainer,childNodes:Km({tagName:"span",className:zb.attachmentMetadata,childNodes:[Km({tagName:"span",className:zb.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),Km({tagName:"span",className:zb.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),Rm("click",{onElement:t,withCallback:this.didClickToolbar}),Rm("click",{onElement:t,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),Fm("trix-attachment-before-toolbar",{onElement:this.element,attributes:{toolbar:t,attachment:this.attachment}}),{do:()=>this.element.appendChild(t),undo:()=>qm(t)}}))),Wo(this,"installCaptionEditor",Wb((()=>{const t=Km({tagName:"textarea",className:zb.attachmentCaptionEditor,attributes:{placeholder:Hb.captionPlaceholder},data:{trixMutable:!0}});t.value=this.attachmentPiece.getCaption();const e=t.cloneNode();e.classList.add("trix-autoresize-clone"),e.tabIndex=-1;const i=function(){e.value=t.value,t.style.height=e.scrollHeight+"px"};Rm("input",{onElement:t,withCallback:i}),Rm("input",{onElement:t,withCallback:this.didInputCaption}),Rm("keydown",{onElement:t,withCallback:this.didKeyDownCaption}),Rm("change",{onElement:t,withCallback:this.didChangeCaption}),Rm("blur",{onElement:t,withCallback:this.didBlurCaption});const n=this.element.querySelector("figcaption"),r=n.cloneNode();return{do:()=>{if(n.style.display="none",r.appendChild(t),r.appendChild(e),r.classList.add("".concat(zb.attachmentCaption,"--editing")),n.parentElement.insertBefore(r,n),i(),this.options.editCaption)return Bv((()=>t.focus()))},undo(){qm(r),n.style.display=null}}}))),this.didClickToolbar=this.didClickToolbar.bind(this),this.didClickActionButton=this.didClickActionButton.bind(this),this.didKeyDownCaption=this.didKeyDownCaption.bind(this),this.didInputCaption=this.didInputCaption.bind(this),this.didChangeCaption=this.didChangeCaption.bind(this),this.didBlurCaption=this.didBlurCaption.bind(this),this.attachmentPiece=t,this.element=e,this.container=i,this.options=n,this.attachment=this.attachmentPiece.attachment,"a"===Um(this.element)&&(this.element=this.element.firstChild),this.install()}install(){this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()&&this.installCaptionEditor()}uninstall(){var t;let e=this.undos.pop();for(this.savePendingCaption();e;)e(),e=this.undos.pop();null===(t=this.delegate)||void 0===t||t.didUninstallAttachmentEditor(this)}savePendingCaption(){if(null!=this.pendingCaption){const r=this.pendingCaption;var t,e,i,n;this.pendingCaption=null,r?null===(t=this.delegate)||void 0===t||null===(e=t.attachmentEditorDidRequestUpdatingAttributesForAttachment)||void 0===e||e.call(t,{caption:r},this.attachment):null===(i=this.delegate)||void 0===i||null===(n=i.attachmentEditorDidRequestRemovingAttributeForAttachment)||void 0===n||n.call(i,"caption",this.attachment)}}didClickToolbar(t){return t.preventDefault(),t.stopPropagation()}didClickActionButton(t){var e;if("remove"===t.target.getAttribute("data-trix-action"))return null===(e=this.delegate)||void 0===e?void 0:e.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)}didKeyDownCaption(t){var e,i;if("return"===qb[t.keyCode])return t.preventDefault(),this.savePendingCaption(),null===(e=this.delegate)||void 0===e||null===(i=e.attachmentEditorDidRequestDeselectingAttachment)||void 0===i?void 0:i.call(e,this.attachment)}didInputCaption(t){this.pendingCaption=t.target.value.replace(/\s/g," ").trim()}didChangeCaption(t){return this.savePendingCaption()}didBlurCaption(t){return this.savePendingCaption()}},Kb=class extends lv{constructor(t,e){super(...arguments),this.didFocus=this.didFocus.bind(this),this.didBlur=this.didBlur.bind(this),this.didClickAttachment=this.didClickAttachment.bind(this),this.element=t,this.composition=e,this.documentView=new Oy(this.composition.document,{element:this.element}),Rm("focus",{onElement:this.element,withCallback:this.didFocus}),Rm("blur",{onElement:this.element,withCallback:this.didBlur}),Rm("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),Rm("mousedown",{onElement:this.element,matchingSelector:km,withCallback:this.didClickAttachment}),Rm("click",{onElement:this.element,matchingSelector:"a".concat(km),preventDefault:!0})}didFocus(t){var e;const i=()=>{var t,e;if(!this.focused)return this.focused=!0,null===(t=this.delegate)||void 0===t||null===(e=t.compositionControllerDidFocus)||void 0===e?void 0:e.call(t)};return(null===(e=this.blurPromise)||void 0===e?void 0:e.then(i))||i()}didBlur(t){this.blurPromise=new Promise((t=>Bv((()=>{var e,i;return Vm(this.element)||(this.focused=null,null===(e=this.delegate)||void 0===e||null===(i=e.compositionControllerDidBlur)||void 0===i||i.call(e)),this.blurPromise=null,t()}))))}didClickAttachment(t,e){var i,n;const r=this.findAttachmentForElement(e),o=!!Nm(t.target,{matchingSelector:"figcaption"});return null===(i=this.delegate)||void 0===i||null===(n=i.compositionControllerDidSelectAttachment)||void 0===n?void 0:n.call(i,r,{editCaption:o})}getSerializableElement(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element}render(){var t,e,i,n,r,o;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&(null===(i=this.delegate)||void 0===i||null===(n=i.compositionControllerWillSyncDocumentView)||void 0===n||n.call(i),this.documentView.sync(),null===(r=this.delegate)||void 0===r||null===(o=r.compositionControllerDidSyncDocumentView)||void 0===o||o.call(r)),null===(t=this.delegate)||void 0===t||null===(e=t.compositionControllerDidRender)||void 0===e?void 0:e.call(t)}rerenderViewForObject(t){return this.invalidateViewForObject(t),this.render()}invalidateViewForObject(t){return this.documentView.invalidateViewForObject(t)}isViewCachingEnabled(){return this.documentView.isViewCachingEnabled()}enableViewCaching(){return this.documentView.enableViewCaching()}disableViewCaching(){return this.documentView.disableViewCaching()}refreshViewCache(){return this.documentView.garbageCollectCachedViews()}isEditingAttachment(){return!!this.attachmentEditor}installAttachmentEditorForAttachment(t,e){var i;if((null===(i=this.attachmentEditor)||void 0===i?void 0:i.attachment)===t)return;const n=this.documentView.findElementForObject(t);if(!n)return;this.uninstallAttachmentEditor();const r=this.composition.document.getAttachmentPieceForAttachment(t);this.attachmentEditor=new Ub(r,n,this.element,e),this.attachmentEditor.delegate=this}uninstallAttachmentEditor(){var t;return null===(t=this.attachmentEditor)||void 0===t?void 0:t.uninstall()}didUninstallAttachmentEditor(){return this.attachmentEditor=null,this.render()}attachmentEditorDidRequestUpdatingAttributesForAttachment(t,e){var i,n;return null===(i=this.delegate)||void 0===i||null===(n=i.compositionControllerWillUpdateAttachment)||void 0===n||n.call(i,e),this.composition.updateAttributesForAttachment(t,e)}attachmentEditorDidRequestRemovingAttributeForAttachment(t,e){var i,n;return null===(i=this.delegate)||void 0===i||null===(n=i.compositionControllerWillUpdateAttachment)||void 0===n||n.call(i,e),this.composition.removeAttributeForAttachment(t,e)}attachmentEditorDidRequestRemovalOfAttachment(t){var e,i;return null===(e=this.delegate)||void 0===e||null===(i=e.compositionControllerDidRequestRemovalOfAttachment)||void 0===i?void 0:i.call(e,t)}attachmentEditorDidRequestDeselectingAttachment(t){var e,i;return null===(e=this.delegate)||void 0===e||null===(i=e.compositionControllerDidRequestDeselectingAttachment)||void 0===i?void 0:i.call(e,t)}canSyncDocumentView(){return!this.isEditingAttachment()}findAttachmentForElement(t){return this.composition.document.getAttachmentById(parseInt(t.dataset.trixId,10))}},$b=class extends lv{},Jb="data-trix-mutable",Yb="[".concat(Jb,"]"),Gb={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},Qb=class extends lv{constructor(t){super(t),this.didMutate=this.didMutate.bind(this),this.element=t,this.observer=new window.MutationObserver(this.didMutate),this.start()}start(){return this.reset(),this.observer.observe(this.element,Gb)}stop(){return this.observer.disconnect()}didMutate(t){var e,i;if(this.mutations.push(...Array.from(this.findSignificantMutations(t)||[])),this.mutations.length)return null===(e=this.delegate)||void 0===e||null===(i=e.elementDidMutate)||void 0===i||i.call(e,this.getMutationSummary()),this.reset()}reset(){this.mutations=[]}findSignificantMutations(t){return t.filter((t=>this.mutationIsSignificant(t)))}mutationIsSignificant(t){if(this.nodeIsMutable(t.target))return!1;for(const e of Array.from(this.nodesModifiedByMutation(t)))if(this.nodeIsSignificant(e))return!0;return!1}nodeIsSignificant(t){return t!==this.element&&!this.nodeIsMutable(t)&&!tv(t)}nodeIsMutable(t){return Nm(t,{matchingSelector:Yb})}nodesModifiedByMutation(t){const e=[];switch(t.type){case"attributes":t.attributeName!==Jb&&e.push(t.target);break;case"characterData":e.push(t.target.parentNode),e.push(t.target);break;case"childList":e.push(...Array.from(t.addedNodes||[])),e.push(...Array.from(t.removedNodes||[]))}return e}getMutationSummary(){return this.getTextMutationSummary()}getTextMutationSummary(){const{additions:t,deletions:e}=this.getTextChangesFromCharacterData(),i=this.getTextChangesFromChildList();Array.from(i.additions).forEach((e=>{Array.from(t).includes(e)||t.push(e)})),e.push(...Array.from(i.deletions||[]));const n={},r=t.join("");r&&(n.textAdded=r);const o=e.join("");return o&&(n.textDeleted=o),n}getMutationsByType(t){return Array.from(this.mutations).filter((e=>e.type===t))}getTextChangesFromChildList(){let t,e;const i=[],n=[];return Array.from(this.getMutationsByType("childList")).forEach((t=>{i.push(...Array.from(t.addedNodes||[])),n.push(...Array.from(t.removedNodes||[]))})),0===i.length&&1===n.length&&Gm(n[0])?(t=[],e=["\n"]):(t=Xb(i),e=Xb(n)),{additions:t.filter(((t,i)=>t!==e[i])).map(Zv),deletions:e.filter(((e,i)=>e!==t[i])).map(Zv)}}getTextChangesFromCharacterData(){let t,e;const i=this.getMutationsByType("characterData");if(i.length){const n=i[0],r=i[i.length-1],o=function(t,e){let i,n;return t=hv.box(t),(e=hv.box(e)).length<t.length?[n,i]=iy(t,e):[i,n]=iy(e,t),{added:i,removed:n}}(Zv(n.oldValue),Zv(r.target.data));t=o.added,e=o.removed}return{additions:t?[t]:[],deletions:e?[e]:[]}}},Xb=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const e=[];for(const i of Array.from(t))switch(i.nodeType){case Node.TEXT_NODE:e.push(i.data);break;case Node.ELEMENT_NODE:"br"===Um(i)?e.push("\n"):e.push(...Array.from(Xb(i.childNodes)||[]))}return e},Zb=class extends fy{constructor(t){super(...arguments),this.file=t}perform(t){const e=new FileReader;return e.onerror=()=>t(!1),e.onload=()=>{e.onerror=null;try{e.abort()}catch(t){}return t(!0,this.file)},e.readAsArrayBuffer(this.file)}},tw=class{constructor(t){this.element=t}shouldIgnore(t){return!!Om.samsungAndroid&&(this.previousEvent=this.event,this.event=t,this.checkSamsungKeyboardBuggyModeStart(),this.checkSamsungKeyboardBuggyModeEnd(),this.buggyMode)}checkSamsungKeyboardBuggyModeStart(){this.insertingLongTextAfterUnidentifiedChar()&&ew(this.element.innerText,this.event.data)&&(this.buggyMode=!0,this.event.preventDefault())}checkSamsungKeyboardBuggyModeEnd(){this.buggyMode&&"insertText"!==this.event.inputType&&(this.buggyMode=!1)}insertingLongTextAfterUnidentifiedChar(){var t;return this.isBeforeInputInsertText()&&this.previousEventWasUnidentifiedKeydown()&&(null===(t=this.event.data)||void 0===t?void 0:t.length)>50}isBeforeInputInsertText(){return"beforeinput"===this.event.type&&"insertText"===this.event.inputType}previousEventWasUnidentifiedKeydown(){var t,e;return"keydown"===(null===(t=this.previousEvent)||void 0===t?void 0:t.type)&&"Unidentified"===(null===(e=this.previousEvent)||void 0===e?void 0:e.key)}},ew=(t,e)=>nw(t)===nw(e),iw=new RegExp("(".concat("\ufffc","|").concat(Lm,"|").concat(Im,"|\\s)+"),"g"),nw=t=>t.replace(iw," ").trim(),rw=class extends lv{constructor(t){super(...arguments),this.element=t,this.mutationObserver=new Qb(this.element),this.mutationObserver.delegate=this,this.flakyKeyboardDetector=new tw(this.element);for(const t in this.constructor.events)Rm(t,{onElement:this.element,withCallback:this.handlerFor(t)})}elementDidMutate(t){}editorWillSyncDocumentView(){return this.mutationObserver.stop()}editorDidSyncDocumentView(){return this.mutationObserver.start()}requestRender(){var t,e;return null===(t=this.delegate)||void 0===t||null===(e=t.inputControllerDidRequestRender)||void 0===e?void 0:e.call(t)}requestReparse(){var t,e;return null===(t=this.delegate)||void 0===t||null===(e=t.inputControllerDidRequestReparse)||void 0===e||e.call(t),this.requestRender()}attachFiles(t){const e=Array.from(t).map((t=>new Zb(t)));return Promise.all(e).then((t=>{this.handleInput((function(){var e,i;return null===(e=this.delegate)||void 0===e||e.inputControllerWillAttachFiles(),null===(i=this.responder)||void 0===i||i.insertFiles(t),this.requestRender()}))}))}handlerFor(t){return e=>{e.defaultPrevented||this.handleInput((()=>{if(!Vm(this.element)){if(this.flakyKeyboardDetector.shouldIgnore(e))return;this.eventName=t,this.constructor.events[t].call(this,e)}}))}}handleInput(t){try{var e;null===(e=this.delegate)||void 0===e||e.inputControllerWillHandleInput(),t.call(this)}finally{var i;null===(i=this.delegate)||void 0===i||i.inputControllerDidHandleInput()}}createLinkHTML(t,e){const i=document.createElement("a");return i.href=t,i.textContent=e||t,i.outerHTML}};Wo(rw,"events",{});var{browser:ow,keyNames:sw}=av,aw=0,lw=class extends rw{constructor(){super(...arguments),this.resetInputSummary()}setInputSummary(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.inputSummary.eventName=this.eventName;for(const e in t){const i=t[e];this.inputSummary[e]=i}return this.inputSummary}resetInputSummary(){this.inputSummary={}}reset(){return this.resetInputSummary(),$v.reset()}elementDidMutate(t){var e,i;return this.isComposing()?null===(e=this.delegate)||void 0===e||null===(i=e.inputControllerDidAllowUnhandledInput)||void 0===i?void 0:i.call(e):this.handleInput((function(){return this.mutationIsSignificant(t)&&(this.mutationIsExpected(t)?this.requestRender():this.requestReparse()),this.reset()}))}mutationIsExpected(t){let{textAdded:e,textDeleted:i}=t;if(this.inputSummary.preferDocument)return!0;const n=null!=e?e===this.inputSummary.textAdded:!this.inputSummary.textAdded,r=null!=i?this.inputSummary.didDelete:!this.inputSummary.didDelete,o=["\n"," \n"].includes(e)&&!n,s="\n"===i&&!r;if(o&&!s||s&&!o){const t=this.getSelectedRange();if(t){var a;const i=o?e.replace(/\n$/,"").length||-1:(null==e?void 0:e.length)||1;if(null!==(a=this.responder)&&void 0!==a&&a.positionIsBlockBreak(t[1]+i))return!0}}return n&&r}mutationIsSignificant(t){var e;const i=Object.keys(t).length>0,n=""===(null===(e=this.compositionInput)||void 0===e?void 0:e.getEndData());return i||!n}getCompositionInput(){if(this.isComposing())return this.compositionInput;this.compositionInput=new pw(this)}isComposing(){return this.compositionInput&&!this.compositionInput.isEnded()}deleteInDirection(t,e){var i;return!1!==(null===(i=this.responder)||void 0===i?void 0:i.deleteInDirection(t))?this.setInputSummary({didDelete:!0}):e?(e.preventDefault(),this.requestRender()):void 0}serializeSelectionToDataTransfer(t){var e;if(!function(t){if(null==t||!t.setData)return!1;for(const e in jv){const i=jv[e];try{if(t.setData(e,i),!t.getData(e)===i)return!1}catch(t){return!1}}return!0}(t))return;const i=null===(e=this.responder)||void 0===e?void 0:e.getSelectedDocument().toSerializableDocument();return t.setData("application/x-trix-document",JSON.stringify(i)),t.setData("text/html",Oy.render(i).innerHTML),t.setData("text/plain",i.toString().replace(/\n$/,"")),!0}canAcceptDataTransfer(t){const e={};return Array.from((null==t?void 0:t.types)||[]).forEach((t=>{e[t]=!0})),e.Files||e["application/x-trix-document"]||e["text/html"]||e["text/plain"]}getPastedHTMLUsingHiddenElement(t){const e=this.getSelectedRange(),i={position:"absolute",left:"".concat(window.pageXOffset,"px"),top:"".concat(window.pageYOffset,"px"),opacity:0},n=Km({style:i,tagName:"div",editable:!0});return document.body.appendChild(n),n.focus(),requestAnimationFrame((()=>{const i=n.innerHTML;return qm(n),this.setSelectedRange(e),t(i)}))}};Wo(lw,"events",{keydown(t){this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0;const e=sw[t.keyCode];if(e){var i;let n=this.keys;["ctrl","alt","shift","meta"].forEach((e=>{var i;t["".concat(e,"Key")]&&("ctrl"===e&&(e="control"),n=null===(i=n)||void 0===i?void 0:i[e])})),null!=(null===(i=n)||void 0===i?void 0:i[e])&&(this.setInputSummary({keyName:e}),$v.reset(),n[e].call(this,t))}if(Fv(t)){const e=String.fromCharCode(t.keyCode).toLowerCase();if(e){var n;const i=["alt","shift"].map((e=>{if(t["".concat(e,"Key")])return e})).filter((t=>t));i.push(e),null!==(n=this.delegate)&&void 0!==n&&n.inputControllerDidReceiveKeyboardCommand(i)&&t.preventDefault()}}},keypress(t){if(null!=this.inputSummary.eventName)return;if(t.metaKey)return;if(t.ctrlKey&&!t.altKey)return;const e=dw(t);var i,n;return e?(null===(i=this.delegate)||void 0===i||i.inputControllerWillPerformTyping(),null===(n=this.responder)||void 0===n||n.insertString(e),this.setInputSummary({textAdded:e,didDelete:this.selectionIsExpanded()})):void 0},textInput(t){const{data:e}=t,{textAdded:i}=this.inputSummary;if(i&&i!==e&&i.toUpperCase()===e){var n;const t=this.getSelectedRange();return this.setSelectedRange([t[0],t[1]+i.length]),null===(n=this.responder)||void 0===n||n.insertString(e),this.setInputSummary({textAdded:e}),this.setSelectedRange(t)}},dragenter(t){t.preventDefault()},dragstart(t){var e,i;return this.serializeSelectionToDataTransfer(t.dataTransfer),this.draggedRange=this.getSelectedRange(),null===(e=this.delegate)||void 0===e||null===(i=e.inputControllerDidStartDrag)||void 0===i?void 0:i.call(e)},dragover(t){if(this.draggedRange||this.canAcceptDataTransfer(t.dataTransfer)){t.preventDefault();const n={x:t.clientX,y:t.clientY};var e,i;if(!Vv(n,this.draggingPoint))return this.draggingPoint=n,null===(e=this.delegate)||void 0===e||null===(i=e.inputControllerDidReceiveDragOverPoint)||void 0===i?void 0:i.call(e,this.draggingPoint)}},dragend(t){var e,i;null===(e=this.delegate)||void 0===e||null===(i=e.inputControllerDidCancelDrag)||void 0===i||i.call(e),this.draggedRange=null,this.draggingPoint=null},drop(t){var e,i;t.preventDefault();const n=null===(e=t.dataTransfer)||void 0===e?void 0:e.files,r=t.dataTransfer.getData("application/x-trix-document"),o={x:t.clientX,y:t.clientY};if(null===(i=this.responder)||void 0===i||i.setLocationRangeFromPointRange(o),null!=n&&n.length)this.attachFiles(n);else if(this.draggedRange){var s,a;null===(s=this.delegate)||void 0===s||s.inputControllerWillMoveText(),null===(a=this.responder)||void 0===a||a.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()}else if(r){var l;const t=Qy.fromJSONString(r);null===(l=this.responder)||void 0===l||l.insertDocument(t),this.requestRender()}this.draggedRange=null,this.draggingPoint=null},cut(t){var e,i;if(null!==(e=this.responder)&&void 0!==e&&e.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(t.clipboardData)&&t.preventDefault(),null===(i=this.delegate)||void 0===i||i.inputControllerWillCutText(),this.deleteInDirection("backward"),t.defaultPrevented))return this.requestRender()},copy(t){var e;null!==(e=this.responder)&&void 0!==e&&e.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(t.clipboardData)&&t.preventDefault()},paste(t){const e=t.clipboardData||t.testClipboardData,i={clipboard:e};if(!e||hw(t))return void this.getPastedHTMLUsingHiddenElement((t=>{var e,n,r;return i.type="text/html",i.html=t,null===(e=this.delegate)||void 0===e||e.inputControllerWillPaste(i),null===(n=this.responder)||void 0===n||n.insertHTML(i.html),this.requestRender(),null===(r=this.delegate)||void 0===r?void 0:r.inputControllerDidPaste(i)}));const n=e.getData("URL"),r=e.getData("text/html"),o=e.getData("public.url-name");if(n){var s,a,l;let t;i.type="text/html",t=o?ey(o).trim():n,i.html=this.createLinkHTML(n,t),null===(s=this.delegate)||void 0===s||s.inputControllerWillPaste(i),this.setInputSummary({textAdded:t,didDelete:this.selectionIsExpanded()}),null===(a=this.responder)||void 0===a||a.insertHTML(i.html),this.requestRender(),null===(l=this.delegate)||void 0===l||l.inputControllerDidPaste(i)}else if(Rv(e)){var c,u,d;i.type="text/plain",i.string=e.getData("text/plain"),null===(c=this.delegate)||void 0===c||c.inputControllerWillPaste(i),this.setInputSummary({textAdded:i.string,didDelete:this.selectionIsExpanded()}),null===(u=this.responder)||void 0===u||u.insertString(i.string),this.requestRender(),null===(d=this.delegate)||void 0===d||d.inputControllerDidPaste(i)}else if(r){var h,p,f;i.type="text/html",i.html=r,null===(h=this.delegate)||void 0===h||h.inputControllerWillPaste(i),null===(p=this.responder)||void 0===p||p.insertHTML(i.html),this.requestRender(),null===(f=this.delegate)||void 0===f||f.inputControllerDidPaste(i)}else if(Array.from(e.types).includes("Files")){var g,m;const t=null===(g=e.items)||void 0===g||null===(g=g[0])||void 0===g||null===(m=g.getAsFile)||void 0===m?void 0:m.call(g);if(t){var v,y,b;const e=cw(t);!t.name&&e&&(t.name="pasted-file-".concat(++aw,".").concat(e)),i.type="File",i.file=t,null===(v=this.delegate)||void 0===v||v.inputControllerWillAttachFiles(),null===(y=this.responder)||void 0===y||y.insertFile(i.file),this.requestRender(),null===(b=this.delegate)||void 0===b||b.inputControllerDidPaste(i)}}t.preventDefault()},compositionstart(t){return this.getCompositionInput().start(t.data)},compositionupdate(t){return this.getCompositionInput().update(t.data)},compositionend(t){return this.getCompositionInput().end(t.data)},beforeinput(t){this.inputSummary.didInput=!0},input(t){return this.inputSummary.didInput=!0,t.stopPropagation()}}),Wo(lw,"keys",{backspace(t){var e;return null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},delete(t){var e;return null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},return(t){var e,i;return this.setInputSummary({preferDocument:!0}),null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping(),null===(i=this.responder)||void 0===i?void 0:i.insertLineBreak()},tab(t){var e,i;null!==(e=this.responder)&&void 0!==e&&e.canIncreaseNestingLevel()&&(null===(i=this.responder)||void 0===i||i.increaseNestingLevel(),this.requestRender(),t.preventDefault())},left(t){var e;if(this.selectionIsInCursorTarget())return t.preventDefault(),null===(e=this.responder)||void 0===e?void 0:e.moveCursorInDirection("backward")},right(t){var e;if(this.selectionIsInCursorTarget())return t.preventDefault(),null===(e=this.responder)||void 0===e?void 0:e.moveCursorInDirection("forward")},control:{d(t){var e;return null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},h(t){var e;return null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},o(t){var e,i;return t.preventDefault(),null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping(),null===(i=this.responder)||void 0===i||i.insertString("\n",{updatePosition:!1}),this.requestRender()}},shift:{return(t){var e,i;null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping(),null===(i=this.responder)||void 0===i||i.insertString("\n"),this.requestRender(),t.preventDefault()},tab(t){var e,i;null!==(e=this.responder)&&void 0!==e&&e.canDecreaseNestingLevel()&&(null===(i=this.responder)||void 0===i||i.decreaseNestingLevel(),this.requestRender(),t.preventDefault())},left(t){if(this.selectionIsInCursorTarget())return t.preventDefault(),this.expandSelectionInDirection("backward")},right(t){if(this.selectionIsInCursorTarget())return t.preventDefault(),this.expandSelectionInDirection("forward")}},alt:{backspace(t){var e;return this.setInputSummary({preferDocument:!1}),null===(e=this.delegate)||void 0===e?void 0:e.inputControllerWillPerformTyping()}},meta:{backspace(t){var e;return this.setInputSummary({preferDocument:!1}),null===(e=this.delegate)||void 0===e?void 0:e.inputControllerWillPerformTyping()}}}),lw.proxyMethod("responder?.getSelectedRange"),lw.proxyMethod("responder?.setSelectedRange"),lw.proxyMethod("responder?.expandSelectionInDirection"),lw.proxyMethod("responder?.selectionIsInCursorTarget"),lw.proxyMethod("responder?.selectionIsExpanded");var cw=t=>{var e;return null===(e=t.type)||void 0===e||null===(e=e.match(/\/(\w+)$/))||void 0===e?void 0:e[1]},uw=!(null===(Bb=" ".codePointAt)||void 0===Bb||!Bb.call(" ",0)),dw=function(t){if(t.key&&uw&&t.key.codePointAt(0)===t.keyCode)return t.key;{let e;if(null===t.which?e=t.keyCode:0!==t.which&&0!==t.charCode&&(e=t.charCode),null!=e&&"escape"!==sw[e])return hv.fromCodepoints([e]).toString()}},hw=function(t){const e=t.clipboardData;if(e){if(e.types.includes("text/html")){for(const t of e.types){
const i=/^CorePasteboardFlavorType/.test(t),n=/^dyn\./.test(t)&&e.getData(t);if(i||n)return!0}return!1}{const t=e.types.includes("com.apple.webarchive"),i=e.types.includes("com.apple.flat-rtfd");return t||i}}},pw=class extends lv{constructor(t){super(...arguments),this.inputController=t,this.responder=this.inputController.responder,this.delegate=this.inputController.delegate,this.inputSummary=this.inputController.inputSummary,this.data={}}start(t){var e,i;(this.data.start=t,this.isSignificant())&&("keypress"===this.inputSummary.eventName&&this.inputSummary.textAdded&&(null===(i=this.responder)||void 0===i||i.deleteInDirection("left")),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=null===(e=this.responder)||void 0===e?void 0:e.getSelectedRange())}update(t){if(this.data.update=t,this.isSignificant()){const t=this.selectPlaceholder();t&&(this.forgetPlaceholder(),this.range=t)}}end(t){return this.data.end=t,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping(),null===(i=this.responder)||void 0===i||i.setSelectedRange(this.range),null===(n=this.responder)||void 0===n||n.insertString(this.data.end),null===(r=this.responder)||void 0===r?void 0:r.setSelectedRange(this.range[0]+this.data.end.length)):null!=this.data.start||null!=this.data.update?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset();var e,i,n,r}getEndData(){return this.data.end}isEnded(){return null!=this.getEndData()}isSignificant(){return!ow.composesExistingText||this.inputSummary.didInput}canApplyToDocument(){var t,e;return 0===(null===(t=this.data.start)||void 0===t?void 0:t.length)&&(null===(e=this.data.end)||void 0===e?void 0:e.length)>0&&this.range}};pw.proxyMethod("inputController.setInputSummary"),pw.proxyMethod("inputController.requestRender"),pw.proxyMethod("inputController.requestReparse"),pw.proxyMethod("responder?.selectionIsExpanded"),pw.proxyMethod("responder?.insertPlaceholder"),pw.proxyMethod("responder?.selectPlaceholder"),pw.proxyMethod("responder?.forgetPlaceholder");var fw=class extends rw{constructor(){super(...arguments),this.render=this.render.bind(this)}elementDidMutate(){return this.scheduledRender?this.composing?null===(t=this.delegate)||void 0===t||null===(e=t.inputControllerDidAllowUnhandledInput)||void 0===e?void 0:e.call(t):void 0:this.reparse();var t,e}scheduleRender(){return this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)}render(){var t,e;cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||null===(e=this.delegate)||void 0===e||e.render(),null===(t=this.afterRender)||void 0===t||t.call(this),this.afterRender=null}reparse(){var t;return null===(t=this.delegate)||void 0===t?void 0:t.reparse()}insertString(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;return null===(t=this.delegate)||void 0===t||t.inputControllerWillPerformTyping(),this.withTargetDOMRange((function(){var t;return null===(t=this.responder)||void 0===t?void 0:t.insertString(e,i)}))}toggleAttributeIfSupported(t){var e;if(Sv().includes(t))return null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformFormatting(t),this.withTargetDOMRange((function(){var e;return null===(e=this.responder)||void 0===e?void 0:e.toggleCurrentAttribute(t)}))}activateAttributeIfSupported(t,e){var i;if(Sv().includes(t))return null===(i=this.delegate)||void 0===i||i.inputControllerWillPerformFormatting(t),this.withTargetDOMRange((function(){var i;return null===(i=this.responder)||void 0===i?void 0:i.setCurrentAttribute(t,e)}))}deleteInDirection(t){let{recordUndoEntry:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{recordUndoEntry:!0};var i;e&&(null===(i=this.delegate)||void 0===i||i.inputControllerWillPerformTyping());const n=()=>{var e;return null===(e=this.responder)||void 0===e?void 0:e.deleteInDirection(t)},r=this.getTargetDOMRange({minLength:2});return r?this.withTargetDOMRange(r,n):n()}withTargetDOMRange(t,e){var i;return"function"==typeof t&&(e=t,t=this.getTargetDOMRange()),t?null===(i=this.responder)||void 0===i?void 0:i.withTargetDOMRange(t,e.bind(this)):($v.reset(),e.call(this))}getTargetDOMRange(){var t,e;let{minLength:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{minLength:0};const n=null===(t=(e=this.event).getTargetRanges)||void 0===t?void 0:t.call(e);if(n&&n.length){const t=gw(n[0]);if(0===i||t.toString().length>=i)return t}}withEvent(t,e){let i;this.event=t;try{i=e.call(this)}finally{this.event=null}return i}};Wo(fw,"events",{keydown(t){if(Fv(t)){var e;const i=bw(t);null!==(e=this.delegate)&&void 0!==e&&e.inputControllerDidReceiveKeyboardCommand(i)&&t.preventDefault()}else{let e=t.key;t.altKey&&(e+="+Alt"),t.shiftKey&&(e+="+Shift");const i=this.constructor.keys[e];if(i)return this.withEvent(t,i)}},paste(t){var e;let i;const n=null===(e=t.clipboardData)||void 0===e?void 0:e.getData("URL");return vw(t)?(t.preventDefault(),this.attachFiles(t.clipboardData.files)):yw(t)?(t.preventDefault(),i={type:"text/plain",string:t.clipboardData.getData("text/plain")},null===(r=this.delegate)||void 0===r||r.inputControllerWillPaste(i),null===(o=this.responder)||void 0===o||o.insertString(i.string),this.render(),null===(s=this.delegate)||void 0===s?void 0:s.inputControllerDidPaste(i)):n?(t.preventDefault(),i={type:"text/html",html:this.createLinkHTML(n)},null===(a=this.delegate)||void 0===a||a.inputControllerWillPaste(i),null===(l=this.responder)||void 0===l||l.insertHTML(i.html),this.render(),null===(c=this.delegate)||void 0===c?void 0:c.inputControllerDidPaste(i)):void 0;var r,o,s,a,l,c},beforeinput(t){const e=this.constructor.inputTypes[t.inputType];e&&(this.withEvent(t,e),this.scheduleRender())},input(t){$v.reset()},dragstart(t){var e,i;null!==(e=this.responder)&&void 0!==e&&e.selectionContainsAttachments()&&(t.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:null===(i=this.responder)||void 0===i?void 0:i.getSelectedRange(),point:ww(t)})},dragenter(t){mw(t)&&t.preventDefault()},dragover(t){if(this.dragging){t.preventDefault();const i=ww(t);var e;if(!Vv(i,this.dragging.point))return this.dragging.point=i,null===(e=this.responder)||void 0===e?void 0:e.setLocationRangeFromPointRange(i)}else mw(t)&&t.preventDefault()},drop(t){var e,i;if(this.dragging)return t.preventDefault(),null===(e=this.delegate)||void 0===e||e.inputControllerWillMoveText(),null===(i=this.responder)||void 0===i||i.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender();if(mw(t)){var n;t.preventDefault();const e=ww(t);return null===(n=this.responder)||void 0===n||n.setLocationRangeFromPointRange(e),this.attachFiles(t.dataTransfer.files)}},dragend(){var t;this.dragging&&(null===(t=this.responder)||void 0===t||t.setSelectedRange(this.dragging.range),this.dragging=null)},compositionend(t){this.composing&&(this.composing=!1,Om.recentAndroid||this.scheduleRender())}}),Wo(fw,"keys",{ArrowLeft(){var t,e;if(null!==(t=this.responder)&&void 0!==t&&t.shouldManageMovingCursorInDirection("backward"))return this.event.preventDefault(),null===(e=this.responder)||void 0===e?void 0:e.moveCursorInDirection("backward")},ArrowRight(){var t,e;if(null!==(t=this.responder)&&void 0!==t&&t.shouldManageMovingCursorInDirection("forward"))return this.event.preventDefault(),null===(e=this.responder)||void 0===e?void 0:e.moveCursorInDirection("forward")},Backspace(){var t,e,i;if(null!==(t=this.responder)&&void 0!==t&&t.shouldManageDeletingInDirection("backward"))return this.event.preventDefault(),null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping(),null===(i=this.responder)||void 0===i||i.deleteInDirection("backward"),this.render()},Tab(){var t,e;if(null!==(t=this.responder)&&void 0!==t&&t.canIncreaseNestingLevel())return this.event.preventDefault(),null===(e=this.responder)||void 0===e||e.increaseNestingLevel(),this.render()},"Tab+Shift"(){var t,e;if(null!==(t=this.responder)&&void 0!==t&&t.canDecreaseNestingLevel())return this.event.preventDefault(),null===(e=this.responder)||void 0===e||e.decreaseNestingLevel(),this.render()}}),Wo(fw,"inputTypes",{deleteByComposition(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut(){return this.deleteInDirection("backward")},deleteByDrag(){return this.event.preventDefault(),this.withTargetDOMRange((function(){var t;this.deleteByDragRange=null===(t=this.responder)||void 0===t?void 0:t.getSelectedRange()}))},deleteCompositionText(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent(){return this.deleteInDirection("backward")},deleteContentBackward(){return this.deleteInDirection("backward")},deleteContentForward(){return this.deleteInDirection("forward")},deleteEntireSoftLine(){return this.deleteInDirection("forward")},deleteHardLineBackward(){return this.deleteInDirection("backward")},deleteHardLineForward(){return this.deleteInDirection("forward")},deleteSoftLineBackward(){return this.deleteInDirection("backward")},deleteSoftLineForward(){return this.deleteInDirection("forward")},deleteWordBackward(){return this.deleteInDirection("backward")},deleteWordForward(){return this.deleteInDirection("forward")},formatBackColor(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold(){return this.toggleAttributeIfSupported("bold")},formatFontColor(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent(){var t;if(null!==(t=this.responder)&&void 0!==t&&t.canIncreaseNestingLevel())return this.withTargetDOMRange((function(){var t;return null===(t=this.responder)||void 0===t?void 0:t.increaseNestingLevel()}))},formatItalic(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent(){var t;if(null!==(t=this.responder)&&void 0!==t&&t.canDecreaseNestingLevel())return this.withTargetDOMRange((function(){var t;return null===(t=this.responder)||void 0===t?void 0:t.decreaseNestingLevel()}))},formatRemove(){this.withTargetDOMRange((function(){for(const i in null===(t=this.responder)||void 0===t?void 0:t.getCurrentAttributes()){var t,e;null===(e=this.responder)||void 0===e||e.removeCurrentAttribute(i)}}))},formatSetBlockTextDirection(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough(){return this.toggleAttributeIfSupported("strike")},formatSubscript(){return this.toggleAttributeIfSupported("sub")},formatSuperscript(){return this.toggleAttributeIfSupported("sup")},formatUnderline(){return this.toggleAttributeIfSupported("underline")},historyRedo(){var t;return null===(t=this.delegate)||void 0===t?void 0:t.inputControllerWillPerformRedo()},historyUndo(){var t;return null===(t=this.delegate)||void 0===t?void 0:t.inputControllerWillPerformUndo()},insertCompositionText(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop(){const t=this.deleteByDragRange;var e;if(t)return this.deleteByDragRange=null,null===(e=this.delegate)||void 0===e||e.inputControllerWillMoveText(),this.withTargetDOMRange((function(){var e;return null===(e=this.responder)||void 0===e?void 0:e.moveTextFromRange(t)}))},insertFromPaste(){var t;const{dataTransfer:e}=this.event,i={dataTransfer:e},n=e.getData("URL"),r=e.getData("text/html");if(n){var o;let t;this.event.preventDefault(),i.type="text/html";const r=e.getData("public.url-name");t=r?ey(r).trim():n,i.html=this.createLinkHTML(n,t),null===(o=this.delegate)||void 0===o||o.inputControllerWillPaste(i),this.withTargetDOMRange((function(){var t;return null===(t=this.responder)||void 0===t?void 0:t.insertHTML(i.html)})),this.afterRender=()=>{var t;return null===(t=this.delegate)||void 0===t?void 0:t.inputControllerDidPaste(i)}}else if(Rv(e)){var s;i.type="text/plain",i.string=e.getData("text/plain"),null===(s=this.delegate)||void 0===s||s.inputControllerWillPaste(i),this.withTargetDOMRange((function(){var t;return null===(t=this.responder)||void 0===t?void 0:t.insertString(i.string)})),this.afterRender=()=>{var t;return null===(t=this.delegate)||void 0===t?void 0:t.inputControllerDidPaste(i)}}else if(r){var a;this.event.preventDefault(),i.type="text/html",i.html=r,null===(a=this.delegate)||void 0===a||a.inputControllerWillPaste(i),this.withTargetDOMRange((function(){var t;return null===(t=this.responder)||void 0===t?void 0:t.insertHTML(i.html)})),this.afterRender=()=>{var t;return null===(t=this.delegate)||void 0===t?void 0:t.inputControllerDidPaste(i)}}else if(null!==(t=e.files)&&void 0!==t&&t.length){var l;i.type="File",i.file=e.files[0],null===(l=this.delegate)||void 0===l||l.inputControllerWillPaste(i),this.withTargetDOMRange((function(){var t;return null===(t=this.responder)||void 0===t?void 0:t.insertFile(i.file)})),this.afterRender=()=>{var t;return null===(t=this.delegate)||void 0===t?void 0:t.inputControllerDidPaste(i)}}},insertFromYank(){return this.insertString(this.event.data)},insertLineBreak(){return this.insertString("\n")},insertLink(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList(){return this.toggleAttributeIfSupported("number")},insertParagraph(){var t;return null===(t=this.delegate)||void 0===t||t.inputControllerWillPerformTyping(),this.withTargetDOMRange((function(){var t;return null===(t=this.responder)||void 0===t?void 0:t.insertLineBreak()}))},insertReplacementText(){const t=this.event.dataTransfer.getData("text/plain"),e=this.event.getTargetRanges()[0];this.withTargetDOMRange(e,(()=>{this.insertString(t,{updatePosition:!1})}))},insertText(){var t;return this.insertString(this.event.data||(null===(t=this.event.dataTransfer)||void 0===t?void 0:t.getData("text/plain")))},insertTranspose(){return this.insertString(this.event.data)},insertUnorderedList(){return this.toggleAttributeIfSupported("bullet")}});var gw=function(t){const e=document.createRange();return e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),e},mw=t=>{var e;return Array.from((null===(e=t.dataTransfer)||void 0===e?void 0:e.types)||[]).includes("Files")},vw=function(t){const e=t.clipboardData;if(e)return e.types.includes("Files")&&1===e.types.length&&e.files.length>=1},yw=function(t){const e=t.clipboardData;if(e)return e.types.includes("text/plain")&&1===e.types.length},bw=function(t){const e=[];return t.altKey&&e.push("alt"),t.shiftKey&&e.push("shift"),e.push(t.key),e},ww=t=>({x:t.clientX,y:t.clientY}),kw="[data-trix-attribute]",_w="[data-trix-action]",xw="".concat(kw,", ").concat(_w),Ew="[data-trix-dialog]",Aw="".concat(Ew,"[data-trix-active]"),Sw="".concat(Ew," [data-trix-method]"),Ow="".concat(Ew," [data-trix-input]"),Cw=(t,e)=>(e||(e=Dw(t)),t.querySelector("[data-trix-input][name='".concat(e,"']"))),Tw=t=>t.getAttribute("data-trix-action"),Dw=t=>t.getAttribute("data-trix-attribute")||t.getAttribute("data-trix-dialog-attribute"),Lw=class extends lv{constructor(t){super(t),this.didClickActionButton=this.didClickActionButton.bind(this),this.didClickAttributeButton=this.didClickAttributeButton.bind(this),this.didClickDialogButton=this.didClickDialogButton.bind(this),this.didKeyDownDialogInput=this.didKeyDownDialogInput.bind(this),this.element=t,this.attributes={},this.actions={},this.resetDialogInputs(),Rm("mousedown",{onElement:this.element,matchingSelector:_w,withCallback:this.didClickActionButton}),Rm("mousedown",{onElement:this.element,matchingSelector:kw,withCallback:this.didClickAttributeButton}),Rm("click",{onElement:this.element,matchingSelector:xw,preventDefault:!0}),Rm("click",{onElement:this.element,matchingSelector:Sw,withCallback:this.didClickDialogButton}),Rm("keydown",{onElement:this.element,matchingSelector:Ow,withCallback:this.didKeyDownDialogInput})}didClickActionButton(t,e){var i;null===(i=this.delegate)||void 0===i||i.toolbarDidClickButton(),t.preventDefault();const n=Tw(e);return this.getDialog(n)?this.toggleDialog(n):null===(r=this.delegate)||void 0===r?void 0:r.toolbarDidInvokeAction(n,e);var r}didClickAttributeButton(t,e){var i;null===(i=this.delegate)||void 0===i||i.toolbarDidClickButton(),t.preventDefault();const n=Dw(e);var r;return this.getDialog(n)?this.toggleDialog(n):null===(r=this.delegate)||void 0===r||r.toolbarDidToggleAttribute(n),this.refreshAttributeButtons()}didClickDialogButton(t,e){const i=Nm(e,{matchingSelector:Ew});return this[e.getAttribute("data-trix-method")].call(this,i)}didKeyDownDialogInput(t,e){if(13===t.keyCode){t.preventDefault();const i=e.getAttribute("name"),n=this.getDialog(i);this.setAttribute(n)}if(27===t.keyCode)return t.preventDefault(),this.hideDialog()}updateActions(t){return this.actions=t,this.refreshActionButtons()}refreshActionButtons(){return this.eachActionButton(((t,e)=>{t.disabled=!1===this.actions[e]}))}eachActionButton(t){return Array.from(this.element.querySelectorAll(_w)).map((e=>t(e,Tw(e))))}updateAttributes(t){return this.attributes=t,this.refreshAttributeButtons()}refreshAttributeButtons(){return this.eachAttributeButton(((t,e)=>(t.disabled=!1===this.attributes[e],this.attributes[e]||this.dialogIsVisible(e)?(t.setAttribute("data-trix-active",""),t.classList.add("trix-active")):(t.removeAttribute("data-trix-active"),t.classList.remove("trix-active")))))}eachAttributeButton(t){return Array.from(this.element.querySelectorAll(kw)).map((e=>t(e,Dw(e))))}applyKeyboardCommand(t){const e=JSON.stringify(t.sort());for(const t of Array.from(this.element.querySelectorAll("[data-trix-key]"))){const i=t.getAttribute("data-trix-key").split("+");if(JSON.stringify(i.sort())===e)return Fm("mousedown",{onElement:t}),!0}return!1}dialogIsVisible(t){const e=this.getDialog(t);if(e)return e.hasAttribute("data-trix-active")}toggleDialog(t){return this.dialogIsVisible(t)?this.hideDialog():this.showDialog(t)}showDialog(t){var e,i;this.hideDialog(),null===(e=this.delegate)||void 0===e||e.toolbarWillShowDialog();const n=this.getDialog(t);n.setAttribute("data-trix-active",""),n.classList.add("trix-active"),Array.from(n.querySelectorAll("input[disabled]")).forEach((t=>{t.removeAttribute("disabled")}));const r=Dw(n);if(r){const e=Cw(n,t);e&&(e.value=this.attributes[r]||"",e.select())}return null===(i=this.delegate)||void 0===i?void 0:i.toolbarDidShowDialog(t)}setAttribute(t){const e=Dw(t),i=Cw(t,e);return i.willValidate&&!i.checkValidity()?(i.setAttribute("data-trix-validate",""),i.classList.add("trix-validate"),i.focus()):(null===(n=this.delegate)||void 0===n||n.toolbarDidUpdateAttribute(e,i.value),this.hideDialog());var n}removeAttribute(t){var e;const i=Dw(t);return null===(e=this.delegate)||void 0===e||e.toolbarDidRemoveAttribute(i),this.hideDialog()}hideDialog(){const t=this.element.querySelector(Aw);var e;if(t)return t.removeAttribute("data-trix-active"),t.classList.remove("trix-active"),this.resetDialogInputs(),null===(e=this.delegate)||void 0===e?void 0:e.toolbarDidHideDialog(t.getAttribute("data-trix-dialog"))}resetDialogInputs(){Array.from(this.element.querySelectorAll(Ow)).forEach((t=>{t.setAttribute("disabled","disabled"),t.removeAttribute("data-trix-validate"),t.classList.remove("trix-validate")}))}getDialog(t){return this.element.querySelector("[data-trix-dialog=".concat(t,"]"))}},Iw=class extends $b{constructor(t){let{editorElement:e,document:i,html:n}=t;super(...arguments),this.editorElement=e,this.selectionManager=new Fb(this.editorElement),this.selectionManager.delegate=this,this.composition=new xb,this.composition.delegate=this,this.attachmentManager=new kb(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=2===iv.getLevel()?new fw(this.editorElement):new lw(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new Kb(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new Lw(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new Db(this.composition,this.selectionManager,this.editorElement),i?this.editor.loadDocument(i):this.editor.loadHTML(n)}registerSelectionManager(){return $v.registerSelectionManager(this.selectionManager)}unregisterSelectionManager(){return $v.unregisterSelectionManager(this.selectionManager)}render(){return this.compositionController.render()}reparse(){return this.composition.replaceHTML(this.editorElement.innerHTML)}compositionDidChangeDocument(t){if(this.notifyEditorElement("document-change"),!this.handlingInput)return this.render()}compositionDidChangeCurrentAttributes(t){return this.currentAttributes=t,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})}compositionDidPerformInsertionAtRange(t){this.pasting&&(this.pastedRange=t)}compositionShouldAcceptFile(t){return this.notifyEditorElement("file-accept",{file:t})}compositionDidAddAttachment(t){const e=this.attachmentManager.manageAttachment(t);return this.notifyEditorElement("attachment-add",{attachment:e})}compositionDidEditAttachment(t){this.compositionController.rerenderViewForObject(t);const e=this.attachmentManager.manageAttachment(t);return this.notifyEditorElement("attachment-edit",{attachment:e}),this.notifyEditorElement("change")}compositionDidChangeAttachmentPreviewURL(t){return this.compositionController.invalidateViewForObject(t),this.notifyEditorElement("change")}compositionDidRemoveAttachment(t){const e=this.attachmentManager.unmanageAttachment(t);return this.notifyEditorElement("attachment-remove",{attachment:e})}compositionDidStartEditingAttachment(t,e){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(t),this.compositionController.installAttachmentEditorForAttachment(t,e),this.selectionManager.setLocationRange(this.attachmentLocationRange)}compositionDidStopEditingAttachment(t){this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null}compositionDidRequestChangingSelectionToLocationRange(t){if(!this.loadingSnapshot||this.isFocused())return this.requestedLocationRange=t,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()}compositionWillLoadSnapshot(){this.loadingSnapshot=!0}compositionDidLoadSnapshot(){this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1}getSelectionManager(){return this.selectionManager}attachmentManagerDidRequestRemovalOfAttachment(t){return this.removeAttachment(t)}compositionControllerWillSyncDocumentView(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()}compositionControllerDidSyncDocumentView(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")}compositionControllerDidRender(){this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision}compositionControllerDidFocus(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")}compositionControllerDidBlur(){return this.notifyEditorElement("blur")}compositionControllerDidSelectAttachment(t,e){return this.toolbarController.hideDialog(),this.composition.editAttachment(t,e)}compositionControllerDidRequestDeselectingAttachment(t){const e=this.attachmentLocationRange||this.composition.document.getLocationRangeOfAttachment(t);return this.selectionManager.setLocationRange(e[1])}compositionControllerWillUpdateAttachment(t){return this.editor.recordUndoEntry("Edit Attachment",{context:t.id,consolidatable:!0})}compositionControllerDidRequestRemovalOfAttachment(t){return this.removeAttachment(t)}inputControllerWillHandleInput(){this.handlingInput=!0,this.requestedRender=!1}inputControllerDidRequestRender(){this.requestedRender=!0}inputControllerDidHandleInput(){if(this.handlingInput=!1,this.requestedRender)return this.requestedRender=!1,this.render()}inputControllerDidAllowUnhandledInput(){return this.notifyEditorElement("change")}inputControllerDidRequestReparse(){return this.reparse()}inputControllerWillPerformTyping(){return this.recordTypingUndoEntry()}inputControllerWillPerformFormatting(t){return this.recordFormattingUndoEntry(t)}inputControllerWillCutText(){return this.editor.recordUndoEntry("Cut")}inputControllerWillPaste(t){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:t})}inputControllerDidPaste(t){return t.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:t})}inputControllerWillMoveText(){return this.editor.recordUndoEntry("Move")}inputControllerWillAttachFiles(){return this.editor.recordUndoEntry("Drop Files")}inputControllerWillPerformUndo(){return this.editor.undo()}inputControllerWillPerformRedo(){return this.editor.redo()}inputControllerDidReceiveKeyboardCommand(t){return this.toolbarController.applyKeyboardCommand(t)}inputControllerDidStartDrag(){this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()}inputControllerDidReceiveDragOverPoint(t){return this.selectionManager.setLocationRangeFromPointRange(t)}inputControllerDidCancelDrag(){this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null}locationRangeDidChange(t){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!qv(this.attachmentLocationRange,t)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")}toolbarDidClickButton(){if(!this.getLocationRange())return this.setLocationRange({index:0,offset:0})}toolbarDidInvokeAction(t,e){return this.invokeAction(t,e)}toolbarDidToggleAttribute(t){if(this.recordFormattingUndoEntry(t),this.composition.toggleCurrentAttribute(t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidUpdateAttribute(t,e){if(this.recordFormattingUndoEntry(t),this.composition.setCurrentAttribute(t,e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidRemoveAttribute(t){if(this.recordFormattingUndoEntry(t),this.composition.removeCurrentAttribute(t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarWillShowDialog(t){return this.composition.expandSelectionForEditing(),this.freezeSelection()}toolbarDidShowDialog(t){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:t})}toolbarDidHideDialog(t){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:t})}freezeSelection(){if(!this.selectionFrozen)return this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render()}thawSelection(){if(this.selectionFrozen)return this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()}canInvokeAction(t){return!!this.actionIsExternal(t)||!(null===(e=this.actions[t])||void 0===e||null===(e=e.test)||void 0===e||!e.call(this));var e}invokeAction(t,e){return this.actionIsExternal(t)?this.notifyEditorElement("action-invoke",{actionName:t,invokingElement:e}):null===(i=this.actions[t])||void 0===i||null===(i=i.perform)||void 0===i?void 0:i.call(this);var i}actionIsExternal(t){return/^x-./.test(t)}getCurrentActions(){const t={};for(const e in this.actions)t[e]=this.canInvokeAction(e);return t}updateCurrentActions(){const t=this.getCurrentActions();if(!Vv(t,this.currentActions))return this.currentActions=t,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions})}runEditorFilters(){let t=this.composition.getSnapshot();if(Array.from(this.editor.filters).forEach((e=>{const{document:i,selectedRange:n}=t;t=e.call(this.editor,t)||{},t.document||(t.document=i),t.selectedRange||(t.selectedRange=n)})),e=t,i=this.composition.getSnapshot(),!qv(e.selectedRange,i.selectedRange)||!e.document.isEqualTo(i.document))return this.composition.loadSnapshot(t);var e,i}updateInputElement(){const t=function(t,e){const i=yb[e];if(i)return i(t);throw new Error("unknown content type: ".concat(e))}(this.compositionController.getSerializableElement(),"text/html");return this.editorElement.setInputElementValue(t)}notifyEditorElement(t,e){switch(t){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(t,e)}removeAttachment(t){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(t),this.render()}recordFormattingUndoEntry(t){const e=Ov(t),i=this.selectionManager.getLocationRange();if(e||!zv(i))return this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})}recordTypingUndoEntry(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})}getUndoContext(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return[this.getLocationContext(),this.getTimeContext(),...Array.from(e)]}getLocationContext(){const t=this.selectionManager.getLocationRange();return zv(t)?t[0].index:t}getTimeContext(){return sv.interval>0?Math.floor((new Date).getTime()/sv.interval):0}isFocused(){var t;return this.editorElement===(null===(t=this.editorElement.ownerDocument)||void 0===t?void 0:t.activeElement)}isFocusedInvisibly(){return this.isFocused()&&!this.getLocationRange()}get actions(){return this.constructor.actions}};Wo(Iw,"actions",{undo:{test(){return this.editor.canUndo()},perform(){return this.editor.undo()}},redo:{test(){return this.editor.canRedo()},perform(){return this.editor.redo()}},link:{test(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test(){return this.editor.canIncreaseNestingLevel()},perform(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test(){return this.editor.canDecreaseNestingLevel()},perform(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:()=>!0,perform(){return iv.pickFiles(this.editor.insertFiles)}}}),Iw.proxyMethod("getSelectionManager().setLocationRange"),Iw.proxyMethod("getSelectionManager().getLocationRange");var Pw=Object.freeze({__proto__:null,AttachmentEditorController:Ub,CompositionController:Kb,Controller:$b,EditorController:Iw,InputController:rw,Level0InputController:lw,Level2InputController:fw,ToolbarController:Lw}),Mw=Object.freeze({__proto__:null,MutationObserver:Qb,SelectionChangeObserver:Kv}),jw=Object.freeze({__proto__:null,FileVerificationOperation:Zb,ImagePreloadOperation:Iy});Lv("trix-toolbar","%t {\n  display: block;\n}\n\n%t {\n  white-space: nowrap;\n}\n\n%t [data-trix-dialog] {\n  display: none;\n}\n\n%t [data-trix-dialog][data-trix-active] {\n  display: block;\n}\n\n%t [data-trix-dialog] [data-trix-validate]:invalid {\n  background-color: #ffdddd;\n}");var Rw=class extends HTMLElement{connectedCallback(){""===this.innerHTML&&(this.innerHTML=ov.getDefaultHTML())}},Fw=0,Bw=function(t){if(!t.hasAttribute("contenteditable"))return t.setAttribute("contenteditable",""),function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.times=1,Rm(t,e)}("focus",{onElement:t,withCallback:()=>Nw(t)})},Nw=function(t){return Vw(t),Hw(t)},Vw=function(t){
var e,i;if(null!==(e=(i=document).queryCommandSupported)&&void 0!==e&&e.call(i,"enableObjectResizing"))return document.execCommand("enableObjectResizing",!1,!1),Rm("mscontrolselect",{onElement:t,preventDefault:!0})},Hw=function(){var t,e;if(null!==(t=(e=document).queryCommandSupported)&&void 0!==t&&t.call(e,"DefaultParagraphSeparator")){const{tagName:t}=xm.default;if(["div","p"].includes(t))return document.execCommand("DefaultParagraphSeparator",!1,t)}},zw=Om.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"};Lv("trix-editor","%t {\n    display: block;\n}\n\n%t:empty:not(:focus)::before {\n    content: attr(placeholder);\n    color: graytext;\n    cursor: text;\n    pointer-events: none;\n    white-space: pre-line;\n}\n\n%t a[contenteditable=false] {\n    cursor: text;\n}\n\n%t img {\n    max-width: 100%;\n    height: auto;\n}\n\n%t ".concat(km," figcaption textarea {\n    resize: none;\n}\n\n%t ").concat(km," figcaption textarea.trix-autoresize-clone {\n    position: absolute;\n    left: -9999px;\n    max-height: 0px;\n}\n\n%t ").concat(km," figcaption[data-trix-placeholder]:empty::before {\n    content: attr(data-trix-placeholder);\n    color: graytext;\n}\n\n%t [data-trix-cursor-target] {\n    display: ").concat(zw.display," !important;\n    width: ").concat(zw.width," !important;\n    padding: 0 !important;\n    margin: 0 !important;\n    border: none !important;\n}\n\n%t [data-trix-cursor-target=left] {\n    vertical-align: top !important;\n    margin-left: -1px !important;\n}\n\n%t [data-trix-cursor-target=right] {\n    vertical-align: bottom !important;\n    margin-right: -1px !important;\n}"));var qw=class extends HTMLElement{get trixId(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++Fw),this.trixId)}get labels(){const t=[];this.id&&this.ownerDocument&&t.push(...Array.from(this.ownerDocument.querySelectorAll("label[for='".concat(this.id,"']"))||[]));const e=Nm(this,{matchingSelector:"label"});return e&&[this,null].includes(e.control)&&t.push(e),t}get toolbarElement(){var t;if(this.hasAttribute("toolbar"))return null===(t=this.ownerDocument)||void 0===t?void 0:t.getElementById(this.getAttribute("toolbar"));if(this.parentNode){const t="trix-toolbar-".concat(this.trixId);this.setAttribute("toolbar",t);const e=Km("trix-toolbar",{id:t});return this.parentNode.insertBefore(e,this),e}}get form(){var t;return null===(t=this.inputElement)||void 0===t?void 0:t.form}get inputElement(){var t;if(this.hasAttribute("input"))return null===(t=this.ownerDocument)||void 0===t?void 0:t.getElementById(this.getAttribute("input"));if(this.parentNode){const t="trix-input-".concat(this.trixId);this.setAttribute("input",t);const e=Km("input",{type:"hidden",id:t});return this.parentNode.insertBefore(e,this.nextElementSibling),e}}get editor(){var t;return null===(t=this.editorController)||void 0===t?void 0:t.editor}get name(){var t;return null===(t=this.inputElement)||void 0===t?void 0:t.name}get value(){var t;return null===(t=this.inputElement)||void 0===t?void 0:t.value}set value(t){var e;this.defaultValue=t,null===(e=this.editor)||void 0===e||e.loadHTML(this.defaultValue)}notify(t,e){if(this.editorController)return Fm("trix-".concat(t),{onElement:this,attributes:e})}setInputElementValue(t){this.inputElement&&(this.inputElement.value=t)}connectedCallback(){var t;this.hasAttribute("data-trix-internal")||(Bw(this),(t=this).hasAttribute("role")||t.setAttribute("role","textbox"),function(t){if(t.hasAttribute("aria-label")||t.hasAttribute("aria-labelledby"))return;const e=function(){const e=Array.from(t.labels).map((e=>{if(!e.contains(t))return e.textContent})).filter((t=>t)).join(" ");return e?t.setAttribute("aria-label",e):t.removeAttribute("aria-label")};e(),Rm("focus",{onElement:t,withCallback:e})}(this),this.editorController||(Fm("trix-before-initialize",{onElement:this}),this.editorController=new Iw({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame((()=>Fm("trix-initialize",{onElement:this})))),this.editorController.registerSelectionManager(),this.registerResetListener(),this.registerClickListener(),function(t){!document.querySelector(":focus")&&t.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===t&&t.focus()}(this))}disconnectedCallback(){var t;return null===(t=this.editorController)||void 0===t||t.unregisterSelectionManager(),this.unregisterResetListener(),this.unregisterClickListener()}registerResetListener(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)}unregisterResetListener(){return window.removeEventListener("reset",this.resetListener,!1)}registerClickListener(){return this.clickListener=this.clickBubbled.bind(this),window.addEventListener("click",this.clickListener,!1)}unregisterClickListener(){return window.removeEventListener("click",this.clickListener,!1)}resetBubbled(t){if(!t.defaultPrevented&&t.target===this.form)return this.reset()}clickBubbled(t){if(t.defaultPrevented)return;if(this.contains(t.target))return;const e=Nm(t.target,{matchingSelector:"label"});return e&&Array.from(this.labels).includes(e)?this.focus():void 0}reset(){this.value=this.defaultValue}},Ww={VERSION:wm,config:av,core:bb,models:Nb,views:Vb,controllers:Pw,observers:Mw,operations:jw,elements:Object.freeze({__proto__:null,TrixEditorElement:qw,TrixToolbarElement:Rw}),filters:Object.freeze({__proto__:null,Filter:Ob,attachmentGalleryFilter:Cb})};Object.assign(Ww,Nb),window.Trix=Ww,setTimeout((function(){customElements.get("trix-toolbar")||customElements.define("trix-toolbar",Rw),customElements.get("trix-editor")||customElements.define("trix-editor",qw)}),0)})();